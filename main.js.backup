/*! For license information please see main.ecd93b86.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(Ta){}}return null}var D=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},M=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=M[z],M[z]=null,z--)}function V(e,t){z++,M[z]=e.current,e.current=t}var W,B,H=F(null),q=F(null),K=F(null),G=F(null);function Q(e,t){switch(V(K,t),V(q,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(H),V(H,e)}function Y(){U(H),U(q),U(K)}function X(e){null!==e.memoizedState&&V(G,e);var t=H.current,n=bd(t,e.type);t!==n&&(V(q,e),V(H,n))}function $(e){q.current===e&&(U(H),U(q)),G.current===e&&(U(G),dh._currentValue=j)}function J(e){if(void 0===W)try{throw Error()}catch(Ta){var t=Ta.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",B=-1<Ta.stack.indexOf("\n    at")?" (<anonymous>)":-1<Ta.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+B}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Ta){var r=Ta}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(Ta){return"\nError generating stack: "+Ta.message+"\n"+Ta.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Se(e)/ke|0)|0},Se=Math.log,ke=Math.LN2;var xe=256,Ee=262144,_e=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Ce(r):0!==(s&=a)?i=Ce(s):n||0!==(n=a&~e)&&(i=Ce(n)):0!==(a=r&~o)?i=Ce(a):0!==s?i=Ce(s):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Fe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ue=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Ue,We="__reactProps$"+Ue,Be="__reactContainer$"+Ue,He="__reactEvents$"+Ue,qe="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Qe="__reactMarker$"+Ue;function Ye(e){delete e[Ve],delete e[We],delete e[He],delete e[qe],delete e[Ke]}function Xe(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Ve])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ve]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,dt(t)):null!=n?wt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Dt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,jt=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(s(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Lt||null!==jt)&&(eu(),Lt&&(t=Lt,e=jt,jt=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Vt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Jh){Wt=!1}var Ht=null,qt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=qt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),on=$t(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=$t(sn),ln=$t(f({},sn,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),un=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=$t(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=$t(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],_n=Vt&&"CompositionEvent"in window,Cn=null;Vt&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Vt&&"TextEvent"in window&&!Cn,In=Vt&&(!_n||Cn&&8<Cn&&11>=Cn),An=String.fromCharCode(32),Rn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function jn(e,t,n,r){Lt?jt?jt.push(r):jt=[r]:Lt=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,zn=null;function Fn(e){Xu(e,0)}function Un(e){if(pt(Je(e)))return e}function Vn(e,t){if("change"===e)return t}var Wn=!1;if(Vt){var Bn;if(Vt){var Hn="oninput"in document;if(!Hn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Hn="function"===typeof qn.oninput}Bn=Hn}else Bn=!1;Wn=Bn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),zn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Un(zn)){var t=[];jn(t,zn,e,Ot(e)),Ft(Fn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),zn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(zn)}function Xn(e,t){if("click"===e)return Un(t)}function $n(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Vt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=id(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Sr=mr("transitioncancel"),kr=mr("transitionend"),xr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ir=0,Ar=0;function Rr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var o=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function Nr(e,t,n,r){Tr[Ir++]=e,Tr[Ir++]=t,Tr[Ir++]=n,Tr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Lr(e)}function Dr(e,t){return Nr(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Lr(e){if(50<qc)throw qc=0,Kc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Mr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,i)).elementType=T,e.lanes=o,e;case y:return Br(n.children,i,o,t);case v:a=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=o,e;case x:return(e=zr(13,n,t,i)).elementType=x,e.lanes=o,e;case E:return(e=zr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case w:a=9;break e;case k:a=11;break e;case _:a=14;break e;case C:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function qr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,$r=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Xr++]=Jr,Yr[Xr++]=$r,$r=e,Jr=t}function oi(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var o=32-we(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-we(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function si(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function ai(e){for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(s(519));function mi(e){throw Si(Qr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[We]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)$u(Qu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||mi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!di)return yi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=jd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=jd(e)}else 27===n?(n=ui,Td(e.type)?(e=Ld,Ld=null,ui=e):ui=n):ui=ci?Od(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function wi(){var e=hi;return null!==e&&(null===Nc?Nc=e:Nc.push.apply(Nc,e),hi=null),e}function Si(e){null===hi?hi=[e]:hi.push(e)}var ki=F(null),xi=null,Ei=null;function _i(e,t,n){V(ki,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=ki.current,U(ki)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ti(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Ti(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ai(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){xi=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return Oi(xi,e)}function Di(e,t){return null===xi&&Ni(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(s(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,zi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Li,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&ji(Mi,function(){e.controller.abort()})}var Vi=null,Wi=0,Bi=0,Hi=null;function qi(){if(0===--Wi&&null!==Vi){null!==Hi&&(Hi.status="fulfilled");var e=Vi;Vi=null,Bi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=O.S;O.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vi){var n=Vi=[];Wi=0,Bi=Bu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(qi,qi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=F(null);function Qi(){var e=Gi.current;return null!==e?e:mc.pooledCache}function Yi(e,t){V(Gi,null===t?Gi.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:zi._currentValue,pool:e}}var $i=Error(s(460)),Ji=Error(s(474)),Zi=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw io=t,$i}}function ro(e){try{return(0,e._init)(e._payload)}catch(Ta){if(null!==Ta&&"object"===typeof Ta&&"function"===typeof Ta.then)throw io=Ta,$i;throw Ta}}var io=null;function oo(){if(null===io)throw Error(s(459));var e=io;return io=null,e}function so(e){if(e===$i||e===Zi)throw Error(s(483))}var ao=null,lo=0;function co(e){var t=lo;return lo+=1,null===ao&&(ao=[]),no(ao,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ro(o)===t.type)?(uo(t=i(t,n.props),n),t.return=e,t):(uo(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return uo(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case C:return h(e,t=ro(t),n)}if(D(t)||R(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,co(t),n);if(t.$$typeof===S)return h(e,Di(e,t),n);ho(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case C:return f(e,t,n=ro(n),r)}if(D(n)||R(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===S)return f(e,t,Di(e,n),r);ho(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return p(e,t,n,r=ro(r),i)}if(D(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,co(r),i);if(r.$$typeof===S)return p(e,t,n,Di(t,r),i);ho(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ro(b)===c.type){n(l,c.sibling),uo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Wr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return a(l);case C:return v(l,c,u=ro(u),d)}if(D(u))return function(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),di&&ii(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,m),c}for(d=r(d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,m),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),di&&ii(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return di&&ii(i,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,co(u),d);if(u.$$typeof===S)return v(l,c,Di(l,u),d);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var i=v(e,t,n,r);return ao=null,i}catch(Ta){if(Ta===$i||Ta===Zi)throw Ta;var o=zr(29,Ta,null,e.mode);return o.lanes=r,o.return=e,o}}}var po=fo(!0),mo=fo(!1),go=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return Nr(e,r,t,n),Lr(e)}function So(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ko(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xo=!1;function Eo(){if(xo){if(null!==Hi)throw Hi}}function _o(e,t,n,r){xo=!1;var i=e.updateQueue;go=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===Bi&&(xo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:go=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),_c|=s,e.lanes=s,e.memoizedState=d}}function Co(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function To(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Co(n[e],t)}var Io=F(null),Ao=F(0);function Ro(e,t){V(Ao,e=xc),V(Io,t),xc=e|t.baseLanes}function No(){V(Ao,xc),V(Io,Io.current)}function Po(){xc=Ao.current,U(Io),U(Ao)}var Do=F(null),Oo=null;function Lo(e){var t=e.alternate;V(Uo,1&Uo.current),V(Do,e),null===Oo&&(null===t||null!==Io.current||null!==t.memoizedState)&&(Oo=e)}function jo(e){V(Uo,Uo.current),V(Do,e),null===Oo&&(Oo=e)}function Mo(e){22===e.tag?(V(Uo,Uo.current),V(Do,e),null===Oo&&(Oo=e)):zo()}function zo(){V(Uo,Uo.current),V(Do,Do.current)}function Fo(e){U(Do),Oo===e&&(Oo=null),U(Uo)}var Uo=F(0);function Vo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Dd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=0,Bo=null,Ho=null,qo=null,Ko=!1,Go=!1,Qo=!1,Yo=0,Xo=0,$o=null,Jo=0;function Zo(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,o){return Wo=o,Bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?ga:ya,Qo=!1,o=n(r,i),Qo=!1,Go&&(o=rs(t,n,r,i)),ns(e),o}function ns(e){O.H=ma;var t=null!==Ho&&null!==Ho.next;if(Wo=0,qo=Ho=Bo=null,Ko=!1,Xo=0,$o=null,t)throw Error(s(300));null===e||Oa||null!==(e=e.dependencies)&&Ri(e)&&(Oa=!0)}function rs(e,t,n,r){Bo=e;var i=0;do{if(Go&&($o=null),Xo=0,Go=!1,25<=i)throw Error(s(301));if(i+=1,qo=Ho=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=va,o=t(n,r)}while(Go);return o}function is(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Ho?Ho.memoizedState:null)!==e&&(Bo.flags|=1024),t}function os(){var e=0!==Yo;return Yo=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function as(e){if(Ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ko=!1}Wo=0,qo=Ho=Bo=null,Go=!1,Xo=Yo=0,$o=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Bo.memoizedState=qo=e:qo=qo.next=e,qo}function cs(){if(null===Ho){var e=Bo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===qo?Bo.memoizedState:qo.next;if(null!==t)qo=t,Ho=e;else{if(null===e){if(null===Bo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===qo?Bo.memoizedState=qo=e:qo=qo.next=e}return qo}function us(e){var t=Xo;return Xo+=1,null===$o&&($o=[]),e=no($o,e,t),t=Bo,null===(null===qo?t.memoizedState:qo.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?ga:ya),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===S)return Pi(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=Bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){return ms(cs(),Ho,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Wo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bi&&(d=!0);else{if((Wo&f)===f){u=u.next,f===Bi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Bo.lanes|=f,_c|=f}h=u.action,Qo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,Bo.lanes|=h,_c|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(Oa=!0,d&&null!==(n=Hi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jn(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ys(e,t,n){var r=Bo,i=cs(),o=di;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((Ho||i).memoizedState,n);if(a&&(i.memoizedState=n,Oa=!0),i=i.queue,Ws(ws.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==qo&&1&qo.memoizedState.tag){if(r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),null===mc)throw Error(s(349));o||0!==(127&Wo)||vs(r,t,n)}return n}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,Ss(t)&&ks(e)}function ws(e,t,n){return n(function(){Ss(t)&&ks(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ks(e){var t=Dr(e,2);null!==t&&Yc(t,e,2)}function xs(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Qo){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Es(e,t,n,r){return e.baseState=n,ms(e,Ho,"function"===typeof r?r:fs)}function _s(e,t,n,r,i){if(ha(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Cs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Cs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=O.T,s={};O.T=s;try{var a=n(i,r),l=O.S;null!==l&&l(s,a),Ts(e,t,a)}catch(c){As(e,t,c)}finally{null!==o&&null!==s.types&&(o.types=s.types),O.T=o}}else try{Ts(e,t,o=n(i,r))}catch(u){As(e,t,u)}}function Ts(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Is(e,t,n)},function(n){return As(e,t,n)}):Is(e,t,n)}function Is(e,t,n){t.status="fulfilled",t.value=n,Rs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Cs(e,n)))}function As(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Rs(t),t=t.next}while(t!==r)}e.action=null}function Rs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ns(e,t){return t}function Ps(e,t){if(di){var n=mc.formState;if(null!==n){e:{var r=Bo;if(di){if(ui){t:{for(var i=ui,o=fi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Od(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ui=Od(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},n.queue=r,n=ca.bind(null,Bo,r),r.dispatch=n,r=xs(!1),o=da.bind(null,Bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=_s.bind(null,Bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ds(e){return Os(cs(),Ho,e)}function Os(e,t,n){if(t=ms(e,t,Ns)[0],e=ps(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(Ta){if(Ta===$i)throw Zi;throw Ta}else r=t;var i=(t=cs()).queue,o=i.dispatch;return n!==t.memoizedState&&(Bo.flags|=2048,Ms(9,{destroy:void 0},Ls.bind(null,i,n),null)),[r,o,e]}function Ls(e,t){e.action=t}function js(e){var t=cs(),n=Ho;if(null!==n)return Os(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return cs().memoizedState}function Fs(e,t,n,r){var i=ls();Bo.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Ho&&null!==r&&es(r,Ho.memoizedState.deps)?i.memoizedState=Ms(t,o,n,r):(Bo.flags|=e,i.memoizedState=Ms(1|t,o,n,r))}function Vs(e,t){Fs(8390656,8,e,t)}function Ws(e,t){Us(2048,8,e,t)}function Bs(e){var t=cs().memoizedState;return function(e){Bo.flags|=4;var t=Bo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Us(4,2,e,t)}function qs(e,t){return Us(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Qo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $s(e,t,n){return void 0===n||0!==(1073741824&Wo)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Bo.lanes|=e,_c|=e,n)}function Js(e,t,n,r){return Jn(n,t)?n:null!==Io.current?(e=$s(e,n,r),Jn(e,t)||(Oa=!0),e):0===(42&Wo)||0!==(1073741824&Wo)&&0===(261930&yc)?(Oa=!0,e.memoizedState=n):(e=Qc(),Bo.lanes|=e,_c|=e,t)}function Zs(e,t,n,r,i){var o=L.p;L.p=0!==o&&8>o?o:8;var s=O.T,a={};O.T=a,da(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else ua(e,t,r,Gc())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{L.p=o,null!==s&&null!==a.types&&(s.types=a.types),O.T=s}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=na(e).queue;Zs(e,i,t,j,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Gc())}function ia(){return Pi(dh)}function oa(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=wo(t,e=bo(n),n);return null!==r&&(Yc(r,t,n),So(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?fa(t,n):null!==(n=Pr(e,t,n,r))&&(Yc(n,e,r),pa(n,t,r))}function ca(e,t,n){ua(e,t,n,Gc())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))fa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s))return Nr(e,t,i,0),null===mc&&Rr(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Yc(n,e,r),pa(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Yc(t,e,2)}function ha(e){var t=e.alternate;return e===Bo||null!==t&&t===Bo}function fa(e,t){Go=Ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var ma={readContext:Pi,use:ds,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};ma.useEffectEvent=Zo;var ga={readContext:Pi,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){Fs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Qo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Qo){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=xs(e)).queue,n=ca.bind(null,Bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return $s(ls(),e,t)},useTransition:function(){var e=xs(!1);return e=Zs.bind(null,Bo,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bo,i=ls();if(di){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&yc)||vs(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vs(ws.bind(null,r,o,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,o,n,t),null),n},useId:function(){var e=ls(),t=mc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Yo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Ps,useActionState:Ps,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,Bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,Bo)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Pi,use:ds,useCallback:Ys,useContext:Pi,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:qs,useMemo:Xs,useReducer:ps,useRef:zs,useState:function(){return ps(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){return Js(cs(),Ho.memoizedState,e,t)},useTransition:function(){var e=ps(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:ys,useId:oa,useHostTransitionStatus:ia,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){return Es(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:sa};ya.useEffectEvent=Bs;var va={readContext:Pi,use:ds,useCallback:Ys,useContext:Pi,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:qs,useMemo:Xs,useReducer:gs,useRef:zs,useState:function(){return gs(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=cs();return null===Ho?$s(n,e,t):Js(n,Ho.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:ys,useId:oa,useHostTransitionStatus:ia,useFormState:js,useActionState:js,useOptimistic:function(e,t){var n=cs();return null!==Ho?Es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:sa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=Bs;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wo(e,i,r))&&(Yc(t,e,r),So(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wo(e,i,r))&&(Yc(t,e,r),So(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=bo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wo(e,r,n))&&(Yc(t,e,n),So(t,e,n))}};function Sa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,o))}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ea(e){Cr(e)}function _a(e){console.error(e)}function Ca(e){Cr(e)}function Ia(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Aa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ra(e,t,n){return(n=bo(n)).tag=3,n.payload={element:null},n.callback=function(){Ia(e,t)},n}function Na(e){return(e=bo(e)).tag=3,e}function Pa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Aa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Aa(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Da=Error(s(461)),Oa=!1;function La(e,t,n,r){t.child=null===e?mo(t,null,n,r):po(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ni(t),r=ts(e,t,n,s,o,i),a=os(),null===e||Oa?(di&&a&&si(t),t.flags|=1,La(e,t,r,i),t.child):(ss(e,t,i),ol(e,t,i))}function Ma(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,za(e,t,o,r,i))}if(o=e.child,!sl(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return ol(e,t,i)}return t.flags|=1,(e=Ur(o,r)).ref=t.ref,e.return=t,t.child=e}function za(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Oa=!1,t.pendingProps=r=o,!sl(e,i))return t.lanes=e.lanes,ol(e,t,i);0!==(131072&e.flags)&&(Oa=!0)}}return qa(e,t,n,r,i)}function Fa(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return Va(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Va(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==o?o.cachePool:null),null!==o?Ro(t,o):No(),Mo(t)}else null!==o?(Yi(0,o.cachePool),Ro(t,o),zo(),t.memoizedState=null):(null!==e&&Yi(0,null),No(),zo());return La(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Va(e,t,n,r,i){var o=Qi();return o=null===o?null:{parent:zi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Yi(0,null),No(),Mo(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function Wa(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ba(e,t,n){return po(t,e.child,null,n),(e=Wa(t,t.pendingProps)).flags|=2,Fo(t),t.memoizedState=null,e}function Ha(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qa(e,t,n,r,i){return Ni(t),n=ts(e,t,n,r,void 0,i),r=os(),null===e||Oa?(di&&r&&si(t),t.flags|=1,La(e,t,n,i),t.child):(ss(e,t,i),ol(e,t,i))}function Ka(e,t,n,r,i,o){return Ni(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=os(),null===e||Oa?(di&&r&&si(t),t.flags|=1,La(e,t,n,o),t.child):(ss(e,t,o),ol(e,t,o))}function Ga(e,t,n,r,i){if(Ni(t),null===t.stateNode){var o=jr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Pi(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=wa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},yo(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Pi(s):jr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ba(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&wa.enqueueReplaceState(o,o.state,null),_o(t,r,o,i),Eo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=xa(n,a);o.props=l;var c=o.context,u=n.contextType;s=jr,"object"===typeof u&&null!==u&&(s=Pi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ka(t,o,r,s),go=!1;var h=t.memoizedState;o.state=h,_o(t,r,o,i),Eo(),c=t.memoizedState,a||h!==c||go?("function"===typeof d&&(ba(t,n,d,r),c=t.memoizedState),(l=go||Sa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=xa(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Pi(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ka(t,o,r,l),go=!1,h=t.memoizedState,o.state=h,_o(t,r,o,i),Eo();var f=t.memoizedState;s!==d||h!==f||go||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),f=t.memoizedState),(u=go||Sa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ha(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=po(t,e.child,null,i),t.child=po(t,null,n,i)):La(e,t,n,i),t.memoizedState=o.state,e=t.child):e=ol(e,t,i),e}function Qa(e,t,n,r){return bi(),t.flags|=256,La(e,t,n,r),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xa(e){return{baseLanes:e,cachePool:Xi()}}function $a(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ic),e}function Ja(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Uo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(o?Lo(t):zo(),(e=ui)?null!==(e=null!==(e=Nd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Dd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(zo(),l=el({mode:"hidden",children:l},o=t.mode),i=Br(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xa(n),i.childLanes=$a(e,r,n),t.memoizedState=Ya,Ua(null,i)):(Lo(t),Za(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Lo(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(zo(),t.child=e.child,t.flags|=128,t=null):(zo(),l=i.fallback,o=t.mode,i=el({mode:"visible",children:i.children},o),(l=Br(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,po(t,e.child,null,n),(i=t.child).memoizedState=Xa(n),i.childLanes=$a(e,r,n),t.memoizedState=Ya,t=Ua(null,i));else if(Lo(t),Dd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,Si({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Oa||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Oa||r){if(null!==(r=mc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Dr(e,i),Yc(r,e,i),Da;Pd(l)||au(),t=tl(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Od(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Za(t,i.children)).flags|=4096);return t}return o?(zo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=Ur(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=Br(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xa(n):(null!==(o=l.cachePool)?(c=zi._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Xi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=$a(e,r,n),t.memoizedState=Ya,Ua(e.child,i)):(Lo(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Za(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return po(t,e.child,null,n),(e=Za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function rl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=Uo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,V(Uo,s),La(e,t,r,n),r=di?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,o,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ri(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oa=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Oa=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_i(0,zi,e.memoizedState.cache),bi();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,jo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Lo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Lo(t),null!==(e=ol(e,t,n))?e.sibling:null);Lo(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(Uo,Uo.current),r)break;return null;case 22:return t.lanes=0,Fa(e,t,n,t.pendingProps);case 24:_i(0,zi,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);Oa=0!==(131072&e.flags)}else Oa=!1,di&&0!==(1048576&t.flags)&&oi(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=ja(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Ma(null,t,e,r,n);break e}}throw t=P(e)||e,Error(s(306,t,""))}Fr(e)?(r=xa(e,r),t.tag=1,t=Ga(null,t,e,r,n)):(t.tag=0,t=qa(null,t,e,r,n))}return t;case 0:return qa(e,t,t.type,t.pendingProps,n);case 1:return Ga(e,t,r=t.type,i=xa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,vo(e,t),_o(t,r,null,n);var a=t.memoizedState;if(r=a.cache,_i(0,zi,r),r!==o.cache&&Ii(t,[zi],n,!0),Eo(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Qa(e,t,r,n);break e}if(r!==i){Si(i=Qr(Error(s(424)),t)),t=Qa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Od(e.firstChild),ci=t,di=!0,hi=null,fi=!0,n=mo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=ol(e,t,n);break e}La(e,t,r,n)}t=t.child}return t;case 26:return Ha(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yd(K.current).createElement(n))[Ve]=t,r[We]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&di&&(r=t.stateNode=zd(t.type,t.pendingProps,K.current),ci=t,fi=!0,i=ui,Td(t.type)?(Ld=i,ui=Od(r.firstChild)):ui=i),La(e,t,t.pendingProps.children,n),Ha(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Od(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),X(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,wd(i,o)?r=null:null!==a&&wd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),dh._currentValue=i),Ha(e,t),La(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Ja(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=po(t,null,r,n):La(e,t,r,n),t.child;case 11:return ja(e,t,t.type,t.pendingProps,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),La(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ni(t),r=r(i=Pi(i)),t.flags|=1,La(e,t,r,n),t.child;case 14:return Ma(e,t,t.type,t.pendingProps,n);case 15:return za(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Wa(t,r),t.lanes=536870912,Ua(null,e);if(jo(t),(e=ui)?null!==(e=null!==(e=Nd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Wa(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(jo(t),i)if(256&t.flags)t.flags&=-257,t=Ba(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Oa||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Oa||i){if(null!==(r=mc)&&0!==(a=Le(r,n))&&a!==o.retryLane)throw o.retryLane=a,Dr(e,a),Yc(r,e,a),Da;au(),t=Ba(e,t,n)}else e=o.treeContext,ui=Od(a.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Wa(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fa(e,t,n,t.pendingProps);case 24:return Ni(t),r=Pi(zi),null===e?(null===(i=Qi())&&(i=mc,o=Fi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},yo(t),_i(0,zi,i)):(0!==(e.lanes&n)&&(vo(e,t),_o(t,null,null,n),Eo()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,zi,r)):(r=o.cache,_i(0,zi,r),r!==i.cache&&Ii(t,[zi],n,!0))),La(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw io=eo,Ji;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!iu())throw io=eo,Ji;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,Ac|=t)}function hl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(zi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),fl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(ll(t),null!==o?(fl(t),ul(t,o)):(fl(t),cl(t,i,0,0,n))):o?o!==e.memoizedState?(ll(t),fl(t),ul(t,o)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if($(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=H.current,vi(t)?gi(t):(e=zd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(o=H.current,vi(t))gi(t);else{var a=yd(K.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Ve]=t,o[We]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(fd(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||mi(t,!0)}else(e=yd(e).createTextNode(r))[Ve]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ve]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fo(t),t):(Fo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ve]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fo(t),t):(Fo(t),null)}return Fo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(U(Uo),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)hl(r,!1);else{if(0!==Ec||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Vo(e))){for(t.flags|=128,hl(r,!1),e=o.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(Uo,1&Uo.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Lc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Vo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!di)return fl(t),null}else 2*le()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Uo.current,V(Uo,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Fo(t),Po(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(zi),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(zi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Fo(t),null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Uo),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return Fo(t),Po(),null!==e&&U(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(zi),null;default:return null}}function gl(e,t){switch(ai(t),t.tag){case 3:Ci(zi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fo(t);break;case 13:Fo(t);break;case 19:U(Uo);break;case 10:Ci(t.type);break;case 22:case 23:Fo(t),Po(),null!==e&&U(Gi);break;case 24:Ci(zi)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){Eu(t,t.return,a)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){Eu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){Eu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{To(t,n)}catch(r){Eu(e,e.return,r)}}}function wl(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Eu(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Eu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){Eu(e,t,o)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Eu(e,e.return,i)}}function El(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||dd(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&dd(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?St(e,!!n,f,!1):!!r!==!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&dd(e,t,a,i,r,o)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[We]=t}catch(i){Eu(e,e.return,i)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Ve]=e,t[We]=n}catch(o){Eu(e,e.return,o)}}var Rl=!1,Nl=!1,Pl=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Ol=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&yl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Eu(n,n.return,s)}else{var i=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Eu(n,n.return,a)}}64&r&&bl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{To(e,t)}catch(s){Eu(n,n.return,s)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Yl(e,n),null===t&&4&r&&xl(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Vl(e,n);break;case 13:Yl(e,n),4&r&&Wl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Iu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||Nl,i=Rl;var o=Nl;Rl=r,(Nl=t)&&!o?$l(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Rl=i,Nl=o}break;case 30:break;default:Yl(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,zl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Nl||kl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nl||kl(n,t);var r=Ml,i=zl;Td(n.type)&&(Ml=n.stateNode,zl=!1),Fl(e,t,n),Fd(n.stateNode),Ml=r,zl=i;break;case 5:Nl||kl(n,t);case 6:if(r=Ml,i=zl,Ml=null,Fl(e,t,n),zl=i,null!==(Ml=r))if(zl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(s){Eu(n,t,s)}else try{Ml.removeChild(n.stateNode)}catch(s){Eu(n,t,s)}break;case 18:null!==Ml&&(zl?(Id(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Id(Ml,n.stateNode));break;case 4:r=Ml,i=zl,Ml=n.stateNode.containerInfo,zl=!0,Fl(e,t,n),Ml=r,zl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Nl||vl(4,n,t),Fl(e,t,n);break;case 1:Nl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Nl=(r=Nl)||null!==n.memoizedState,Fl(e,t,n),Nl=r;break;default:Fl(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(n){Eu(t,t.return,n)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(n){Eu(t,t.return,n)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Au.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ml=l.stateNode,zl=!1;break e}break;case 5:Ml=l.stateNode,zl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));Ul(o,a,i),Ml=null,zl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var ql=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Nl||null===n||kl(n,n.return)),64&r&&Rl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=ql;if(Hl(t,e),Gl(e),512&r&&(Nl||null===n||kl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Qe]||o[Ve]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),fd(o,r,n),o[Ve]=e,et(o),r=o;break e;case"link":var a=rh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fd(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fd(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Ve]=e,et(o),r=o}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?ih(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Nl||null===n||kl(n,n.return)),null!==n&&4&r&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Nl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Eu(e,e.return,m)}}4&r&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Eu(e,e.return,m)}}break;case 3:if(nh=null,i=ql,ql=Wd(t.containerInfo),Hl(t,e),ql=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(m){Eu(e,e.return,m)}Pl&&(Pl=!1,Ql(e));break;case 4:r=ql,ql=Wd(e.stateNode.containerInfo),Hl(t,e),Gl(e),ql=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Dc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Rl,d=Nl;if(Rl=u||i,Nl=d||c,Hl(t,e),Nl=d,Rl=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Rl||Nl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Eu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Eu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ad(p,!0):Ad(c.stateNode,!1)}catch(m){Eu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Il(e,Cl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(Et(o,""),n.flags&=-33),Il(e,Cl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Tl(e,Cl(e),a);break;default:throw Error(s(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:Fd(t.stateNode);case 26:case 5:kl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:$l(i,o,n),yl(4,o);break;case 1:if($l(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Co(l[i],a)}catch(c){Eu(r,r.return,c)}}n&&64&s&&bl(o),Sl(o,o.return);break;case 27:Al(o);case 26:case 5:$l(i,o,n),n&&null===r&&4&s&&xl(o),Sl(o,o.return);break;case 12:$l(i,o,n);break;case 31:$l(i,o,n),n&&4&s&&Vl(i,o);break;case 13:$l(i,o,n),n&&4&s&&Wl(i,o);break;case 22:null===o.memoizedState&&$l(i,o,n),Sl(o,o.return);break;case 30:break;default:$l(i,o,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?ec(e,t,n,r):rc(e,t):2&o._visibility?ec(e,t,n,r):(o._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(o,s,a,l,i),yl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(o,s,a,l,i):rc(o,s):(u._visibility|=2,nc(o,s,a,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:nc(o,s,a,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:nc(o,s,a,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function oc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),o=t.querySelector(Qd(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Yd(r),(i=Ud.get(i))&&eh(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,ql,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=ql;ql=Wd(e.stateNode.containerInfo),oc(e,t,n),ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,oc(e,t,n),ic=r):oc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var i=(r=Ol).sibling,o=r.return;if(jl(r),r===n){Ol=null;break e}if(null!==i){i.return=o,Ol=i;break e}Ol=o}}}var hc={getCacheForType:function(e){var t=Pi(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pi(zi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,wc=!1,Sc=!1,kc=!1,xc=0,Ec=0,_c=0,Cc=0,Tc=0,Ic=0,Ac=0,Rc=null,Nc=null,Pc=!1,Dc=0,Oc=0,Lc=1/0,jc=null,Mc=null,zc=0,Fc=null,Uc=null,Vc=0,Wc=0,Bc=null,Hc=null,qc=0,Kc=null;function Gc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==O.T?Bu():ze()}function Qc(){if(0===Ic)if(0===(536870912&yc)||di){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Ic=e}else Ic=536870912;return null!==(e=Do.current)&&(e.flags|=32),Ic}function Yc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Ic,!1)),Pe(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Cc|=n),4===Ec&&Zc(e,yc,Ic,!1)),ju(e))}function Xc(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=ou(),i=su();mc!==e||yc!==t?(jc=null,Lc=le()+500,nu(e,t)):Sc=Ie(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var o=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,o,1);break;case 2:case 9:if(to(o)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),ju(e)},o.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:to(o)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,o,7));break;case 5:var a=null;switch(gc.tag){case 26:a=gc.memoizedState;case 5:case 27:var l=gc;if(a?oh(a):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,o,5);break;case 6:vc=0,bc=null,fu(e,t,o,6);break;case 8:tu(),Ec=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return Ei=xi=null,O.H=r,O.A=i,pc=n,null!==gc?0:(mc=null,yc=0,Rr(),Ec)}(e,t):lu(e,t,!0),o=r;;){if(0===i){Sc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Jc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,a).flags|=256),2!==(a=lu(l,a,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=o,Cc|=o,i=4;break e}o=Nc,Nc=i,null!==o&&(null===Nc?Nc=o:Nc.push.apply(Nc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Ic,!wc);break e;case 2:Nc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Dc+300-le())){if(Zc(r,t,Ic,!wc),0!==Te(r,0,!0))break e;Vc=t,r.timeoutHandle=kd($c.bind(null,r,n,Nc,jc,Pc,t,Ic,Cc,Ac,wc,o,"Throttled",-0,0),i)}else $c(r,n,Nc,jc,Pc,t,Ic,Cc,Ac,wc,o,null,-0,0)}break}i=lu(e,t,!1),o=!1}ju(e)}function $c(e,t,n,r,i,o,s,a,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&o)===o?Dc-le():(4194048&o)===o?Oc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&pd(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return Vc=o,e.cancelPendingCommit=p(gu.bind(null,e,t,o,n,r,i,s,a,l,u,d,null,h,f)),void Zc(e,o,s,!c)}gu(e,t,o,n,r,i,s,a,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-we(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&De(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else Ei=xi=null,as(e=gc),ao=null,lo=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,tu(),mc=e,gc=n=Ur(e.current,null),yc=t,vc=0,bc=null,wc=!1,Sc=Ie(e,t),kc=!1,Ac=Ic=Tc=Cc=_c=Ec=0,Nc=Rc=null,Pc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),o=1<<i;t|=e[i],r&=~o}return xc=t,Rr(),n}function ru(e,t){Bo=null,O.H=ma,t===$i||t===Zi?(t=oo(),vc=3):t===Ji?(t=oo(),vc=4):vc=t===Da?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Ec=1,Ia(e,Qr(t,e.current)))}function iu(){var e=Do.current;return null===e||((4194048&yc)===yc?null===Oo:((62914560&yc)===yc||0!==(536870912&yc))&&e===Oo)}function ou(){var e=O.H;return O.H=ma,null===e?ma:e}function su(){var e=O.A;return O.A=hc,e}function au(){Ec=4,wc||(4194048&yc)!==yc&&null!==Do.current||(Sc=!0),0===(134217727&_c)&&0===(134217727&Cc)||null===mc||Zc(mc,yc,Ic,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=ou(),o=su();mc===e&&yc===t||(jc=null,nu(e,t)),t=!1;var s=Ec;e:for(;;)try{if(0!==vc&&null!==gc){var a=gc,l=bc;switch(vc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Do.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,a,l,c),n&&Sc){s=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,a,l,c)}}cu(),s=Ec;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ei=xi=null,pc=r,O.H=i,O.A=o,null===gc&&(mc=null,yc=0,Rr()),s}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!se();)du(gc)}function du(e){var t=al(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ka(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ka(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:as(t);default:gl(n,t),t=al(n,t=gc=Vr(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ei=xi=null,as(t),ao=null,lo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Do.current)){switch(n.tag){case 31:case 13:return null===Oo?au():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(s(435,n.tag))}return _u(e,r,i),au(),!1}if(di)return null!==(t=Do.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&Si(Qr(e=Error(s(422),{cause:r}),n))):(r!==pi&&Si(Qr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),ko(e,i=Ra(e.stateNode,r,i)),4!==Ec&&(Ec=2)),!1;var o=Error(s(520),{cause:r});if(o=Qr(o,n),null===Rc?Rc=[o]:Rc.push(o),4!==Ec&&(Ec=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ko(n,e=Ra(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Mc||!Mc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=Na(i),e,n,r),ko(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return Ec=1,Ia(e,Qr(n,e.current)),void(gc=null)}catch(o){if(null!==i)throw gc=i,o;return Ec=1,Ia(e,Qr(n,e.current)),void(gc=null)}32768&t.flags?(di||1===r?e=!0:Sc||0!==(536870912&yc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Do.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,xc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Ec&&(Ec=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Ec=6,gc=null}function gu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{Su()}while(0!==zc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-we(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ar,a,l,c),e===mc&&(gc=mc=null,yc=0),Uc=t,Fc=e,Vc=n,Wc=o,Bc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(o=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=xa(n.type,i);e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Eu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{pc=a,L.p=i,O.T=r}}zc=1,yu(),vu(),bu()}}function yu(){if(1===zc){zc=0;var e=Fc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Kl(t,e);var o=gd,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{pc=i,L.p=r,O.T=n}}e.current=t,zc=2}}function vu(){if(2===zc){zc=0;var e=Fc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Ll(e,t.alternate,t)}finally{pc=i,L.p=r,O.T=n}}zc=3}}function bu(){if(4===zc||3===zc){zc=0,ae();var e=Fc,t=Uc,n=Vc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Uc=Fc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{O.T=t,L.p=i}}0!==(3&Vc)&&Su(),ju(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Kc?qc++:(qc=0,Kc=e):qc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t)))}function Su(){return yu(),vu(),bu(),ku()}function ku(){if(5!==zc)return!1;var e=Fc,t=Wc;Wc=0;var n=Me(Vc),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=Bc,Bc=null;var o=Fc,a=Vc;if(zc=0,Uc=Fc=null,Vc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,cc(o.current),tc(o,o.current,a,n),pc=l,Mu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{L.p=i,O.T=r,wu(e,t)}}function xu(e,t,n){t=Qr(n,t),null!==(e=wo(e,t=Ra(e.stateNode,t,2),2))&&(Pe(e,2),ju(e))}function Eu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Qr(n,e),null!==(r=wo(t,n=Na(2),2))&&(Pa(n,r,t,e),Pe(r,2),ju(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Ec||3===Ec&&(62914560&yc)===yc&&300>le()-Dc?0===(2&pc)&&nu(e,0):Tc|=n,Ac===yc&&(Ac=0)),ju(e)}function Tu(e,t){0===t&&(t=Re()),null!==(e=Dr(e,t))&&(Pe(e,t),ju(e))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}var Ru=null,Nu=null,Pu=!1,Du=!1,Ou=!1,Lu=0;function ju(e){e!==Nu&&null===e.next&&(null===Nu?Ru=Nu=e:Nu=Nu.next=e),Du=!0,Pu||(Pu=!0,_d(function(){0!==(6&pc)?ie(ue,zu):Fu()}))}function Mu(e,t){if(!Ou&&Du){Ou=!0;do{for(var n=!1,r=Ru;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-we(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Wu(r,o))}else o=yc,0===(3&(o=Te(r,r===mc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,o)||(n=!0,Wu(r,o));r=r.next}}while(n);Ou=!1}}function zu(){Fu()}function Fu(){Du=Pu=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sd&&(Sd=e,!0);return Sd=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Ru;null!==r;){var i=r.next,o=Uu(r,t);0===o?(r.next=null,null===n?Ru=i:n.next=i,null===i&&(Nu=n)):(n=r,(0!==e||0!==(3&o))&&(Du=!0)),r=i}0!==zc&&5!==zc||Mu(e,!1),0!==Lu&&(Lu=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-we(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ae(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=yc,n=Te(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Vu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Te(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function Wu(e,t){if(Su())return null;Xc(e,t,!0)}function Bu(){if(0===Lu){var e=Bi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<Er.length;Ku++){var Gu=Er[Ku];_r(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}_r(gr,"onAnimationEnd"),_r(yr,"onAnimationIteration"),_r(vr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(Sr,"onTransitionCancel"),_r(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Cr(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Cr(u)}i.currentTarget=null,o=l}}}}function $u(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Th(t)){case 2:var i=Sh;break;case 8:i=kh;break;default:i=xh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Xe(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Ft(function(){var r=o,i=Ot(n),s=[];e:{var a=xr.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case yr:case vr:c=un;break;case kr:c=Sn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Be])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:Je(c),p=null==u?a:Je(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Xe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=od,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(s,a,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Vn;else if(Ln(a))if(Wn)v=$n;else{v=Yn;var b=Qn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(v=Vn):v=Xn;switch(v&&(v=v(e,r))?jn(s,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(sr=b,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(s,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Dn?Nn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(In&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Dn&&(w=Gt()):(qt="value"in(Ht=i)?Ht.value:Ht.textContent,Dn=!0)),0<(b=id(r,S)).length&&(S=new hn(S,e,null,n,i),s.push({event:S,listeners:b}),w?S.data=w:null!==(w=Pn(n))&&(S.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Rn=!0,An);case"textInput":return(e=t.data)===An&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!_n&&Nn(e,t)?(e=Gt(),Kt=qt=Ht=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:S}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Hu((i[We]||null).action),s=r.submitter;s&&null!==(t=(t=s[We]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=s?qu(i,s):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?qu(i,s):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Xu(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ut(e,n))&&r.unshift(rd(e,i,o)),null!=(i=Ut(e,t))&&r.push(rd(e,i,o))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ut(n,o))&&s.unshift(rd(n,c,l)):i||null!=(c=Ut(n,o))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ad=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(ad,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=At.get(n)||n,r)}}function hd(e,t,n,r,i,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[We]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,a,n,null)}}return o&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,a,o,!1);case"select":for(o in $u("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:dd(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?St(e,!!i,t,!1):null!=n&&St(e,!!i,n,!0));case"textarea":for(a in $u("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,a,l,n,null)}return void xt(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)$u(Qu[i],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,xd="function"===typeof clearTimeout?clearTimeout:void 0,Ed="function"===typeof Promise?Promise:void 0,_d="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ed?function(e){return Ed.resolve(null).then(e).catch(Cd)}:kd;function Cd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Id(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&Fd(e.ownerDocument.body);n=i}while(n);qh(t)}function Ad(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Dd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function jd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Ud=new Map,Vd=new Set;function Wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=L.d;L.d={f:function(){var e=Bd.f(),t=eu();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Bd.r(e)},D:function(e){Bd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var o=i;switch(t){case"style":o=Gd(e);break;case"script":o=Xd(e)}Ud.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(o))||"script"===t&&r.querySelector($d(o))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xd(e)}if(!Ud.has(o)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(o)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Bd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),o=r.get(i);o||((o=n.querySelector($d(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Bd.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,o=Gd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Qd(o)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(o))&&eh(e,n);var l=s=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Bd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),o=r.get(i);o||((o=n.querySelector($d(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&th(e,t),et(o=n.createElement("script")),fd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Hd="undefined"===typeof document?null:document;function qd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Vd.has(i)||(Vd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var i,o,a,l,c=(c=K.current)?Wd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),fd(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gd(e){return'href="'+yt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+yt(e)+'"]'}function $d(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var o=e.querySelector(Qd(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Yd(n),(i=Ud.get(i))&&eh(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fd(o,"link",r),t.state.loading|=4,Zd(o,n.precedence,e),t.instance=o;case"script":return o=Xd(n.src),(i=e.querySelector($d(o)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(o))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Qe]||o[Ve]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,ah.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=ah.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function hh(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,o,s,a,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,a),t=1,!0===o&&(t|=24),o=zr(3,null,null,t),e.current=o,o.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},yo(o),e}function ph(e){return e?e=jr:jr}function mh(e,t,n,r,i,o){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=bo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=wo(e,r,t))&&(Yc(n,0,t),So(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Yc(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Dr(e,t=je(t));null!==n&&Yc(n,0,t),yh(e,t)}}var wh=!0;function Sh(e,t,n,r){var i=O.T;O.T=null;var o=L.p;try{L.p=2,xh(e,t,n,r)}finally{L.p=o,O.T=i}}function kh(e,t,n,r){var i=O.T;O.T=null;var o=L.p;try{L.p=8,xh(e,t,n,r)}finally{L.p=o,O.T=i}}function xh(e,t,n,r){if(wh){var i=Eh(r);if(null===i)nd(e,t,r,_h,n),jh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ah=Mh(Ah,e,t,n,r,i),!0;case"dragenter":return Rh=Mh(Rh,e,t,n,r,i),!0;case"mouseover":return Nh=Mh(Nh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ph.set(o,Mh(Ph.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dh.set(o,Mh(Dh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jh(e,r),4&t&&-1<Lh.indexOf(e)){for(;null!==i;){var o=$e(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ce(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-we(s);a.entanglements[1]|=l,s&=~l}ju(o),0===(6&pc)&&(Lc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(a=Dr(o,2))&&Yc(a,0,2),eu(),yh(o,2)}if(null===(o=Eh(r))&&nd(e,t,r,_h,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Eh(e){return Ch(e=Ot(e))}var _h=null;function Ch(e){if(_h=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _h=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ih=!1,Ah=null,Rh=null,Nh=null,Ph=new Map,Dh=new Map,Oh=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jh(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Rh=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(t.pointerId)}}function Mh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zh(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function Uh(e,t,n){Fh(e)&&n.delete(t)}function Vh(){Ih=!1,null!==Ah&&Fh(Ah)&&(Ah=null),null!==Rh&&Fh(Rh)&&(Rh=null),null!==Nh&&Fh(Nh)&&(Nh=null),Ph.forEach(Uh),Dh.forEach(Uh)}function Wh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ih||(Ih=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vh)))}var Bh=null;function Hh(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Ch(r||n))continue;break}var o=$e(n);null!==o&&(e.splice(t,3),t-=3,ta(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function qh(e){function t(t){return Wh(t,e)}null!==Ah&&Wh(Ah,e),null!==Rh&&Wh(Rh,e),null!==Nh&&Wh(Nh,e),Ph.forEach(t),Dh.forEach(t);for(var n=0;n<Oh.length;n++){var r=Oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Oh.length&&null===(n=Oh[0]).blockedOn;)zh(n),null===n.blockedOn&&Oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[We]||null;if("function"===typeof o)s||Hh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[We]||null)a=s.formAction;else if(null!==Ch(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[Be]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oh.length&&0!==t&&t<Oh[n].priority;n++);Oh.splice(n,0,e),0===n&&zh(e)}};var Yh=i.version;if("19.2.0"!==Yh)throw Error(s(527,Yh,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return d(i),e;if(o===r)return d(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ye=$h.inject(Xh),ve=$h}catch(Zh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Ea,o=_a,l=Ca;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,o,l,Kh),e[Be]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ea,l=_a,c=Ca,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,o,l,c,Kh)).context=ph(null),n=t.current,(i=bo(r=je(r=Gc()))).callback=null,wo(n,i,r),n=r,t.current.lanes=n,Pe(t,n),ju(t),e[Be]=t.current,ed(e),new Qh(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=w.prototype=new b;S.constructor=w,g(S,v.prototype),S.isPureReactComponent=!0;var k=Array.isArray;function x(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function C(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+A(e,0):o,k(s)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),R(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=C(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(k(e))for(var m=0;m<e.length;m++)u+=R(o=e[m],t,i,a=f+A(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=R(o=o.value,t,i,a=f+A(o,m++),s);else if("object"===a){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!_.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return C(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,D)}catch(o){D(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,S(e),!m)if(null!==r(c))m=!0,E||(E=!0,x());else{var t=r(u);null!==t&&P(k,t.startTime-e)}}var x,E=!1,_=-1,C=5,T=-1;function I(){return!!y||!(t.unstable_now()-T<C)}function A(){if(y=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var o=f;try{t:{for(S(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,S(e),n=!0;break t}h===r(c)&&i(c),S(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(k,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?x():E=!1}}}if("function"===typeof w)x=function(){w(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=A,x=function(){N.postMessage(null)}}else x=function(){v(A,0)};function P(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,P(k,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,E||(E=!0,x()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".cdbfb352.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ashramam-fresh:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkashramam_fresh=self.webpackChunkashramam_fresh||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return _(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return k("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function x(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function _(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function h(){a="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,h),l=e,()=>{i.removeEventListener(y,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=k(p.location,e,t);n&&n(r,e),c=d()+1;let u=S(r,c),h=p.createHref(r);try{s.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=k(p.location,e,t);n&&n(r,e),c=d();let i=S(r,c),u=p.createHref(r);s.replaceState(i,"",u),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:x(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return I(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function I(e,t,n,r){let i=B(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let o=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=W(i);s=F(o[a],e,r)}return s}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=Q([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),A(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of R(e.path))o(e,t,!0,r);else o(e,t)}),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=R(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var N=/^:[\w-]+$/,P=3,D=2,O=1,L=10,j=-2,M=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=j),t&&(r+=D),n.filter(e=>!M(e)).reduce((e,t)=>e+(N.test(t)?P:""===t?O:L),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:Q([o,u.pathname]),pathnameBase:Y(Q([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=Q([o,u.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function G(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?E(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:X(r),hash:$(i)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext(!1);var ie=r.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var oe=r.createContext(new Map);oe.displayName="Fetchers";var se=r.createContext(null);se.displayName="Await";var ae=r.createContext(null);ae.displayName="Navigation";var le=r.createContext(null);le.displayName="Location";var ce=r.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function de(){return null!=r.useContext(le)}function he(){return b(de(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){r.useContext(ae).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(ce);return e?function(){let{router:e}=Ee("useNavigate"),t=Ce("useNavigate"),n=r.useRef(!1);pe(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},i)))},[e,t]);return i}():function(){b(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(ae),{matches:i}=r.useContext(ce),{pathname:o}=he(),s=JSON.stringify(K(i)),a=r.useRef(!1);pe(()=>{a.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(a.current,fe),!a.current)return;if("number"===typeof r)return void n.go(r);let l=G(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,s,o,e]);return l}()}r.createContext(null);function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ce),{pathname:i}=he(),o=JSON.stringify(K(n));return r.useMemo(()=>G(e,JSON.parse(o),i,"path"===t),[e,o,i,t])}function ye(e,t,n,i,o){b(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(ae),{matches:a}=r.useContext(ce),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ae(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=he();if(t){var g;let e="string"===typeof t?E(t):t;b("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=T(e,{pathname:v});w(f||null!=S,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),w(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=ke(S&&S.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Q([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Q([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,n,i,o);return t&&k?r.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},k):k}function ve(){let e=Te(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,a)}var be=r.createElement(ve,null),we=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(ce.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Se(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(te);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ce.Provider,{value:t},i)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||be,a&&(l<0&&0===u?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(Se,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?r.createElement(we,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:i}):g()},null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=r.useContext(te);return b(t,xe(e)),t}function _e(e){let t=r.useContext(ne);return b(t,xe(e)),t}function Ce(e){let t=function(e){let t=r.useContext(ce);return b(t,xe(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Te(){var e;let t=r.useContext(ue),n=_e("useRouteError"),i=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ie={};function Ae(e,t,n){t||Ie[e]||(Ie[e]=!0,w(!1,n))}var Re={};function Ne(e,t){e||Re[t]||(Re[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ye(t,void 0,r,i,n)});function Pe(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:n=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;b(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);"string"===typeof i&&(i=E(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=r.useMemo(()=>{let e=B(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:o}},[l,u,d,h,f,p,o]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(ae.Provider,{value:c},r.createElement(le.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return ye(Le(t),n)}r.Component;function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Le(e.props.children,o));b(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Le(e.props.children,o)),n.push(s)}),n}var je="get",Me="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ve(e){return null==e||Ue.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function We(e,t){let n,r,i,o,s;if(ze(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?B(s,t):null,n=e.getAttribute("method")||je,i=Ve(e.getAttribute("enctype"))||Me,o=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?B(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||je,i=Ve(e.getAttribute("formenctype"))||Ve(s.getAttribute("enctype"))||Me,o=new FormData(s,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=je,r=null,i=Me,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function He(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===B(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Xe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ke(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e},[])}function $e(e,t){return"lazy"===e.mode&&!0===t}function Je(){let e=r.useContext(te);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ze(){let e=r.useContext(ne);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=r.createContext(void 0);function tt(){let e=r.useContext(et);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function it(e){let{page:t}=e,n=o(e,h),{router:i}=Je(),s=r.useMemo(()=>T(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?r.createElement(st,u({page:t,matches:s},n)):null}function ot(e){let{manifest:t,routeModules:n}=tt(),[i,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Xe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),i}function st(e){let{page:t,matches:n}=e,i=o(e,f),s=he(),{manifest:a,routeModules:l}=tt(),{basename:c}=Je(),{loaderData:d,matches:h}=Ze(),p=r.useMemo(()=>Qe(t,n,h,a,s,"data"),[t,n,h,a,s]),m=r.useMemo(()=>Qe(t,n,h,a,s,"assets"),[t,n,h,a,s]),g=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=He(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,d,s,a,p,n,t,l]),y=r.useMemo(()=>Ye(m,a),[m,a]),v=ot(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:i.nonce},n))}))}var at=!1;function lt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:l}=tt(),{router:c,static:h,staticContext:f}=Je(),{matches:p}=Ze(),m=r.useContext(re),g=$e(a,l);s&&(s.didRenderScripts=!0);let y=rt(p,null,i);r.useEffect(()=>{at=!0},[]);let v=r.useMemo(()=>{var i;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=h?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Be(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),b=at||m?[]:(w=t.entry.imports.concat(Ye(y,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let S="object"===typeof t.sri?t.sri:{};return Ne(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),at||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:S})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:S[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:S[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:S[t],suppressHydrationWarning:!0})),v)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function ut(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(dt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(dt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function dt(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=tt();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!o?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(lt,null):null)))}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.9.4")}catch(Iy){}function ft(e){let{basename:t,children:n,window:i}=e,o=r.useRef();null==o.current&&(o.current=v({window:i,v5Compat:!0}));let s=o.current,[a,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>s.listen(c),[s,c]),r.createElement(De,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef(function(e,t){let n,{onClick:i,discover:s="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=o(e,p),{basename:S}=r.useContext(ae),k="string"===typeof m&&pt.test(m),E=!1;if("string"===typeof m&&k&&(n=m,ht))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=B(t.pathname,S);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(Iy){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ae),{hash:o,pathname:s,search:a}=ge(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:Q([n,s])),i.createHref({pathname:l,search:a,hash:o})}(m,{relative:l}),[C,T,I]=function(e,t){let n=r.useContext(et),[i,o]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{o(!0)},m=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:nt(l,p),onBlur:nt(c,m),onMouseEnter:nt(u,p),onMouseLeave:nt(d,m),onTouchStart:nt(h,p)}]:[!1,f,{}]}(a,v),A=function(e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=he(),u=ge(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:x(c)===x(u);l(e,{replace:t,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,n,i,t,e,o,s,a])}(m,{replace:d,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});let R=r.createElement("a",u(u(u({},v),I),{},{href:n||_,onClick:E||c?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:ct(t,T),target:f,"data-discover":k||"render"!==s?void 0:"true"}));return C&&!k?r.createElement(r.Fragment,null,R,r.createElement(it,{page:_})):R});mt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:h}=e,f=o(e,m),p=ge(c,{relative:f.relative}),g=he(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(ae),S=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ie);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vt("useViewTransitionState"),o=ge(e,{relative:t});if(!n.isTransitioning)return!1;let s=B(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=B(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=U(o.pathname,a)||null!=U(o.pathname,s)}(p)&&!0===d,k=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,x=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(x=x.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&w&&(E=B(E,w)||E);const _="/"!==k&&k.endsWith("/")?k.length-1:k.length;let C,T=x===k||!a&&x.startsWith(k)&&"/"===x.charAt(_),I=null!=E&&(E===k||!a&&E.startsWith(k)&&"/"===E.charAt(k.length)),A={isActive:T,isPending:I,isTransitioning:S},R=T?n:void 0;C="function"===typeof s?s(A):[s,T?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(A):l;return r.createElement(mt,u(u({},f),{},{"aria-current":R,className:C,ref:t,style:N,to:c,viewTransition:d}),"function"===typeof h?h(A):h)}).displayName="NavLink";var gt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:d=je,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=o(e,g),w=St(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ae),i=r.useContext(ce);b(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=u({},ge(e||".",{relative:t})),a=he();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Q([n,s.pathname]));return x(s)}(h,{relative:p}),k="get"===d.toLowerCase()?"get":"post",E="string"===typeof h&&pt.test(h);return r.createElement("form",u(u({ref:t,method:k,action:S,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=r.useContext(te);return b(t,yt(e)),t}gt.displayName="Form";var bt=0,wt=()=>"__".concat(String(++bt),"__");function St(){let{router:e}=vt("useSubmit"),{basename:t}=r.useContext(ae),n=Ce("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:c}=We(r,t);if(!1===i.navigate){let t=i.fetcherKey||wt();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const kt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Et;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _t=function(e){return function(e){const t=kt(e);return xt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ct=function(e){try{return xt.decodeString(e,!0)}catch(Iy){console.error("base64Decode failed: ",Iy)}return null};function Tt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const It=()=>{try{return Tt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Iy){return}const t=e&&Ct(e[1]);return t&&JSON.parse(t)})()}catch(Iy){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Iy))}},At=e=>{var t;return null===(t=It())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Rt=()=>{var e;return null===(e=It())||void 0===e?void 0:e.config},Nt=e=>{var t;return null===(t=It())||void 0===t?void 0:t["_".concat(e)]};class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Dt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ot(e){return(await fetch(e,{credentials:"include"})).ok}const Lt={};let jt=!1;function Mt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Dt(window.location.host)||Lt[e]===t||Lt[e]||jt)return;function n(e){return"__firebase__banner__".concat(e)}Lt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lt))Lt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{jt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function zt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ft(){var e;const t=null===(e=It())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Iy){return!1}}function Ut(){return!Ft()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vt(){try{return"object"===typeof indexedDB}catch(Iy){return!1}}class Wt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ht,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Wt(n,o,t)}}const Ht=/\{\$([^}]+)}/g;function qt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Kt(n)&&Kt(o)){if(!qt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kt(e){return null!==e&&"object"===typeof e}function Gt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Yt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Xt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$t),void 0===r.error&&(r.error=$t),void 0===r.complete&&(r.complete=$t);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Iy){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Iy){"undefined"!==typeof console&&console.error&&console.error(Iy)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $t(){}function Jt(e){return e&&e._delegate?e._delegate:e}class Zt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const en="[DEFAULT]";class tn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Iy){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Iy){if(r)return null;throw Iy}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:en})}catch(Iy){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Iy){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===en?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return this.component?this.component.multipleInstances?e:en:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const rn=[];var on;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(on||(on={}));const sn={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},an=on.INFO,ln={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},cn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ln[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class un{constructor(e){this.name=e,this._logLevel=an,this._logHandler=cn,this._userLogHandler=null,rn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?sn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...t),this._logHandler(this,on.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...t),this._logHandler(this,on.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.INFO,...t),this._logHandler(this,on.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.WARN,...t),this._logHandler(this,on.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.ERROR,...t),this._logHandler(this,on.ERROR,...t)}}let dn,hn;const fn=new WeakMap,pn=new WeakMap,mn=new WeakMap,gn=new WeakMap,yn=new WeakMap;let vn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function bn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hn||(hn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kn(this),n),Sn(fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(e.apply(kn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(kn(this),t,...r);return mn.set(o,t.sort?t.sort():[t]),Sn(o)}}function wn(e){return"function"===typeof e?bn(e):(e instanceof IDBTransaction&&function(e){if(pn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});pn.set(e,t)}(e),t=e,(dn||(dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,vn):e);var t}function Sn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Sn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&fn.set(t,e)}).catch(()=>{}),yn.set(t,e),t}(e);if(gn.has(e))return gn.get(e);const t=wn(e);return t!==e&&(gn.set(e,t),yn.set(t,e)),t}const kn=e=>yn.get(e);const xn=["get","getKey","getAll","getAllKeys","count"],En=["put","add","delete","clear"],_n=new Map;function Cn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_n.get(t))return _n.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=En.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return _n.set(t,o),o}vn=(e=>u(u({},e),{},{get:(t,n,r)=>Cn(t,n)||e.get(t,n,r),has:(t,n)=>!!Cn(t,n)||e.has(t,n)}))(vn);class Tn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const In="@firebase/app",An="0.14.4",Rn=new un("@firebase/app"),Nn="@firebase/app-compat",Pn="@firebase/analytics-compat",Dn="@firebase/analytics",On="@firebase/app-check-compat",Ln="@firebase/app-check",jn="@firebase/auth",Mn="@firebase/auth-compat",zn="@firebase/database",Fn="@firebase/data-connect",Un="@firebase/database-compat",Vn="@firebase/functions",Wn="@firebase/functions-compat",Bn="@firebase/installations",Hn="@firebase/installations-compat",qn="@firebase/messaging",Kn="@firebase/messaging-compat",Gn="@firebase/performance",Qn="@firebase/performance-compat",Yn="@firebase/remote-config",Xn="@firebase/remote-config-compat",$n="@firebase/storage",Jn="@firebase/storage-compat",Zn="@firebase/firestore",er="@firebase/ai",tr="@firebase/firestore-compat",nr="firebase",rr="[DEFAULT]",ir={[In]:"fire-core",[Nn]:"fire-core-compat",[Dn]:"fire-analytics",[Pn]:"fire-analytics-compat",[Ln]:"fire-app-check",[On]:"fire-app-check-compat",[jn]:"fire-auth",[Mn]:"fire-auth-compat",[zn]:"fire-rtdb",[Fn]:"fire-data-connect",[Un]:"fire-rtdb-compat",[Vn]:"fire-fn",[Wn]:"fire-fn-compat",[Bn]:"fire-iid",[Hn]:"fire-iid-compat",[qn]:"fire-fcm",[Kn]:"fire-fcm-compat",[Gn]:"fire-perf",[Qn]:"fire-perf-compat",[Yn]:"fire-rc",[Xn]:"fire-rc-compat",[$n]:"fire-gcs",[Jn]:"fire-gcs-compat",[Zn]:"fire-fst",[tr]:"fire-fst-compat",[er]:"fire-vertex","fire-js":"fire-js",[nr]:"fire-js-all"},or=new Map,sr=new Map,ar=new Map;function lr(e,t){try{e.container.addComponent(t)}catch(Iy){Rn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Iy)}}function cr(e){const t=e.name;if(ar.has(t))return Rn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ar.set(t,e);for(const n of or.values())lr(n,e);for(const n of sr.values())lr(n,e);return!0}function ur(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const hr=new Bt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fr{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const pr="12.4.0";function mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:rr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=Rt()),!n)throw hr.create("no-options");const o=or.get(i);if(o){if(qt(n,o.options)&&qt(r,o.config))return o;throw hr.create("duplicate-app",{appName:i})}const s=new nn(i);for(const l of ar.values())s.addComponent(l);const a=new fr(n,r,s);return or.set(i,a),a}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;const t=or.get(e);if(!t&&e===rr&&Rt())return mr();if(!t)throw hr.create("no-app",{appName:e});return t}function yr(e,t,n){var r;let i=null!==(r=ir[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Rn.warn(e.join(" "))}cr(new Zt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const vr="firebase-heartbeat-store";let br=null;function wr(){return br||(br=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Sn(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Sn(s.result),e.oldVersion,e.newVersion,Sn(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vr)}catch(Iy){console.warn(Iy)}}}).catch(e=>{throw hr.create("idb-open",{originalErrorMessage:e.message})})),br}async function Sr(e,t){try{const n=(await wr()).transaction(vr,"readwrite"),r=n.objectStore(vr);await r.put(t,kr(e)),await n.done}catch(Iy){if(Iy instanceof Wt)Rn.warn(Iy.message);else{const t=hr.create("idb-set",{originalErrorMessage:null===Iy||void 0===Iy?void 0:Iy.message});Rn.warn(t.message)}}}function kr(e){return"".concat(e.name,"!").concat(e.options.appId)}class xr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _r(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Er();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Iy){Rn.warn(Iy)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Er(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Cr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_t(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Iy){return Rn.warn(Iy),""}}}function Er(){return(new Date).toISOString().substring(0,10)}class _r{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Vt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await wr()).transaction(vr),n=await t.objectStore(vr).get(kr(e));return await t.done,n}catch(Iy){if(Iy instanceof Wt)Rn.warn(Iy.message);else{const t=hr.create("idb-get",{originalErrorMessage:null===Iy||void 0===Iy?void 0:Iy.message});Rn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Cr(e){return _t(JSON.stringify({version:2,heartbeats:e})).length}var Tr;Tr="",cr(new Zt("platform-logger",e=>new Tn(e),"PRIVATE")),cr(new Zt("heartbeat",e=>new xr(e),"PRIVATE")),yr(In,An,Tr),yr(In,An,"esm2020"),yr("fire-js","");const Ir=["providerId"],Ar=["uid","auth","stsTokenManager"],Rr=["providerId","signInMethod"];function Nr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pr=Nr,Dr=new Bt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Or=new un("@firebase/auth");function Lr(e){if(Or.logLevel<=on.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Or.error("Auth (".concat(pr,"): ").concat(e),...n)}}function jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ur(e,...n)}function Mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ur(e,...n)}function zr(e,t,n){const r=u(u({},Pr()),{},{[t]:n});return new Bt("auth","Firebase",r).create(t,{appName:e.name})}function Fr(e){return zr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Dr.create(e,...n)}function Vr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ur(t,...r)}}function Wr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lr(t),new Error(t)}function Br(e,t){e||Wr(t)}function Hr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qr(){return"http:"===Kr()||"https:"===Kr()}function Kr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Gr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Qr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Br(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Gr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yr(e,t){Br(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Xr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zr=new Qr(3e4,6e4);function ei(e,t){return e.tenantId&&!t.tenantId?u(u({},t),{},{tenantId:e.tenantId}):t}async function ti(e,t,n,r){return ni(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Gt(u({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=u({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Dt(e.emulatorConfig.host)&&(l.credentials="include"),Xr.fetch()(await ii(e,e.config.apiHost,n,s),l)})}async function ni(e,t,n){e._canInitEmulator=!1;const r=u(u({},$r),t);try{const t=new si(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ai(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ai(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ai(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw ai(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw zr(e,a,s);jr(e,a)}}catch(Iy){if(Iy instanceof Wt)throw Iy;jr(e,"network-request-failed",{message:String(Iy)})}}async function ri(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await ti(e,t,n,r,i);return"mfaPendingCredential"in o&&jr(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function ii(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?Yr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Jr.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function oi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class si{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Mr(this.auth,"network-request-failed")),Zr.get())})}}function ai(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mr(e,t,r);return i.customData._tokenResponse=n,i}function li(e){return void 0!==e&&void 0!==e.enterprise}class ci{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ui(e,t){return ti(e,"GET","/v2/recaptchaConfig",ei(e,t))}async function di(e,t){return ti(e,"POST","/v1/accounts:lookup",t)}function hi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Iy){}}function fi(e){return 1e3*Number(e)}function pi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Lr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ct(n);return e?JSON.parse(e):(Lr("Failed to decode base64 JWT payload"),null)}catch(Iy){return Lr("Caught error parsing JWT payload as JSON",null===Iy||void 0===Iy?void 0:Iy.toString()),null}}function mi(e){const t=pi(e);return Vr(t,"internal-error"),Vr("undefined"!==typeof t.exp,"internal-error"),Vr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function gi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Iy){throw Iy instanceof Wt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Iy)&&e.auth.currentUser===e&&await e.auth.signOut(),Iy}}class yi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Iy){return void((null===Iy||void 0===Iy?void 0:Iy.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await gi(e,di(n,{idToken:r}));Vr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?Si(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vi(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function wi(e){const t=Jt(e);await bi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Si(e){return e.map(e=>{let{providerId:t}=e,n=o(e,Ir);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vr(e.idToken,"internal-error"),Vr("undefined"!==typeof e.idToken,"internal-error"),Vr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):mi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Vr(0!==e.length,"internal-error");const t=mi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Vr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ni(e,{},async()=>{const n=Gt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await ii(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Dt(e.emulatorConfig.host)&&(a.credentials="include"),Xr.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ki;return n&&(Vr("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Vr("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Vr("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ki,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function xi(e,t){Vr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ei{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,Ar);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await gi(this,this.stsTokenManager.getToken(this.auth,e));return Vr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Jt(e),r=await n.getIdToken(t),i=pi(r);Vr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hi(fi(i.auth_time)),issuedAtTime:hi(fi(i.iat)),expirationTime:hi(fi(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return wi(this)}_assign(e){this!==e&&(Vr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>u({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei(u(u({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await bi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await gi(this,async function(e,t){return ti(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>u({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:k,stsTokenManager:x}=t;Vr(b&&x,e,"internal-error");const E=ki.fromJSON(this.name,x);Vr("string"===typeof b,e,"internal-error"),xi(d,e.name),xi(h,e.name),Vr("boolean"===typeof w,e,"internal-error"),Vr("boolean"===typeof S,e,"internal-error"),xi(f,e.name),xi(p,e.name),xi(m,e.name),xi(g,e.name),xi(y,e.name),xi(v,e.name);const _=new Ei({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(_.providerData=k.map(e=>u({},e))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ki;r.updateFromServerResponse(t);const i=new Ei({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await bi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Vr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Si(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new ki;s.updateFromIdToken(n);const a=new Ei({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new vi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const _i=new Map;function Ci(e){Br(e instanceof Function,"Expected a class definition");let t=_i.get(e);return t?(Br(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_i.set(e,t),t)}class Ti{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ti.type="NONE";const Ii=Ti;function Ai(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ri{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ai(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ai("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await di(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ri(Ci(Ii),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ci(Ii);const o=Ai(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await di(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ei._fromGetAccountInfoResponse(e,r,t)}else n=Ei._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new Ri(i,e,n)):new Ri(i,e,n)}}function Ni(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Li(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mi(t))return"Blackberry";if(zi(t))return"Webos";if(Di(t))return"Safari";if((t.includes("chrome/")||Oi(t))&&!t.includes("edge/"))return"Chrome";if(ji(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/firefox\//i.test(e)}function Di(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/crios\//i.test(e)}function Li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/iemobile/i.test(e)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/android/i.test(e)}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/blackberry/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/webos/i.test(e)}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ui(){return function(){const e=zt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return Fi(e)||ji(e)||zi(e)||Mi(e)||/windows phone/i.test(e)||Li(e)}function Wi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ni(zt());break;case"Worker":t="".concat(Ni(zt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pr,"/").concat(r)}class Bi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Iy){r(Iy)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Iy){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Iy||void 0===Iy?void 0:Iy.message})}}}class Hi{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class qi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gi(this),this.idTokenSubscription=new Gi(this),this.beforeStateQueue=new Bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Ri.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Iy){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await di(this,{idToken:e}),n=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(Iy){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Iy))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Vr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Iy){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bi(e)}catch(Iy){if((null===Iy||void 0===Iy?void 0:Iy.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Fr(this));const t=e?Jt(e):null;return t&&Vr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ti(e,"GET","/v2/passwordPolicy",ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Hi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ti(e,"POST","/v2/accounts:revokeToken",ei(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;Vr(t,this,"argument-error"),this.redirectPersistenceManager=await Ri.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vr(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Or.logLevel<=on.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Or.warn("Auth (".concat(pr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ki(e){return Jt(e)}class Gi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Xt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Vr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yi(e){return Qi.loadJS(e)}function Xi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $i{constructor(){this.enterprise=new Ji}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ji{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Zi="NO_RECAPTCHA";class eo{constructor(e){this.type="recaptcha-enterprise",this.auth=Ki(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;li(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Zi)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new $i).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ui(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ci(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&li(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Qi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Yi(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function to(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new eo(e);let s;if(i)s=Zi;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=u({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function no(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await to(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await to(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await to(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await to(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await to(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ro(e){const t=Ki(e),n=await ui(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ci(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new eo(t).verify()}}function io(e,t,n){const r=Ki(e);Vr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=oo(t),{host:s,port:a}=function(e){const t=oo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:so(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:so(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Vr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Vr(qt(c,r.config.emulator)&&qt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Dt(s)?(Ot("".concat(o,"//").concat(s).concat(l)),Mt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function oo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function so(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ao{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function lo(e,t){return ti(e,"POST","/v1/accounts:signUp",t)}async function co(e,t){return ri(e,"POST","/v1/accounts:signInWithPassword",ei(e,t))}async function uo(e,t){return ti(e,"POST","/v1/accounts:sendOobCode",ei(e,t))}async function ho(e,t){return uo(e,t)}class fo extends ao{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new fo(e,t,"password")}static _fromEmailAndCode(e,t){return new fo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return no(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",co,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithEmailLink",ei(e,t))}(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return no(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithEmailLink",ei(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(e,t){return ri(e,"POST","/v1/accounts:signInWithIdp",ei(e,t))}class mo extends ao{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,Rr);if(!n||!r)return null;const s=new mo(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return po(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,po(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gt(t)}return e}}async function go(e,t){return ti(e,"POST","/v1/accounts:sendVerificationCode",ei(e,t))}const yo={USER_NOT_FOUND:"user-not-found"};class vo extends ao{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithPhoneNumber",ei(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ri(e,"POST","/v1/accounts:signInWithPhoneNumber",ei(e,t));if(n.temporaryProof)throw ai(e,"account-exists-with-different-credential",n);return n}(e,u({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithPhoneNumber",ei(e,u(u({},t),{},{operation:"REAUTH"})),yo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new vo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class bo{constructor(e){var t,n,r,i,o,s;const a=Qt(Yt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Vr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Qt(Yt(e)).link,n=t?Qt(Yt(t)).deep_link_id:null,r=Qt(Yt(e)).deep_link_id;return(r?Qt(Yt(r)).link:null)||r||n||t||e}(e);try{return new bo(t)}catch(n){return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,t){return fo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bo.parseLink(t);return Vr(n,"argument-error"),fo._fromEmailAndCode(e,n.code,n.tenantId)}}wo.PROVIDER_ID="password",wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class So{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ko extends So{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xo extends ko{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xo.credential(t.oauthAccessToken)}catch(n){return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com",xo.PROVIDER_ID="facebook.com";class Eo extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Eo.credential(n,r)}catch(i){return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com",Eo.PROVIDER_ID="google.com";class _o extends ko{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _o.credential(t.oauthAccessToken)}catch(n){return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com",_o.PROVIDER_ID="github.com";class Co extends ko{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Co.credential(n,r)}catch(i){return null}}}async function To(e,t){return ri(e,"POST","/v1/accounts:signUp",ei(e,t))}Co.TWITTER_SIGN_IN_METHOD="twitter.com",Co.PROVIDER_ID="twitter.com";class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ei._fromIdTokenResponse(e,n,r),o=Ao(n);return new Io({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ao(n);return new Io({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ao(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ro extends Wt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ro.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ro(e,t,n,r)}}function No(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ro._fromErrorAndOperation(e,n,t,r);throw n})}async function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await gi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Io._forOperation(e,"link",r)}async function Do(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(dr(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const o=await gi(e,No(r,i,t,e),n);Vr(o.idToken,r,"internal-error");const s=pi(o.idToken);Vr(s,r,"internal-error");const{sub:a}=s;return Vr(e.uid===a,r,"user-mismatch"),Io._forOperation(e,i,o)}catch(Iy){throw(null===Iy||void 0===Iy?void 0:Iy.code)==="auth/".concat("user-not-found")&&jr(r,"user-mismatch"),Iy}}async function Oo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dr(e.app))return Promise.reject(Fr(e));const r="signIn",i=await No(e,r,t),o=await Io._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Lo(e,t){return Oo(Ki(e),t)}async function jo(e,t){return Do(Jt(e),t)}function Mo(e,t,n){var r;Vr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Vr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Vr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Vr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Vr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function zo(e){const t=Ki(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fo(e,t){const n=Jt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Mo(n.auth,r,t);const{email:i}=await async function(e,t){return uo(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Uo(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await gi(e,async function(e,t){return ti(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}function Vo(e,t){return Jt(e).setPersistence(t)}function Wo(e,t,n,r){return Jt(e).onAuthStateChanged(t,n,r)}function Bo(e,t){return ti(e,"POST","/v2/accounts/mfaEnrollment:start",ei(e,t))}new WeakMap;const Ho="__sak";class qo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ko extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ui()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ko.type="LOCAL";const Go=Ko;function Qo(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Yo(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Xo{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Yo(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Qo(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Yo(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Yo(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Qo(n);const i=setInterval(()=>{const e=Qo(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Xo.type="COOKIE";class $o extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$o.type="SESSION";const Jo=$o;class Zo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zo.receivers=[];class ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=es("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function ns(){return window}function rs(){return"undefined"!==typeof ns().WorkerGlobalScope&&"function"===typeof ns().importScripts}const is="firebaseLocalStorageDb",os="firebaseLocalStorage",ss="fbase_key";class as{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ls(e,t){return e.transaction([os],t?"readwrite":"readonly").objectStore(os)}function cs(){const e=indexedDB.open(is,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(os,{keyPath:ss})}catch(Iy){n(Iy)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(os)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(is);return new as(e).toPromise()}(),t(await cs()))})})}async function us(e,t,n){const r=ls(e,!0).put({[ss]:t,value:n});return new as(r).toPromise()}function ds(e,t){const n=ls(e,!0).delete(t);return new as(n).toPromise()}class hs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await cs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Iy){if(t++>3)throw Iy;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zo._getInstance(rs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cs();return await us(e,Ho,"1"),await ds(e,Ho),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>us(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ls(e,!1).get(t),r=await new as(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ds(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ls(e,!1).getAll();return new as(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hs.type="LOCAL";const fs=hs;function ps(e,t){return ti(e,"POST","/v2/accounts/mfaSignIn:start",ei(e,t))}Xi("rcb"),new Qr(3e4,6e4);const ms="recaptcha";async function gs(e,t,n){if(!e._getRecaptchaConfig())try{await ro(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Vr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=no(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Zi){Vr((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return Bo(e,await ys(e,t,n))}return Bo(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Vr("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Vr(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=no(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Zi){Vr((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return ps(e,await ys(e,t,n))}return ps(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=no(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Zi){Vr((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return go(e,await ys(e,t,n))}return go(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ys(e,t,n){Vr(n.type===ms,e,"argument-error");const r=await n.verify();Vr("string"===typeof r,e,"argument-error");const i=u({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class vs{constructor(e){this.providerId=vs.PROVIDER_ID,this.auth=Ki(e)}verifyPhoneNumber(e,t){return gs(this.auth,e,Jt(t))}static credential(e,t){return vo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return vs.credentialFromTaggedObject(t)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?vo._fromTokenResponse(n,r):null}}function bs(e,t){return t?Ci(t):(Vr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vs.PROVIDER_ID="phone",vs.PHONE_SIGN_IN_METHOD="phone";class ws extends ao{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ss(e){return Oo(e.auth,new ws(e),e.bypassAuthState)}function ks(e){const{auth:t,user:n}=e;return Vr(n,t,"internal-error"),Do(n,new ws(e),e.bypassAuthState)}async function xs(e){const{auth:t,user:n}=e;return Vr(n,t,"internal-error"),Po(n,new ws(e),e.bypassAuthState)}class Es{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Iy){this.reject(Iy)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(Iy){this.reject(Iy)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ss;case"linkViaPopup":case"linkViaRedirect":return xs;case"reauthViaPopup":case"reauthViaRedirect":return ks;default:jr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _s=new Qr(2e3,1e4);class Cs extends Es{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vr(e,this.auth,"internal-error"),e}async onExecution(){Br(1===this.filter.length,"Popup operations only handle one event");const e=es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,_s.get())};e()}}Cs.currentPopupAction=null;const Ts=new Map;class Is extends Es{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ts.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ns(t),r=Rs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Iy){e=()=>Promise.reject(Iy)}Ts.set(this.auth._key(),e)}return this.bypassAuthState||Ts.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function As(e,t){Ts.set(e._key(),t)}function Rs(e){return Ci(e._redirectPersistence)}function Ns(e){return Ai("pendingRedirect",e.config.apiKey,e.name)}async function Ps(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dr(e.app))return Promise.reject(Fr(e));const r=Ki(e),i=bs(r,t),o=new Is(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ls(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ls(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Os(e))}saveEventToCache(e){this.cachedEventUids.add(Os(e)),this.lastProcessedEventTime=Date.now()}}function Os(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ls(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ms=/^https?/;async function zs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ti(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Fs(r))return}catch(n){}jr(e,"unauthorized-domain")}function Fs(e){const t=Hr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ms.test(n))return!1;if(js.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Us=new Qr(3e4,6e4);function Vs(){const e=ns().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ws(e){return new Promise((t,n)=>{var r,i;function o(){Vs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vs(),n(Mr(e,"network-request-failed"))},timeout:Us.get()})}if(null!==(r=ns().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=ns().gapi)||void 0===i||!i.load){const t=Xi("iframefcb");return ns()[t]=()=>{gapi.load?o():n(Mr(e,"network-request-failed"))},Yi("".concat(Qi.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Bs=null,e})}let Bs=null;const Hs=new Qr(5e3,15e3),qs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gs(e){const t=e.config;Vr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pr},i=Ks.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Gt(r).slice(1))}async function Qs(e){const t=await function(e){return Bs=Bs||Ws(e),Bs}(e),n=ns().gapi;return Vr(n,e,"internal-error"),t.open({where:document.body,url:Gs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Mr(e,"network-request-failed"),o=ns().setTimeout(()=>{r(i)},Hs.get());function s(){ns().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Iy){}}}function $s(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=u(u({},Ys),{},{width:r.toString(),height:i.toString(),top:o,left:s}),c=zt().toLowerCase();n&&(a=Oi(c)?"_blank":n),Pi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Fi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Xs(null);const h=window.open(t||"",a,d);Vr(h,e,"popup-blocked");try{h.focus()}catch(Iy){}return new Xs(h)}const Js="__/auth/handler",Zs="emulator/auth/handler",ea=encodeURIComponent("fac");async function ta(e,t,n,r,i,o){Vr(e.config.authDomain,e,"auth-domain-config-required"),Vr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pr,eventId:i};if(t instanceof So){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ko){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ea,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Js);return Yr(t,Zs)}(e),"?").concat(Gt(a).slice(1)).concat(c)}const na="webStorageSupport";const ra=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jo,this._completeRedirectFn=Ps,this._overrideRedirectResult=As}async _openPopup(e,t,n,r){var i;Br(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return $s(e,await ta(e,t,n,Hr(),r),es())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ns().location.href=e}(await ta(e,t,n,Hr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Br(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Qs(e),n=new Ds(e);return t.register("authEvent",t=>{Vr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(na,{type:na},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[na];void 0!==i&&t(!!i),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vi()||Di()||Fi()}};var ia="@firebase/auth",oa="1.11.0";class sa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const aa=Nt("authIdTokenMaxAge")||300;let la=null;var ca;Qi={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Mr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ca="Browser",cr(new Zt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Vr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ca,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(ca)},c=new qi(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cr(new Zt("auth-internal",e=>(e=>new sa(e))(Ki(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),yr(ia,oa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ca)),yr(ia,oa,"esm2020");var ua,da,ha="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||c.l(e)>0;)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,da=fa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},ua=fa.Integer=r}).apply("undefined"!==typeof ha?ha:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var pa,ma,ga,ya,va,ba,wa,Sa,ka="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},xa={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ka&&ka];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function x(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,E),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),A=0;function R(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function N(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function D(e){const t={};for(const n in e)t[n]=e[n];return t}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<O.length;t++)n=O[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(N(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=z(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new R(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,i){if(r&&r.once)return B(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)V(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.J(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[F]=l=new j(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function B(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)B(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.K(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[I]?(e=e.i,(o=String(t).toString())in e.g&&((n=z(t=e.g[o],n,r,i))>-1&&(N(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=e>-1?t[e]:null)&&q(n))}function q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[F]=null)):N(e)}}}function K(e){return e in U?U[e]:U[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&q(e),e=n.call(r,t)}return e}function Q(e){return(e=e[F])instanceof j?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){x.call(this),this.i=new j(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;L(t=new E(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&M(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,x),$.prototype[I]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)N(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){x.call(this),this.h=e,this.g={}}u(ne,x);var re=[];function ie(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){E.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function ke(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ve,E),fe.Ja="timingevent",u(we,E),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var Ee,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ie(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ee=new Te;var Pe={},De={};function Oe(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ne,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=V(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?D(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function je(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function Ue(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function We(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Be(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Bt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ye(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Ue(a),ze(a)),r.g=s}else Yt(r);n.i.length>0&&qt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Wt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Re.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==zt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const l=zt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ye(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!je(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,i=4==zt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return We(e),Ve(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),We(this),Ve(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==De){4==l&&(this.m=4,be(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Pe){this.m=4,be(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),Be(this,t)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),We(this),Ve(this)}else xe(this.i,this.l,n,null),Be(this,n);4==l&&We(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&zt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),We(this),Ve(this)}}}catch(rl){}},Re.prototype.cancel=function(){this.K=!0,We(this)},Re.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),We(this),this.m=2,Ve(this)):Fe(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}qe.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=St(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function xt(){this.g=new ae}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ct(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function Nt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new _t(this.i,this.h)},u(_t,$),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):It(this),3==this.readyState&&Ct(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Nt,$);var Pt=/^https?$/i,Dt=["POST","PUT"];function Ot(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Mt(e)}function Lt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function jt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==zt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==zt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Pt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=zt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Lt(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function zt(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Wt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Re(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}rn(e)}function Bt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){Bt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function qt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||S(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Rt(r,e.u,e.o),n=new Re(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Oe(n,r,t)}function Gt(e,t){e.H&&P(e.H,function(e,n){it(t,n,e)}),e.l&&P({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(_a){throw e.push(o+"type="+encodeURIComponent("_badmap")),_a}}catch(_a){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||S(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Rt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),qt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new ke;if(o.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Nt(new Et({ab:n})):new Nt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Nt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ot(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Dt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ot(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?jt(this):this.Xa())},e.Xa=function(){jt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return zt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),qt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Re(this,this.j,e);let o=this.o;if(this.U&&(o?(o=D(o),L(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+Ie(At(o))+"&"+t:this.u&&Rt(n,this.u,o)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Oe(i,n,null)):Oe(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Bt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Bt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Wt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&qt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Sa=xa.createWebChannelTransport=function(){return new ln},wa=xa.getStatEventTarget=function(){return me()},ba=xa.Event=fe,va=xa.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,ya=xa.ErrorCode=_e,Ce.COMPLETE="complete",ga=xa.EventType=Ce,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,ma=xa.WebChannel=ce,xa.FetchXmlHttpFactory=Et,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,pa=xa.XhrIo=Nt}).apply("undefined"!==typeof ka?ka:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ea="@firebase/firestore",_a="4.9.2";class Ca{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ca.UNAUTHENTICATED=new Ca(null),Ca.GOOGLE_CREDENTIALS=new Ca("google-credentials-uid"),Ca.FIRST_PARTY=new Ca("first-party-uid"),Ca.MOCK_USER=new Ca("mock-user");let Ta="12.3.0";const Ia=new un("@firebase/firestore");function Aa(){return Ia.logLevel}function Ra(e){if(Ia.logLevel<=on.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Da);Ia.debug("Firestore (".concat(Ta,"): ").concat(e),...i)}}function Na(e){if(Ia.logLevel<=on.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Da);Ia.error("Firestore (".concat(Ta,"): ").concat(e),...i)}}function Pa(e){if(Ia.logLevel<=on.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Da);Ia.warn("Firestore (".concat(Ta,"): ").concat(e),...i)}}function Da(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Oa(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,La(e,r,n)}function La(e,t,n){let r="FIRESTORE (".concat(Ta,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Na(r),new Error(r)}function ja(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||La(t,i,r)}function Ma(e,t){return e}const za={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fa extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ua{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Va{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ca.UNAUTHENTICATED))}shutdown(){}}class Ba{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ha{constructor(e){this.t=e,this.currentUser=Ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ja(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ua,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Ra("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ra("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ua)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ra("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ja("string"==typeof t.accessToken,31837,{l:t}),new Va(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ja(null===e||"string"==typeof e,2055,{h:e}),new Ca(e)}}class qa{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ca.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ka{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new qa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ga{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qa{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ja(void 0===this.o,3512);const n=e=>{null!=e.error&&Ra("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Ra("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ra("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Ra("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ga(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ja("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ga(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ya(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Xa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ya(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function $a(e,t){return e<t?-1:e>t?1:0}function Ja(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return tl(n)===tl(i)?$a(n,i):tl(n)?1:-1}return $a(e.length,t.length)}const Za=55296,el=57343;function tl(e){const t=e.charCodeAt(0);return t>=Za&&t<=el}function nl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const rl="__name__";class il{constructor(e,t,n){void 0===t?t=0:t>e.length&&Oa(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Oa(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===il.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof il?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=il.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return $a(e.length,t.length)}static compareSegments(e,t){const n=il.isNumericId(e),r=il.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?il.extractNumericId(e).compare(il.extractNumericId(t)):Ja(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class ol extends il{construct(e,t,n){return new ol(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Fa(za.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ol(e)}static emptyPath(){return new ol([])}}const sl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class al extends il{construct(e,t,n){return new al(e,t,n)}static isValidIdentifier(e){return sl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),al.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===rl}static keyField(){return new al([rl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fa(za.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fa(za.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fa(za.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Fa(za.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new al(t)}static emptyPath(){return new al([])}}class ll{constructor(e){this.path=e}static fromPath(e){return new ll(ol.fromString(e))}static fromName(e){return new ll(ol.fromString(e).popFirst(5))}static empty(){return new ll(ol.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ol.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ol.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ll(new ol(e.slice()))}}function cl(e,t,n){if(!n)throw new Fa(za.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ul(e){if(!ll.isDocumentKey(e))throw new Fa(za.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dl(e){if(ll.isDocumentKey(e))throw new Fa(za.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function fl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Oa(12329,{type:typeof e})}function pl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fa(za.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fl(e);throw new Fa(za.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ml(e,t){const n={typeString:e};return t&&(n.value=t),n}function gl(e,t){if(!hl(e))throw new Fa(za.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new Fa(za.INVALID_ARGUMENT,n);return!0}const yl=-62135596800,vl=1e6;class bl{static now(){return bl.fromMillis(Date.now())}static fromDate(e){return bl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*vl);return new bl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fa(za.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fa(za.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yl)throw new Fa(za.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fa(za.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vl}_compareTo(e){return this.seconds===e.seconds?$a(this.nanoseconds,e.nanoseconds):$a(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gl(e,bl._jsonSchema))return new bl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bl._jsonSchemaVersion="firestore/timestamp/1.0",bl._jsonSchema={type:ml("string",bl._jsonSchemaVersion),seconds:ml("number"),nanoseconds:ml("number")};class wl{static fromTimestamp(e){return new wl(e)}static min(){return new wl(new bl(0,0))}static max(){return new wl(new bl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sl=-1;class kl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}kl.UNKNOWN_ID=-1;function xl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wl.fromTimestamp(1e9===r?new bl(n+1,0):new bl(n,r));return new _l(i,ll.empty(),t)}function El(e){return new _l(e.readTime,e.key,Sl)}class _l{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _l(wl.min(),ll.empty(),Sl)}static max(){return new _l(wl.max(),ll.empty(),Sl)}}function Cl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ll.comparator(e.documentKey,t.documentKey),0!==n?n:$a(e.largestBatchId,t.largestBatchId))}const Tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Al(e){if(e.code!==za.FAILED_PRECONDITION||e.message!==Tl)throw e;Ra("LocalStore","Unexpectedly lost primary lease")}class Rl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oa(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rl?t:Rl.resolve(t)}catch(e){return Rl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rl.reject(t)}static resolve(e){return new Rl((t,n)=>{t(e)})}static reject(e){return new Rl((t,n)=>{n(e)})}static waitFor(e){return new Rl((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Rl.resolve(!1);for(const n of e)t=t.next(e=>e?Rl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Rl((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Rl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Nl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(e){return"IndexedDbTransactionError"===e.name}class Dl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dl.ce=-1;const Ol=-1;function Ll(e){return null==e}function jl(e){return 0===e&&1/e==-1/0}function Ml(e){return"number"==typeof e&&Number.isInteger(e)&&!jl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const zl="\x01";function Fl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vl(t)),t=Ul(e.get(n),t);return Vl(t)}function Ul(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case zl:n+="\x01\x11";break;default:n+=t}}return n}function Vl(e){return e+zl+"\x01"}const Wl="remoteDocuments",Bl="owner",Hl="mutationQueues",ql="mutations";const Kl="documentMutations",Gl="remoteDocumentsV14",Ql="remoteDocumentGlobal",Yl="targets",Xl="targetDocuments",$l="targetGlobal",Jl="collectionParents",Zl="clientMetadata",ec="bundles",tc="namedQueries",nc="indexConfiguration",rc="indexState",ic="indexEntries",oc="documentOverlays",sc="globals",ac=[Hl,ql,Kl,Wl,Yl,Bl,$l,Xl,Zl,Ql,Jl,ec,tc],lc=[Hl,ql,Kl,Gl,Yl,Bl,$l,Xl,Zl,Ql,Jl,ec,tc,oc],cc=lc,uc=[...cc,nc,rc,ic];function dc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pc{constructor(e,t){this.comparator=e,this.root=t||gc.EMPTY}insert(e,t){return new pc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gc.BLACK,null,null))}remove(e){return new pc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:gc.RED,this.left=null!=r?r:gc.EMPTY,this.right=null!=i?i:gc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new gc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return gc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oa(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oa(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oa(27949);return e+(this.isRed()?0:1)}}gc.EMPTY=null,gc.RED=!0,gc.BLACK=!1,gc.EMPTY=new class{constructor(){this.size=0}get key(){throw Oa(57766)}get value(){throw Oa(16141)}get color(){throw Oa(16727)}get left(){throw Oa(29726)}get right(){throw Oa(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new gc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yc{constructor(e){this.comparator=e,this.data=new pc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vc(this.data.getIterator())}getIteratorFrom(e){return new vc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof yc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yc(this.comparator);return t.data=e,t}}class vc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bc{constructor(e){this.fields=e,e.sort(al.comparator)}static empty(){return new bc([])}unionWith(e){let t=new yc(al.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new bc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class wc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new wc("Invalid base64 string: "+e):e}}(e);return new Sc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Sc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $a(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sc.EMPTY_BYTE_STRING=new Sc("");const kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xc(e){if(ja(!!e,39018),"string"==typeof e){let t=0;const n=kc.exec(e);if(ja(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ec(e.seconds),nanos:Ec(e.nanos)}}function Ec(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _c(e){return"string"==typeof e?Sc.fromBase64String(e):Sc.fromUint8Array(e)}const Cc="server_timestamp",Tc="__type__",Ic="__previous_value__",Ac="__local_write_time__";function Rc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Tc])||void 0===t?void 0:t.stringValue)===Cc}function Nc(e){const t=e.mapValue.fields[Ic];return Rc(t)?Nc(t):t}function Pc(e){const t=xc(e.mapValue.fields[Ac].timestampValue);return new bl(t.seconds,t.nanos)}class Dc{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Oc="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||Oc}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}const jc="__type__",Mc="__max__",zc={mapValue:{fields:{__type__:{stringValue:Mc}}}},Fc="__vector__",Uc="value";function Vc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rc(e)?4:iu(e)?9007199254740991:nu(e)?10:11:Oa(28295,{value:e})}function Wc(e,t){if(e===t)return!0;const n=Vc(e);if(n!==Vc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pc(e).isEqual(Pc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=xc(e.timestampValue),r=xc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _c(e.bytesValue).isEqual(_c(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ec(e.geoPointValue.latitude)===Ec(t.geoPointValue.latitude)&&Ec(e.geoPointValue.longitude)===Ec(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ec(e.integerValue)===Ec(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ec(e.doubleValue),r=Ec(t.doubleValue);return n===r?jl(n)===jl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nl(e.arrayValue.values||[],t.arrayValue.values||[],Wc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(dc(n)!==dc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wc(n[i],r[i])))return!1;return!0}(e,t);default:return Oa(52216,{left:e})}}function Bc(e,t){return void 0!==(e.values||[]).find(e=>Wc(e,t))}function Hc(e,t){if(e===t)return 0;const n=Vc(e),r=Vc(t);if(n!==r)return $a(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $a(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ec(e.integerValue||e.doubleValue),r=Ec(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qc(e.timestampValue,t.timestampValue);case 4:return qc(Pc(e),Pc(t));case 5:return Ja(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_c(e),r=_c(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$a(n[i],r[i]);if(0!==e)return e}return $a(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$a(Ec(e.latitude),Ec(t.latitude));return 0!==n?n:$a(Ec(e.longitude),Ec(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Kc(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const s=e.fields||{},a=t.fields||{},l=null===(n=s[Uc])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Uc])||void 0===r?void 0:r.arrayValue,u=$a((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Kc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zc.mapValue&&t===zc.mapValue)return 0;if(e===zc.mapValue)return 1;if(t===zc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Ja(r[s],o[s]);if(0!==e)return e;const t=Hc(n[r[s]],i[o[s]]);if(0!==t)return t}return $a(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Oa(23264,{he:n})}}function qc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $a(e,t);const n=xc(e),r=xc(t),i=$a(n.seconds,r.seconds);return 0!==i?i:$a(n.nanos,r.nanos)}function Kc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hc(n[i],r[i]);if(e)return e}return $a(n.length,r.length)}function Gc(e){return Qc(e)}function Qc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _c(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ll.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Qc(e.fields[i]));return n+"}"}(e.mapValue):Oa(61005,{value:e})}function Yc(e){switch(Vc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nc(e);return t?16+Yc(t):16;case 5:return 2*e.stringValue.length;case 6:return _c(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Yc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return hc(e.fields,(e,n)=>{t+=e.length+Yc(n)}),t}(e.mapValue);default:throw Oa(13486,{value:e})}}function Xc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $c(e){return!!e&&"integerValue"in e}function Jc(e){return!!e&&"arrayValue"in e}function Zc(e){return!!e&&"nullValue"in e}function eu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tu(e){return!!e&&"mapValue"in e}function nu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[jc])||void 0===t?void 0:t.stringValue)===Fc}function ru(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ru(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ru(e.arrayValue.values[n]);return t}return u({},e)}function iu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Mc}class ou{constructor(e){this.value=e}static empty(){return new ou({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!tu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=al.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ru(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());tu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];tu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ou(ru(this.value))}}function su(e){const t=[];return hc(e.fields,(e,n)=>{const r=new al([e]);if(tu(n)){const e=su(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new bc(t)}class au{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new au(e,0,wl.min(),wl.min(),wl.min(),ou.empty(),0)}static newFoundDocument(e,t,n,r){return new au(e,1,t,wl.min(),n,r,0)}static newNoDocument(e,t){return new au(e,2,t,wl.min(),wl.min(),ou.empty(),0)}static newUnknownDocument(e,t){return new au(e,3,t,wl.min(),wl.min(),ou.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ou.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ou.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof au&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new au(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class lu{constructor(e,t){this.position=e,this.inclusive=t}}function cu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ll.comparator(ll.fromName(s.referenceValue),n.key):Hc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function uu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wc(e.position[n],t.position[n]))return!1;return!0}class du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fu{}class pu extends fu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ku(e,t,n):"array-contains"===t?new Cu(e,n):"in"===t?new Tu(e,n):"not-in"===t?new Iu(e,n):"array-contains-any"===t?new Au(e,n):new pu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new xu(e,n):new Eu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Hc(t,this.value)):null!==t&&Vc(this.value)===Vc(t)&&this.matchesComparison(Hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Oa(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mu extends fu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mu(e,t)}matches(e){return gu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gu(e){return"and"===e.op}function yu(e){return vu(e)&&gu(e)}function vu(e){for(const t of e.filters)if(t instanceof mu)return!1;return!0}function bu(e){if(e instanceof pu)return e.field.canonicalString()+e.op.toString()+Gc(e.value);if(yu(e))return e.filters.map(e=>bu(e)).join(",");{const t=e.filters.map(e=>bu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function wu(e,t){return e instanceof pu?function(e,t){return t instanceof pu&&e.op===t.op&&e.field.isEqual(t.field)&&Wc(e.value,t.value)}(e,t):e instanceof mu?function(e,t){return t instanceof mu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&wu(n,t.filters[r]),!0)}(e,t):void Oa(19439)}function Su(e){return e instanceof pu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gc(e.value))}(e):e instanceof mu?function(e){return e.op.toString()+" {"+e.getFilters().map(Su).join(" ,")+"}"}(e):"Filter"}class ku extends pu{constructor(e,t,n){super(e,t,n),this.key=ll.fromName(n.referenceValue)}matches(e){const t=ll.comparator(e.key,this.key);return this.matchesComparison(t)}}class xu extends pu{constructor(e,t){super(e,"in",t),this.keys=_u("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Eu extends pu{constructor(e,t){super(e,"not-in",t),this.keys=_u("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _u(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ll.fromName(e.referenceValue))}class Cu extends pu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jc(t)&&Bc(t.arrayValue,this.value)}}class Tu extends pu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bc(this.value.arrayValue,t)}}class Iu extends pu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Bc(this.value.arrayValue,t)}}class Au extends pu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bc(this.value.arrayValue,e))}}class Ru{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Nu(e){return new Ru(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pu(e){const t=Ma(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>bu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ll(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Gc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Gc(e)).join(",")),t.Te=e}return t.Te}function Du(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!uu(e.startAt,t.startAt)&&uu(e.endAt,t.endAt)}function Ou(e){return ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Lu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ju(e,t,n,r,i,o,s,a){return new Lu(e,t,n,r,i,o,s,a)}function Mu(e){return new Lu(e)}function zu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fu(e){return null!==e.collectionGroup}function Uu(e){const t=Ma(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new yc(al.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new du(r,n))}),e.has(al.keyField().canonicalString())||t.Ie.push(new du(al.keyField(),n))}return t.Ie}function Vu(e){const t=Ma(e);return t.Ee||(t.Ee=Wu(t,Uu(e))),t.Ee}function Wu(e,t){if("F"===e.limitType)return Nu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new du(e.field,t)});const n=e.endAt?new lu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new lu(e.startAt.position,e.startAt.inclusive):null;return Nu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Bu(e,t){const n=e.filters.concat([t]);return new Lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hu(e,t,n){return new Lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qu(e,t){return Du(Vu(e),Vu(t))&&e.limitType===t.limitType}function Ku(e){return"".concat(Pu(Vu(e)),"|lt:").concat(e.limitType)}function Gu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Su(e)).join(", "),"]")),Ll(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Gc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Gc(e)).join(",")),"Target(".concat(t,")")}(Vu(e)),"; limitType=").concat(e.limitType,")")}function Qu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ll.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Uu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Uu(e),t))&&!(e.endAt&&!function(e,t,n){const r=cu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Uu(e),t))}(e,t)}function Yu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xu(e){return(t,n)=>{let r=!1;for(const i of Uu(e)){const e=$u(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $u(e,t,n){const r=e.field.isKeyField()?ll.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hc(r,i):Oa(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Oa(19790,{direction:e.dir})}}class Ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return fc(this.inner)}size(){return this.innerSize}}const Zu=new pc(ll.comparator);function ed(){return Zu}const td=new pc(ll.comparator);function nd(){let e=td;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function rd(e){let t=td;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function id(){return sd()}function od(){return sd()}function sd(){return new Ju(e=>e.toString(),(e,t)=>e.isEqual(t))}const ad=new pc(ll.comparator),ld=new yc(ll.comparator);function cd(){let e=ld;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ud=new yc($a);function dd(){return ud}function hd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(t)?"-0":t}}function fd(e){return{integerValue:""+e}}function pd(e,t){return Ml(t)?fd(t):hd(e,t)}class md{constructor(){this._=void 0}}function gd(e,t,n){return e instanceof bd?function(e,t){const n={fields:{[Tc]:{stringValue:Cc},[Ac]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rc(t)&&(t=Nc(t)),t&&(n.fields[Ic]=t),{mapValue:n}}(n,t):e instanceof wd?Sd(e,t):e instanceof kd?xd(e,t):function(e,t){const n=vd(e,t),r=_d(n)+_d(e.Ae);return $c(n)&&$c(e.Ae)?fd(r):hd(e.serializer,r)}(e,t)}function yd(e,t,n){return e instanceof wd?Sd(e,t):e instanceof kd?xd(e,t):n}function vd(e,t){return e instanceof Ed?function(e){return $c(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bd extends md{}class wd extends md{constructor(e){super(),this.elements=e}}function Sd(e,t){const n=Cd(t);for(const r of e.elements)n.some(e=>Wc(e,r))||n.push(r);return{arrayValue:{values:n}}}class kd extends md{constructor(e){super(),this.elements=e}}function xd(e,t){let n=Cd(t);for(const r of e.elements)n=n.filter(e=>!Wc(e,r));return{arrayValue:{values:n}}}class Ed extends md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _d(e){return Ec(e.integerValue||e.doubleValue)}function Cd(e){return Jc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Td{constructor(e,t){this.version=e,this.transformResults=t}}class Id{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Id}static exists(e){return new Id(void 0,e)}static updateTime(e){return new Id(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rd{}function Nd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vd(e.key,Id.none()):new jd(e.key,e.data,Id.none());{const n=e.data,r=ou.empty();let i=new yc(al.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Md(e.key,r,new bc(i.toArray()),Id.none())}}function Pd(e,t,n){e instanceof jd?function(e,t,n){const r=e.value.clone(),i=Fd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Md?function(e,t,n){if(!Ad(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dd(e,t,n,r){return e instanceof jd?function(e,t,n,r){if(!Ad(e.precondition,t))return n;const i=e.value.clone(),o=Ud(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Md?function(e,t,n,r){if(!Ad(e.precondition,t))return n;const i=Ud(e.fieldTransforms,r,t),o=t.data;return o.setAll(zd(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ad(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Od(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=vd(r.transform,e||null);null!=i&&(null===n&&(n=ou.empty()),n.set(r.field,i))}return n||null}function Ld(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wd&&t instanceof wd||e instanceof kd&&t instanceof kd?nl(e.elements,t.elements,Wc):e instanceof Ed&&t instanceof Ed?Wc(e.Ae,t.Ae):e instanceof bd&&t instanceof bd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jd extends Rd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Md extends Rd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Fd(e,t,n){const r=new Map;ja(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,yd(s,a,n[i]))}return r}function Ud(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,gd(e,o,t))}return r}class Vd extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wd extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=od();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Nd(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(wl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cd())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(e,t)=>Ld(e,t))&&nl(this.baseMutations,e.baseMutations,(e,t)=>Ld(e,t))}}class Hd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ja(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ad;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Hd(e,t,n,r)}}class qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Kd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gd,Qd;function Yd(e){switch(e){case za.OK:return Oa(64938);case za.CANCELLED:case za.UNKNOWN:case za.DEADLINE_EXCEEDED:case za.RESOURCE_EXHAUSTED:case za.INTERNAL:case za.UNAVAILABLE:case za.UNAUTHENTICATED:return!1;case za.INVALID_ARGUMENT:case za.NOT_FOUND:case za.ALREADY_EXISTS:case za.PERMISSION_DENIED:case za.FAILED_PRECONDITION:case za.ABORTED:case za.OUT_OF_RANGE:case za.UNIMPLEMENTED:case za.DATA_LOSS:return!0;default:return Oa(15467,{code:e})}}function Xd(e){if(void 0===e)return Na("GRPC error has no .code"),za.UNKNOWN;switch(e){case Gd.OK:return za.OK;case Gd.CANCELLED:return za.CANCELLED;case Gd.UNKNOWN:return za.UNKNOWN;case Gd.DEADLINE_EXCEEDED:return za.DEADLINE_EXCEEDED;case Gd.RESOURCE_EXHAUSTED:return za.RESOURCE_EXHAUSTED;case Gd.INTERNAL:return za.INTERNAL;case Gd.UNAVAILABLE:return za.UNAVAILABLE;case Gd.UNAUTHENTICATED:return za.UNAUTHENTICATED;case Gd.INVALID_ARGUMENT:return za.INVALID_ARGUMENT;case Gd.NOT_FOUND:return za.NOT_FOUND;case Gd.ALREADY_EXISTS:return za.ALREADY_EXISTS;case Gd.PERMISSION_DENIED:return za.PERMISSION_DENIED;case Gd.FAILED_PRECONDITION:return za.FAILED_PRECONDITION;case Gd.ABORTED:return za.ABORTED;case Gd.OUT_OF_RANGE:return za.OUT_OF_RANGE;case Gd.UNIMPLEMENTED:return za.UNIMPLEMENTED;case Gd.DATA_LOSS:return za.DATA_LOSS;default:return Oa(39323,{code:e})}}(Qd=Gd||(Gd={}))[Qd.OK=0]="OK",Qd[Qd.CANCELLED=1]="CANCELLED",Qd[Qd.UNKNOWN=2]="UNKNOWN",Qd[Qd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qd[Qd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qd[Qd.NOT_FOUND=5]="NOT_FOUND",Qd[Qd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qd[Qd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qd[Qd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qd[Qd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qd[Qd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qd[Qd.ABORTED=10]="ABORTED",Qd[Qd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qd[Qd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qd[Qd.INTERNAL=13]="INTERNAL",Qd[Qd.UNAVAILABLE=14]="UNAVAILABLE",Qd[Qd.DATA_LOSS=15]="DATA_LOSS";let $d=null;function Jd(){return new TextEncoder}const Zd=new ua([4294967295,4294967295],0);function eh(e){const t=Jd().encode(e),n=new da;return n.update(t),new Uint8Array(n.digest())}function th(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ua([n,r],0),new ua([i,o],0)]}class nh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rh("Invalid padding: ".concat(t));if(n<0)throw new rh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rh("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=ua.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ua.fromNumber(n)));return 1===r.compare(Zd)&&(r=new ua([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=eh(e),[n,r]=th(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new nh(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=eh(e),[n,r]=th(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ih{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ih(wl.min(),r,new pc($a),ed(),cd())}}class oh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new oh(n,t,cd(),cd(),cd())}}class sh{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ah{constructor(e,t){this.targetId=e,this.Ce=t}}class lh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ch{constructor(){this.ve=0,this.Fe=hh(),this.Me=Sc.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=cd(),t=cd(),n=cd();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Oa(38017,{changeType:i})}}),new oh(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=hh()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ja(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uh{constructor(e){this.Ge=e,this.ze=new Map,this.je=ed(),this.Je=dh(),this.He=dh(),this.Ye=new pc($a)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Oa(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(Ou(o))if(0===n){const e=new ll(o.path);this.et(t,e,au.newNoDocument(e,wl.min()))}else ja(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=$d)||void 0===i||i.lt(function(e,t,n,r,i,o,s,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=_c(n).toUint8Array()}catch(e){if(e instanceof wc)return Pa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new nh(o,r,i)}catch(e){return Pa(e instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Ou(i.target)){const t=new ll(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,au.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=cd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ih(e,t,this.Ye,this.je,n);return this.je=ed(),this.Je=dh(),this.He=dh(),this.Ye=new pc($a),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ch,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new yc($a),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new yc($a),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Ra("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ch),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function dh(){return new pc(ll.comparator)}function hh(){return new pc(ll.comparator)}const fh={asc:"ASCENDING",desc:"DESCENDING"},ph={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mh={and:"AND",or:"OR"};class gh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yh(e,t){return e.useProto3Json||Ll(t)?t:{value:t}}function vh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wh(e,t){return vh(e,t.toTimestamp())}function Sh(e){return ja(!!e,49232),wl.fromTimestamp(function(e){const t=xc(e);return new bl(t.seconds,t.nanos)}(e))}function kh(e,t){return xh(e,t).canonicalString()}function xh(e,t){const n=function(e){return new ol(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Eh(e){const t=ol.fromString(e);return ja(Hh(t),10190,{key:t.toString()}),t}function _h(e,t){return kh(e.databaseId,t.path)}function Ch(e,t){const n=Eh(t);if(n.get(1)!==e.databaseId.projectId)throw new Fa(za.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fa(za.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ll(Rh(n))}function Th(e,t){return kh(e.databaseId,t)}function Ih(e){const t=Eh(e);return 4===t.length?ol.emptyPath():Rh(t)}function Ah(e){return new ol(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rh(e){return ja(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Nh(e,t,n){return{name:_h(e,t),fields:n.value.mapValue.fields}}function Ph(e,t){let n;if(t instanceof jd)n={update:Nh(e,t.key,t.value)};else if(t instanceof Vd)n={delete:_h(e,t.key)};else if(t instanceof Md)n={update:Nh(e,t.key,t.data),updateMask:Bh(t.fieldMask)};else{if(!(t instanceof Wd))return Oa(16599,{Vt:t.type});n={verify:_h(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof bd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ed)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Oa(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Oa(27497)}(e,t.precondition)),n}function Dh(e,t){return{documents:[Th(e,t.path)]}}function Oh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Th(e,i);const o=function(e){if(0!==e.length)return Wh(mu.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Uh(e.field),direction:Mh(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=yh(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Lh(e){let t=Ih(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ja(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=jh(e);return t instanceof mu&&yu(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new du(Vh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ll(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new lu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new lu(n,t)}(n.endAt)),ju(t,i,s,o,a,"F",l,c)}function jh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vh(e.unaryFilter.field);return pu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vh(e.unaryFilter.field);return pu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vh(e.unaryFilter.field);return pu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vh(e.unaryFilter.field);return pu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oa(61313);default:return Oa(60726)}}(e):void 0!==e.fieldFilter?function(e){return pu.create(Vh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oa(58110);default:return Oa(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mu.create(e.compositeFilter.filters.map(e=>jh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Oa(1026)}}(e.compositeFilter.op))}(e):Oa(30097,{filter:e})}function Mh(e){return fh[e]}function zh(e){return ph[e]}function Fh(e){return mh[e]}function Uh(e){return{fieldPath:e.canonicalString()}}function Vh(e){return al.fromServerFormat(e.fieldPath)}function Wh(e){return e instanceof pu?function(e){if("=="===e.op){if(eu(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NAN"}};if(Zc(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eu(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NOT_NAN"}};if(Zc(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uh(e.field),op:zh(e.op),value:e.value}}}(e):e instanceof mu?function(e){const t=e.getFilters().map(e=>Wh(e));return 1===t.length?t[0]:{compositeFilter:{op:Fh(e.op),filters:t}}}(e):Oa(54877,{filter:e})}function Bh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kh{constructor(e){this.yt=e}}function Gh(e){const t=Lh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hu(t,t.limit,"L"):t}class Qh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ec(e.integerValue));else if("doubleValue"in e){const n=Ec(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),jl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=xc(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(_c(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?iu(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):nu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Oa(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Uc,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Ec(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ll.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Qh.Kt=new Qh;class Yh{constructor(){this.Cn=new Xh}addToCollectionParentIndex(e,t){return this.Cn.add(t),Rl.resolve()}getCollectionParents(e,t){return Rl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Rl.resolve()}deleteFieldIndex(e,t){return Rl.resolve()}deleteAllFieldIndexes(e){return Rl.resolve()}createTargetIndexes(e,t){return Rl.resolve()}getDocumentsMatchingTarget(e,t){return Rl.resolve(null)}getIndexType(e,t){return Rl.resolve(0)}getFieldIndexes(e,t){return Rl.resolve([])}getNextCollectionGroupToUpdate(e){return Rl.resolve(null)}getMinOffset(e,t){return Rl.resolve(_l.min())}getMinOffsetFromCollectionGroup(e,t){return Rl.resolve(_l.min())}updateCollectionGroup(e,t,n){return Rl.resolve()}updateIndexEntries(e,t){return Rl.resolve()}}class Xh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new yc(ol.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new yc(ol.comparator)).toArray()}}new Uint8Array(0);const $h={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jh=41943040;class Zh{static withCacheSize(e){return new Zh(e,Zh.DEFAULT_COLLECTION_PERCENTILE,Zh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Zh.DEFAULT_COLLECTION_PERCENTILE=10,Zh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zh.DEFAULT=new Zh(Jh,Zh.DEFAULT_COLLECTION_PERCENTILE,Zh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zh.DISABLED=new Zh(-1,0,0);class ef{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ef(0)}static cr(){return new ef(-1)}}const tf="LruGarbageCollector",nf=1048576;function rf(e,t){let[n,r]=e,[i,o]=t;const s=$a(n,i);return 0===s?$a(r,o):s}class of{constructor(e){this.Ir=e,this.buffer=new yc(rf),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();rf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Ra(tf,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pl(e)?Ra(tf,"Ignoring IndexedDB error during garbage collection: ",e):await Al(e)}await this.Vr(3e5)})}}class af{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Rl.resolve(Dl.ce);const n=new of(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ra("LruGarbageCollector","Garbage collection skipped; disabled"),Rl.resolve($h)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ra("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),$h):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Ra("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Aa()<=on.DEBUG&&Ra("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Rl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function lf(e,t){return new af(e,t)}class cf{constructor(){this.changes=new Ju(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,au.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class df{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Dd(n.mutation,e,bc.empty(),bl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,cd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cd();const r=id();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=nd();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=id();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,cd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ed();const o=sd(),s=sd();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Md)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Dd(s.mutation,t,s.mutation.getFieldMask(),bl.now())):o.set(t.key,bc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new uf(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=sd();let r=new pc((e,t)=>e-t),i=cd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||bc.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||cd()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=od();l.forEach(e=>{if(!i.has(e)){const r=Nd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Rl.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Rl.resolve(id());let s=Sl,a=i;return o.next(t=>Rl.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Rl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,cd())).next(e=>({batchId:s,changes:rd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ll(t)).next(e=>{let t=nd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=nd();return this.indexManager.getCollectionParents(e,i).next(s=>Rl.forEach(s,s=>{const a=function(e,t){return new Lu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,au.newInvalidDocument(r)))});let n=nd();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Dd(o.mutation,r,bc.empty(),bl.now()),Qu(t,r)&&(n=n.insert(e,r))}),n})}}class hf{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Rl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Sh(e.createTime)}}(t)),Rl.resolve()}getNamedQuery(e,t){return Rl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Gh(e.bundledQuery),readTime:Sh(e.readTime)}}(t)),Rl.resolve()}}class ff{constructor(){this.overlays=new pc(ll.comparator),this.qr=new Map}getOverlay(e,t){return Rl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=id();return Rl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Rl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Rl.resolve()}getOverlaysForCollection(e,t,n){const r=id(),i=t.length+1,o=new ll(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new pc((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=id(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=id(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Rl.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qd(t,n));let i=this.qr.get(t);void 0===i&&(i=cd(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class pf{constructor(){this.sessionToken=Sc.EMPTY_BYTE_STRING}getSessionToken(e){return Rl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Rl.resolve()}}class mf{constructor(){this.Qr=new yc(gf.$r),this.Ur=new yc(gf.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new gf(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new gf(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ll(new ol([])),n=new gf(t,e),r=new gf(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ll(new ol([])),n=new gf(t,e),r=new gf(t,e+1);let i=cd();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new gf(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gf{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ll.comparator(e.key,t.key)||$a(e.Yr,t.Yr)}static Kr(e,t){return $a(e.Yr,t.Yr)||ll.comparator(e.key,t.key)}}class yf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new yc(gf.$r)}checkEmpty(e){return Rl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Bd(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new gf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Rl.resolve(o)}lookupMutationBatch(e,t){return Rl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Rl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Rl.resolve(0===this.mutationQueue.length?Ol:this.tr-1)}getAllMutationBatches(e){return Rl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gf(t,0),r=new gf(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Rl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yc($a);return t.forEach(e=>{const t=new gf(e,0),r=new gf(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Rl.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ll.isDocumentKey(i)||(i=i.child(""));const o=new gf(new ll(i),0);let s=new yc($a);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),Rl.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ja(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Rl.forEach(t.mutations,r=>{const i=new gf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new gf(t,0),r=this.Zr.firstAfterOrEqual(n);return Rl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vf{constructor(e){this.ri=e,this.docs=new pc(ll.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rl.resolve(n?n.document.mutableCopy():au.newInvalidDocument(t))}getEntries(e,t){let n=ed();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():au.newInvalidDocument(e))}),Rl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ed();const o=t.path,s=new ll(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Cl(El(s),n)<=0||(r.has(s.key)||Qu(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Rl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Oa(9500)}ii(e,t){return Rl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new bf(this)}getSize(e){return Rl.resolve(this.size)}}class bf extends cf{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Rl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class wf{constructor(e){this.persistence=e,this.si=new Ju(e=>Pu(e),Du),this.lastRemoteSnapshotVersion=wl.min(),this.highestTargetId=0,this.oi=0,this._i=new mf,this.targetCount=0,this.ai=ef.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Rl.resolve()}getLastRemoteSnapshotVersion(e){return Rl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Rl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Rl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ef(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Rl.resolve()}updateTargetData(e,t){return this.Pr(t),Rl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Rl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Rl.waitFor(i).next(()=>r)}getTargetCount(e){return Rl.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Rl.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Rl.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Rl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Rl.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Rl.resolve(n)}containsKey(e,t){return Rl.resolve(this._i.containsKey(t))}}class Sf{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dl(0),this.li=!1,this.li=!0,this.hi=new pf,this.referenceDelegate=e(this),this.Pi=new wf(this),this.indexManager=new Yh,this.remoteDocumentCache=function(e){return new vf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Kh(t),this.Ii=new hf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ff,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new yf(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ra("MemoryPersistence","Starting transaction:",e);const r=new kf(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Rl.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class kf extends Il{constructor(e){super(),this.currentSequenceNumber=e}}class xf{constructor(e){this.persistence=e,this.Ri=new mf,this.Vi=null}static mi(e){return new xf(e)}get fi(){if(this.Vi)return this.Vi;throw Oa(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Rl.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Rl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Rl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rl.forEach(this.fi,n=>{const r=ll.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,wl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Rl.or([()=>Rl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ef{constructor(e,t){this.persistence=e,this.pi=new Ju(e=>Fl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=lf(this,t)}static mi(e,t){return new Ef(e,t)}Ei(){}di(e){return Rl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Rl.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Rl.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,wl.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Rl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Rl.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Rl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Rl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yc(e.data.value)),t}br(e,t,n){return Rl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Rl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _f{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=cd(),r=cd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _f(e,t.fromCache,n,r)}}class Cf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tf{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Ut()?8:Nl(zt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Cf;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Aa()<=on.DEBUG&&Ra("QueryEngine","SDK will not create cache indexes for query:",Gu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Rl.resolve()):(Aa()<=on.DEBUG&&Ra("QueryEngine","Query:",Gu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Aa()<=on.DEBUG&&Ra("QueryEngine","The SDK decides to create cache indexes for query:",Gu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vu(t))):Rl.resolve())}ys(e,t){if(zu(t))return Rl.resolve(null);let n=Vu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Hu(t,null,"F"),n=Vu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=cd(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,Hu(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return zu(t)||r.isEqual(wl.min())?Rl.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Rl.resolve(null):(Aa()<=on.DEBUG&&Ra("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gu(t)),this.vs(e,o,t,xl(r,Sl)).next(e=>e))})}Ds(e,t){let n=new yc(Xu(e));return t.forEach((t,r)=>{Qu(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Aa()<=on.DEBUG&&Ra("QueryEngine","Using full collection scan to execute query:",Gu(t)),this.ps.getDocumentsMatchingQuery(e,t,_l.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const If="LocalStore";class Af{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new pc($a),this.xs=new Ju(e=>Pu(e),Du),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new df(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Rf(e,t,n,r){return new Af(e,t,n,r)}async function Nf(e,t){const n=Ma(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=cd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function Pf(e){const t=Ma(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Df(e,t,n){let r=cd(),i=cd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ed();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(wl.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ra(If,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function Of(e,t){const n=Ma(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ol),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Lf(e,t){const n=Ma(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Rl.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new qh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function jf(e,t,n){const r=Ma(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pl(e))throw e;Ra(If,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Mf(e,t,n){const r=Ma(e);let i=wl.min(),o=cd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ma(e),i=r.xs.get(n);return void 0!==i?Rl.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Vu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:wl.min(),n?o:cd())).next(e=>(zf(r,Yu(t),e),{documents:e,Qs:o})))}function zf(e,t,n){let r=e.Os.get(t)||wl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Ff{constructor(){this.activeTargetIds=dd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uf{constructor(){this.Mo=new Ff,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ff,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vf{Oo(e){}shutdown(){}}const Wf="ConnectivityMonitor";class Bf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ra(Wf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ra(Wf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hf=null;function qf(){return null===Hf?Hf=268435456+Math.round(2147483648*Math.random()):Hf++,"0x"+Hf.toString(16)}const Kf="RestConnection",Gf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Oc?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=qf(),s=this.zo(e,t.toUriEncodedString());Ra(Kf,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=Dt(l);return this.Jo(e,s,a,n,c).then(t=>(Ra(Kf,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Pa(Kf,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Gf[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Yf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xf="WebChannelConnection";class $f extends Qf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=qf();return new Promise((i,s)=>{const a=new pa;a.setWithCredentials(!0),a.listenOnce(ga.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ya.NO_ERROR:const n=a.getResponseJson();Ra(Xf,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case ya.TIMEOUT:Ra(Xf,"RPC '".concat(e,"' ").concat(o," timed out")),s(new Fa(za.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:const r=a.getStatus();if(Ra(Xf,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(za).indexOf(t)>=0?t:za.UNKNOWN}(n.status);s(new Fa(e,n.message))}else s(new Fa(za.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Fa(za.UNAVAILABLE,"Connection failed."));break;default:Oa(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Ra(Xf,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);Ra(Xf,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=qf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sa(),s=wa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ra(Xf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new Yf({Yo:t=>{h?Ra(Xf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ra(Xf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,ma.EventType.OPEN,()=>{h||(Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,ma.EventType.CLOSE,()=>{h||(h=!0,Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,ma.EventType.ERROR,t=>{h||(h=!0,Pa(Xf,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Fa(za.UNAVAILABLE,"The operation could not be completed")))}),p(u,ma.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];ja(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Gd[e];if(void 0!==t)return Xd(t)}(t),i=s.message;void 0===n&&(n=za.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new Fa(n,i)),u.close()}else Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,ba.STAT_EVENT,t=>{t.stat===va.PROXY?Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===va.NOPROXY&&Ra(Xf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Jf(){return"undefined"!=typeof document?document:null}function Zf(e){return new gh(e,!0)}class ep{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ra("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const tp="PersistentStream";class np{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ep(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===za.RESOURCE_EXHAUSTED?(Na(t.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===za.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Fa(za.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ra(tp,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ra(tp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rp extends np{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Oa(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ja(void 0===t||"string"==typeof t,58123),Sc.fromBase64String(t||"")):(ja(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Sc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?za.UNKNOWN:Xd(e.code);return new Fa(t,e.message||"")}(s);n=new lh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ch(e,r.document.name),o=Sh(r.document.updateTime),s=r.document.createTime?Sh(r.document.createTime):wl.min(),a=new ou({mapValue:{fields:r.document.fields}}),l=au.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ch(e,r.document),o=r.readTime?Sh(r.readTime):wl.min(),s=au.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ch(e,r.document),o=r.removedTargetIds||[];n=new sh([],o,i,null)}else{if(!("filter"in t))return Oa(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Kd(r,i),s=e.targetId;n=new ah(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?wl.min():t.readTime?Sh(t.readTime):wl.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ah(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ou(r)?{documents:Dh(e,r)}:{query:Oh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bh(e,t.resumeToken);const r=yh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(wl.min())>0){n.readTime=vh(e,t.snapshotVersion.toTimestamp());const r=yh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oa(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ah(this.serializer),t.removeTarget=e,this.q_(t)}}class ip extends np{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ja(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ja(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ja(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ja(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Sh(e.updateTime):Sh(t);return n.isEqual(wl.min())&&(n=Sh(t)),new Td(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Sh(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ah(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ph(this.serializer,e))};this.q_(t)}}class op{}class sp extends op{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Fa(za.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,xh(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===za.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fa(za.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,xh(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===za.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fa(za.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ap{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Na(t),this.aa=!1):Ra("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const lp="RemoteStore";class cp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{vp(this)&&(Ra(lp,"Restarting streams for network reachability change."),await async function(e){const t=Ma(e);t.Ea.add(4),await dp(t),t.Ra.set("Unknown"),t.Ea.delete(4),await up(t)}(this))})}),this.Ra=new ap(n,r)}}async function up(e){if(vp(e))for(const t of e.da)await t(!0)}async function dp(e){for(const t of e.da)await t(!1)}function hp(e,t){const n=Ma(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yp(n)?gp(n):Mp(n).O_()&&pp(n,t))}function fp(e,t){const n=Ma(e),r=Mp(n);n.Ia.delete(t),r.O_()&&mp(n,t),0===n.Ia.size&&(r.O_()?r.L_():vp(n)&&n.Ra.set("Unknown"))}function pp(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Mp(e).Y_(t)}function mp(e,t){e.Va.Ue(t),Mp(e).Z_(t)}function gp(e){e.Va=new uh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Mp(e).start(),e.Ra.ua()}function yp(e){return vp(e)&&!Mp(e).x_()&&e.Ia.size>0}function vp(e){return 0===Ma(e).Ea.size}function bp(e){e.Va=void 0}async function wp(e){e.Ra.set("Online")}async function Sp(e){e.Ia.forEach((t,n)=>{pp(e,t)})}async function kp(e,t){bp(e),yp(e)?(e.Ra.ha(t),gp(e)):e.Ra.set("Unknown")}async function xp(e,t,n){if(e.Ra.set("Online"),t instanceof lh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Ra(lp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ep(e,n)}else if(t instanceof sh?e.Va.Ze(t):t instanceof ah?e.Va.st(t):e.Va.tt(t),!n.isEqual(wl.min()))try{const t=await Pf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Sc.EMPTY_BYTE_STRING,r.snapshotVersion)),mp(e,t);const i=new qh(r.target,t,n,r.sequenceNumber);pp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ra(lp,"Failed to raise snapshot:",t),await Ep(e,t)}}async function Ep(e,t,n){if(!Pl(t))throw t;e.Ea.add(1),await dp(e),e.Ra.set("Offline"),n||(n=()=>Pf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ra(lp,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await up(e)})}function _p(e,t){return t().catch(n=>Ep(e,n,t))}async function Cp(e){const t=Ma(e),n=zp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ol;for(;Tp(t);)try{const e=await Of(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ip(t,e)}catch(e){await Ep(t,e)}Ap(t)&&Rp(t)}function Tp(e){return vp(e)&&e.Ta.length<10}function Ip(e,t){e.Ta.push(t);const n=zp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ap(e){return vp(e)&&!zp(e).x_()&&e.Ta.length>0}function Rp(e){zp(e).start()}async function Np(e){zp(e).ra()}async function Pp(e){const t=zp(e);for(const n of e.Ta)t.ea(n.mutations)}async function Dp(e,t,n){const r=e.Ta.shift(),i=Hd.from(r,t,n);await _p(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cp(e)}async function Op(e,t){t&&zp(e).X_&&await async function(e,t){if(function(e){return Yd(e)&&e!==za.ABORTED}(t.code)){const n=e.Ta.shift();zp(e).B_(),await _p(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Cp(e)}}(e,t),Ap(e)&&Rp(e)}async function Lp(e,t){const n=Ma(e);n.asyncQueue.verifyOperationInProgress(),Ra(lp,"RemoteStore received new credentials");const r=vp(n);n.Ea.add(3),await dp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await up(n)}async function jp(e,t){const n=Ma(e);t?(n.Ea.delete(2),await up(n)):t||(n.Ea.add(2),await dp(n),n.Ra.set("Unknown"))}function Mp(e){return e.ma||(e.ma=function(e,t,n){const r=Ma(e);return r.sa(),new rp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:wp.bind(null,e),t_:Sp.bind(null,e),r_:kp.bind(null,e),H_:xp.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),yp(e)?gp(e):e.Ra.set("Unknown")):(await e.ma.stop(),bp(e))})),e.ma}function zp(e){return e.fa||(e.fa=function(e,t,n){const r=Ma(e);return r.sa(),new ip(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Np.bind(null,e),r_:Op.bind(null,e),ta:Pp.bind(null,e),na:Dp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Cp(e)):(await e.fa.stop(),e.Ta.length>0&&(Ra(lp,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Fp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Fp(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fa(za.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(e,t){if(Na("AsyncQueue","".concat(t,": ").concat(e)),Pl(e))return new Fa(za.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Vp{static emptySet(e){return new Vp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ll.comparator(t.key,n.key):(e,t)=>ll.comparator(e.key,t.key),this.keyedMap=nd(),this.sortedSet=new pc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wp{constructor(){this.ga=new pc(ll.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oa(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Bp{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Bp(e,t,Vp.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hp{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class qp{constructor(){this.queries=Kp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Ma(e),r=n.queries;n.queries=Kp(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Fa(za.ABORTED,"Firestore shutting down"))}}function Kp(){return new Ju(e=>Ku(e),qu)}async function Gp(e,t){const n=Ma(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Hp,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Up(e,"Initialization of query '".concat(Gu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&$p(n)}async function Qp(e,t){const n=Ma(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yp(e,t){const n=Ma(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&$p(n)}function Xp(e,t,n){const r=Ma(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function $p(e){e.Ca.forEach(e=>{e.next()})}var Jp,Zp;(Zp=Jp||(Jp={})).Ma="default",Zp.Cache="cache";class em{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Bp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jp.Cache}}class tm{constructor(e){this.key=e}}class nm{constructor(e){this.key=e}}class rm{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=cd(),this.mutatedKeys=cd(),this.eu=Xu(e),this.tu=new Vp(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Wp,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Qu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oa(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new Bp(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=cd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new nm(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new tm(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=cd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const im="SyncEngine";class om{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sm{constructor(e){this.key=e,this.hu=!1}}class am{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ju(e=>Ku(e),qu),this.Iu=new Map,this.Eu=new Set,this.du=new pc(ll.comparator),this.Au=new Map,this.Ru=new mf,this.Vu={},this.mu=new Map,this.fu=ef.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function lm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Am(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await um(r,t,n,!0),i}async function cm(e,t){const n=Am(e);await um(n,t,!0,!1)}async function um(e,t,n,r){const i=await Lf(e.localStore,Vu(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await dm(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&hp(e.remoteStore,i),a}async function dm(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Mf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return xm(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await Mf(e.localStore,t,!0),s=new rm(t,o.Qs),a=s.ru(o.documents),l=oh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);xm(e,n,c.au);const u=new om(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function hm(e,t,n){const r=Ma(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!qu(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fp(r.remoteStore,i.targetId),Sm(r,i.targetId)}).catch(Al)):(Sm(r,i.targetId),await jf(r.localStore,i.targetId,!0))}async function fm(e,t){const n=Ma(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fp(n.remoteStore,r.targetId))}async function pm(e,t){const n=Ma(e);try{const e=await function(e,t){const n=Ma(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Sc.EMPTY_BYTE_STRING,wl.min()).withLastLimboFreeSnapshotVersion(wl.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Pi.updateTargetData(e,c))});let a=ed(),l=cd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Df(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(wl.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Rl.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ja(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ja(r.hu,14607):e.removedDocuments.size>0&&(ja(r.hu,42227),r.hu=!1))}),await Cm(n,e,t)}catch(e){await Al(e)}}function mm(e,t,n){const r=Ma(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ma(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&$p(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gm(e,t,n){const r=Ma(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new pc(ll.comparator);e=e.insert(o,au.newNoDocument(o,wl.min()));const n=cd().add(o),i=new ih(wl.min(),new Map,new pc($a),e,n);await pm(r,i),r.du=r.du.remove(o),r.Au.delete(t),_m(r)}else await jf(r.localStore,t,!1).then(()=>Sm(r,t,n)).catch(Al)}async function ym(e,t){const n=Ma(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ma(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Rl.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);ja(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wm(n,r,null),bm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cm(n,e)}catch(e){await Al(e)}}async function vm(e,t,n){const r=Ma(e);try{const e=await function(e,t){const n=Ma(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ja(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wm(r,t,n),bm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cm(r,e)}catch(n){await Al(n)}}function bm(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wm(e,t,n){const r=Ma(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||km(e,t)})}function km(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(fp(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),_m(e))}function xm(e,t,n){for(const r of n)r instanceof tm?(e.Ru.addReference(r.key,t),Em(e,r)):r instanceof nm?(Ra(im,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||km(e,r.key)):Oa(19791,{wu:r})}function Em(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ra(im,"New document in limbo: "+n),e.Eu.add(r),_m(e))}function _m(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ll(ol.fromString(t)),r=e.fu.next();e.Au.set(r,new sm(n)),e.du=e.du.insert(n,r),hp(e.remoteStore,new qh(Vu(Mu(n.path)),r,"TargetPurposeLimboResolution",Dl.ce))}}async function Cm(e,t,n){const r=Ma(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=_f.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=Ma(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Rl.forEach(t,t=>Rl.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Rl.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pl(e))throw e;Ra(If,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function Tm(e,t){const n=Ma(e);if(!n.currentUser.isEqual(t)){Ra(im,"User change. New user:",t.toKey());const e=await Nf(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Fa(za.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cm(n,e.Ls)}}function Im(e,t){const n=Ma(e),r=n.Au.get(t);if(r&&r.hu)return cd().add(r.key);{let e=cd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Am(e){const t=Ma(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Im.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gm.bind(null,t),t.Pu.H_=Yp.bind(null,t.eventManager),t.Pu.yu=Xp.bind(null,t.eventManager),t}function Rm(e){const t=Ma(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ym.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vm.bind(null,t),t}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Rf(this.persistence,new Tf,e.initialUser,this.serializer)}Cu(e){return new Sf(xf.mi,this.serializer)}Du(e){return new Uf}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class Pm extends Nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ja(this.persistence.referenceDelegate instanceof Ef,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new sf(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Zh.withCacheSize(this.cacheSizeBytes):Zh.DEFAULT;return new Sf(e=>Ef.mi(e,t),this.serializer)}}class Dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tm.bind(null,this.syncEngine),await jp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qp}createDatastore(e){const t=Zf(e.databaseInfo.databaseId),n=function(e){return new $f(e)}(e.databaseInfo);return function(e,t,n,r){return new sp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new cp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>mm(this.syncEngine,e,0),Bf.v()?new Bf:new Vf)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new am(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ma(e);Ra(lp,"RemoteStore shutting down."),t.Ea.add(5),await dp(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Dm.provider={build:()=>new Dm};class Om{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Lm="FirestoreClient";class jm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ca.UNAUTHENTICATED,this.clientId=Xa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Ra(Lm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ra(Lm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Up(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Mm(e,t){e.asyncQueue.verifyOperationInProgress(),Ra(Lm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Nf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Fm(e);Ra(Lm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Lp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Lp(t.remoteStore,n)),e._onlineComponents=t}async function Fm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ra(Lm,"Using user provided OfflineComponentProvider");try{await Mm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===za.FAILED_PRECONDITION||e.code===za.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await Mm(e,new Nm)}}else Ra(Lm,"Using default OfflineComponentProvider"),await Mm(e,new Pm(void 0));return e._offlineComponents}async function Um(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ra(Lm,"Using user provided OnlineComponentProvider"),await zm(e,e._uninitializedComponentsProvider._online)):(Ra(Lm,"Using default OnlineComponentProvider"),await zm(e,new Dm))),e._onlineComponents}function Vm(e){return Um(e).then(e=>e.syncEngine)}async function Wm(e){const t=await Um(e),n=t.eventManager;return n.onListen=lm.bind(null,t.syncEngine),n.onUnlisten=hm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fm.bind(null,t.syncEngine),n}function Bm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Om({next:a=>{o.Nu(),t.enqueueAndForget(()=>Qp(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Fa(za.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Fa(za.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new em(Mu(n.path),o,{includeMetadataChanges:!0,qa:!0});return Gp(e,s)}(await Wm(e),e.asyncQueue,t,n,r)),r.promise}function Hm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ua;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Om({next:n=>{o.Nu(),t.enqueueAndForget(()=>Qp(e,s)),n.fromCache&&"server"===r.source?i.reject(new Fa(za.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new em(n,o,{includeMetadataChanges:!0,qa:!0});return Gp(e,s)}(await Wm(e),e.asyncQueue,t,n,r)),r.promise}function qm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Km=new Map,Gm="firestore.googleapis.com",Qm=!0;class Ym{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fa(za.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gm,this.ssl=Qm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Qm;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Jh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<nf)throw new Fa(za.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Fa(za.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fa(za.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Fa(za.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Fa(za.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ym({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fa(za.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fa(za.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ym(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wa;switch(e.type){case"firstParty":return new Ka(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fa(za.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Km.get(e);t&&(Ra("ComponentProvider","Removing Datastore"),Km.delete(e),t.terminate())}(this),Promise.resolve()}}function $m(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=pl(e,Xm);const i=Dt(t),o=e._getSettings(),s=u(u({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(Ot("https://".concat(a)),Mt("Firestore",!0)),o.host!==Gm&&o.host!==a&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=u(u({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!qt(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ca.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_t(JSON.stringify({alg:"none",type:"JWT"})),_t(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Fa(za.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ca(i)}e._authCredentials=new Ba(new Va(t,n))}}class Jm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jm(this.firestore,e,this._query)}}class Zm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zm(this.firestore,e,this._key)}toJSON(){return{type:Zm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(gl(t,Zm._jsonSchema))return new Zm(e,n||null,new ll(ol.fromString(t.referencePath)))}}Zm._jsonSchemaVersion="firestore/documentReference/1.0",Zm._jsonSchema={type:ml("string",Zm._jsonSchemaVersion),referencePath:ml("string")};class eg extends Jm{constructor(e,t,n){super(e,t,Mu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zm(this.firestore,null,new ll(e))}withConverter(e){return new eg(this.firestore,e,this._path)}}function tg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jt(e),cl("collection","path",t),e instanceof Xm){const n=ol.fromString(t,...r);return dl(n),new eg(e,null,n)}{if(!(e instanceof Zm||e instanceof eg))throw new Fa(za.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ol.fromString(t,...r));return dl(n),new eg(e.firestore,null,n)}}function ng(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jt(e),1===arguments.length&&(t=Xa.newId()),cl("doc","path",t),e instanceof Xm){const n=ol.fromString(t,...r);return ul(n),new Zm(e,null,new ll(n))}{if(!(e instanceof Zm||e instanceof eg))throw new Fa(za.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ol.fromString(t,...r));return ul(n),new Zm(e.firestore,e instanceof eg?e.converter:null,new ll(n))}}const rg="AsyncQueue";class ig{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ep(this,"async_queue_retry"),this._c=()=>{const e=Jf();e&&Ra(rg,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Jf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ua;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(Iy){if(!Pl(Iy))throw Iy;Ra(rg,"Operation failed with retryable error: "+Iy)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Na("INTERNAL UNHANDLED ERROR: ",og(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Fp.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Oa(47125,{Pc:og(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function og(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class sg extends Xm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ig,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ig(e),this._firestoreClient=void 0,await e}}}function ag(e){if(e._terminated)throw new Fa(za.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lg(e),e._firestoreClient}function lg(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Dc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qm(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new jm(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class cg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cg(Sc.fromBase64String(e))}catch(e){throw new Fa(za.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new cg(Sc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cg._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gl(e,cg._jsonSchema))return cg.fromBase64String(e.bytes)}}cg._jsonSchemaVersion="firestore/bytes/1.0",cg._jsonSchema={type:ml("string",cg._jsonSchemaVersion),bytes:ml("string")};class ug{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Fa(za.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new al(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._methodName=e}}class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fa(za.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fa(za.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $a(this._lat,e._lat)||$a(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hg._jsonSchemaVersion}}static fromJSON(e){if(gl(e,hg._jsonSchema))return new hg(e.latitude,e.longitude)}}hg._jsonSchemaVersion="firestore/geoPoint/1.0",hg._jsonSchema={type:ml("string",hg._jsonSchemaVersion),latitude:ml("number"),longitude:ml("number")};class fg{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gl(e,fg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new fg(e.vectorValues);throw new Fa(za.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fg._jsonSchemaVersion="firestore/vectorValue/1.0",fg._jsonSchema={type:ml("string",fg._jsonSchemaVersion),vectorValues:ml("object")};const pg=/^__.*__$/;class mg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Md(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}class gg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Md(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oa(40011,{Ac:e})}}class vg{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg(u(u({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(yg(this.Ac)&&pg.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Zf(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vg({Ac:e,methodName:t,Dc:n,path:al.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(e){const t=e._freezeSettings(),n=Zf(e._databaseId);return new bg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sg(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);Ag("Data must be an object, but it was:",s,r);const a=Tg(r,s);let l,c;if(o.merge)l=new bc(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Rg(t,r,n);if(!s.contains(i))throw new Fa(za.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Og(e,i)||e.push(i)}l=new bc(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new mg(new ou(a),l,c)}class kg extends dg{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kg}}function xg(e,t,n,r){const i=e.Cc(1,t,n);Ag("Data must be an object, but it was:",i,r);const o=[],s=ou.empty();hc(r,(e,r)=>{const a=Pg(t,e,n);r=Jt(r);const l=i.yc(a);if(r instanceof kg)o.push(a);else{const e=Cg(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new bc(o);return new gg(s,a,i.fieldTransforms)}function Eg(e,t,n,r,i,o){const s=e.Cc(1,t,n),a=[Rg(t,r,n)],l=[i];if(o.length%2!=0)throw new Fa(za.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(Rg(t,o[h])),l.push(o[h+1]);const c=[],u=ou.empty();for(let h=a.length-1;h>=0;--h)if(!Og(c,a[h])){const e=a[h];let t=l[h];t=Jt(t);const n=s.yc(e);if(t instanceof kg)c.push(e);else{const r=Cg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new bc(c);return new gg(u,d,s.fieldTransforms)}function _g(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Cg(n,e.Cc(r?4:3,t))}function Cg(e,t){if(Ig(e=Jt(e)))return Ag("Unsupported field value:",t,e),Tg(e,t);if(e instanceof dg)return function(e,t){if(!yg(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Cg(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Jt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bl.fromDate(e);return{timestampValue:vh(t.serializer,n)}}if(e instanceof bl){const n=new bl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vh(t.serializer,n)}}if(e instanceof hg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cg)return{bytesValue:bh(t.serializer,e._byteString)};if(e instanceof Zm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:kh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fg)return function(e,t){return{mapValue:{fields:{[jc]:{stringValue:Fc},[Uc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return hd(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(fl(e)))}(e,t)}function Tg(e,t){const n={};return fc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hc(e,(e,r)=>{const i=Cg(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ig(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bl||e instanceof hg||e instanceof cg||e instanceof Zm||e instanceof dg||e instanceof fg)}function Ag(e,t,n){if(!Ig(n)||!hl(n)){const r=fl(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Rg(e,t,n){if((t=Jt(t))instanceof ug)return t._internalPath;if("string"==typeof t)return Pg(e,t);throw Dg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ng=new RegExp("[~\\*/\\[\\]]");function Pg(e,t,n){if(t.search(Ng)>=0)throw Dg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ug(...t.split("."))._internalPath}catch(r){throw Dg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dg(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Fa(za.INVALID_ARGUMENT,a+e+l)}function Og(e,t){return e.some(e=>e.isEqual(t))}class Lg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jg extends Lg{data(){return super.data()}}function Mg(e,t){return"string"==typeof t?Pg(e,t):t instanceof ug?t._internalPath:t._delegate._internalPath}function zg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fa(za.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class Ug extends Fg{}function Vg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Fg&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Bg).length,n=e.filter(e=>e instanceof Wg).length;if(t>1||t>0&&n>0)throw new Fa(za.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Wg extends Ug{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Wg(e,t,n)}_apply(e){const t=this._parse(e);return Qg(e._query,t),new Jm(e.firestore,e.converter,Bu(e._query,t))}_parse(e){const t=wg(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Fa(za.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Gg(s,o);const t=[];for(const n of s)t.push(Kg(r,e,n));a={arrayValue:{values:t}}}else a=Kg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Gg(s,o),a=_g(n,t,s,"in"===o||"not-in"===o);return pu.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Bg extends Fg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:mu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Qg(n,i),n=Bu(n,i)}(e._query,t),new Jm(e.firestore,e.converter,Bu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Hg extends Ug{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Fa(za.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fa(za.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(t,n)}(e._query,this._field,this._direction);return new Jm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Lu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Mg("orderBy",e);return Hg._create(n,t)}function Kg(e,t,n){if("string"==typeof(n=Jt(n))){if(""===n)throw new Fa(za.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fu(t)&&-1!==n.indexOf("/"))throw new Fa(za.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ol.fromString(n));if(!ll.isDocumentKey(r))throw new Fa(za.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xc(e,new ll(r))}if(n instanceof Zm)return Xc(e,n._key);throw new Fa(za.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(fl(n),"."))}function Gg(e,t){if(!Array.isArray(e)||0===e.length)throw new Fa(za.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Qg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Fa(za.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fa(za.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Yg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ec(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oa(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return hc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Uc].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Ec(e.doubleValue));return new fg(n)}convertGeoPoint(e){return new hg(Ec(e.latitude),Ec(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=xc(e);return new bl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ol.fromString(e);ja(Hh(n),9688,{name:e});const r=new Lc(n.get(1),n.get(3)),i=new ll(n.popFirst(5));return r.isEqual(t)||Na("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Xg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $g{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jg extends Lg{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Mg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fa(za.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Jg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Jg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jg._jsonSchema={type:ml("string",Jg._jsonSchemaVersion),bundleSource:ml("string","DocumentSnapshot"),bundleName:ml("string"),bundle:ml("string")};class Zg extends Jg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ey{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $g(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Zg(this._firestore,this._userDataWriter,n.key,n,new $g(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fa(za.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Zg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $g(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Zg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $g(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ty(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fa(za.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ey._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xa.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ty(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oa(61501,{type:e})}}function ny(e){e=pl(e,Zm);const t=pl(e.firestore,sg);return Bm(ag(t),e._key).then(n=>ly(t,e,n))}ey._jsonSchemaVersion="firestore/querySnapshot/1.0",ey._jsonSchema={type:ml("string",ey._jsonSchemaVersion),bundleSource:ml("string","QuerySnapshot"),bundleName:ml("string"),bundle:ml("string")};class ry extends Yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new cg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zm(this.firestore,null,t)}}function iy(e){e=pl(e,Jm);const t=pl(e.firestore,sg),n=ag(t),r=new ry(t);return zg(e._query),Hm(n,e._query).then(n=>new ey(t,r,e,n))}function oy(e,t,n){e=pl(e,Zm);const r=pl(e.firestore,sg),i=Xg(e.converter,t,n);return ay(r,[Sg(wg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Id.none())])}function sy(e,t,n){e=pl(e,Zm);const r=pl(e.firestore,sg),i=wg(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Jt(t))||t instanceof ug?Eg(i,"updateDoc",e._key,t,n,a):xg(i,"updateDoc",e._key,t),ay(r,[o.toMutation(e._key,Id.exists(!0))])}function ay(e,t){return function(e,t){const n=new Ua;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Rm(e);try{const e=await function(e,t){const n=Ma(e),r=bl.now(),i=t.reduce((e,t)=>e.add(t.key),cd());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=ed(),l=cd();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Od(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Md(e.key,t,su(t.value.mapValue),Id.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:rd(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new pc($a)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cm(r,e.changes),await Cp(r.remoteStore)}catch(e){const t=Up(e,"Failed to persist write");n.reject(t)}}(await Vm(e),t,n)),n.promise}(ag(e),t)}function ly(e,t,n){const r=n.docs.get(t._key),i=new ry(e);return new Jg(e,i,t._key,r,new $g(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ta=e}(pr),cr(new Zt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new sg(new Ha(e.getProvider("auth-internal")),new Qa(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fa(za.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(e.options.projectId,t)}(o,r),o);return i=u({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),yr(Ea,_a,e),yr(Ea,_a,"esm2020")}();yr("firebase","12.4.0","app");const cy=mr({apiKey:"AIzaSyAto1Q5Bq2nHNNecCdsXLkLmpdNR2X_RdI",authDomain:"ashramam-network.firebaseapp.com",projectId:"ashramam-network",storageBucket:"ashramam-network.firebasestorage.app",messagingSenderId:"135445089005",appId:"1:135445089005:web:e4205845f78ecf99291ae4"}),uy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();const t=ur(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ur(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(qt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;jr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ra,persistence:[fs,Go,Jo]}),r=Nt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>aa)return;const r=null===t||void 0===t?void 0:t.token;la!==r&&(la=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Jt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Jt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=At("auth");return o&&io(n,"http://".concat(o)),n}(cy),dy=function(e,t){const n="object"==typeof e?e:gr(),r="string"==typeof e?e:t||Oc,i=ur(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=At(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&$m(i,...e)}return i}(cy);Vo(uy,Go).catch(e=>{console.error("Error setting Firebase persistence:",e)});new Map;var hy=n(579);const fy=e=>{let{isOpen:t,onAgree:n,onCancel:r}=e;return t?(0,hy.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,hy.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"1rem",padding:"2rem",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid #e5e7eb"},children:[(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:[(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Logo",style:{height:48,marginRight:"1rem"}}),(0,hy.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:"Terms and Disclaimer"})]}),(0,hy.jsx)("div",{style:{color:"#374151",lineHeight:"1.7",fontSize:"1rem",textAlign:"left"},children:(0,hy.jsx)("div",{style:{backgroundColor:"#f8fafc",padding:"1.5rem",borderRadius:"0.75rem",marginBottom:"1.5rem",border:"2px solid #e2e8f0",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:(0,hy.jsxs)("p",{style:{margin:0,fontSize:"1.05rem",color:"#1e293b",fontWeight:"500",letterSpacing:"0.3px"},children:["\u0d38\u0d41\u0d39\u0d43\u0d24\u0d4d\u0d24\u0d41\u0d15\u0d33\u0d46,",(0,hy.jsx)("br",{}),"\u0d38\u0d41\u0d16\u0d02 \u0d0e\u0d28\u0d4d\u0d28\u0d4d \u0d15\u0d30\u0d41\u0d24\u0d41\u0d28\u0d4d\u0d28\u0d41. \u0d07\u0d24\u0d4d \u0d28\u0d2e\u0d4d\u0d2e\u0d41\u0d1f\u0d46 \u0d38\u0d4d\u0d35\u0d15\u0d3e\u0d30\u0d4d\u0d2f \u0d07\u0d1f\u0d2e\u0d3e\u0d23\u0d4d, \u0d06\u0d2f\u0d24\u0d3f\u0d28\u0d3e\u0d7d \u0d38\u0d4d\u0d35\u0d15\u0d3e\u0d30\u0d4d\u0d2f\u0d02 \u0d06\u0d2f\u0d3f \u0d24\u0d28\u0d4d\u0d28\u0d46 \u0d15\u0d4a\u0d23\u0d4d\u0d1f\u0d4d \u0d28\u0d1f\u0d15\u0d4d\u0d15\u0d41\u0d15. \u0d0e\u0d28\u0d4d\u0d28\u0d4d \u0d35\u0d46\u0d1a\u0d4d\u0d1a\u0d4d \u0d15\u0d41\u0d1f\u0d41\u0d02\u0d2c\u0d02 \u0d24\u0d15\u0d30\u0d41\u0d28\u0d4d\u0d28 \u0d12\u0d30\u0d41 \u0d38\u0d4d\u0d35\u0d15\u0d3e\u0d30\u0d4d\u0d2f\u0d24\u0d2f\u0d41\u0d02 \u0d38\u0d4d\u0d35\u0d3e\u0d32\u0d3f\u0d39\u0d40\u0d19\u0d4d\u0d19\u0d33\u0d3e\u0d2f \u0d28\u0d2e\u0d4d\u0d2e\u0d7e\u0d15\u0d4d\u0d15\u0d3f\u0d1f\u0d2f\u0d3f\u0d7d \u0d07\u0d32\u0d4d\u0d32\u0d32\u0d4d\u0d32\u0d4b. \u0d28\u0d2e\u0d4d\u0d2e\u0d41\u0d1f\u0d46 \u0d12\u0d24\u0d4d\u0d24\u0d4a\u0d30\u0d41\u0d2e\u0d3f\u0d1a\u0d4d\u0d1a\u0d41\u0d33\u0d4d\u0d33 \u0d38\u0d02\u0d2d\u0d35\u0d19\u0d4d\u0d19\u0d33\u0d41\u0d02 \u0d15\u0d25\u0d15\u0d33\u0d41\u0d02 \u0d05\u0d1f\u0d19\u0d4d\u0d19\u0d3f\u0d2f \u0d12\u0d30\u0d41 \u0d38\u0d4b\u0d37\u0d4d\u0d2f\u0d7d \u0d2e\u0d40\u0d21\u0d3f\u0d2f \u0d28\u0d46\u0d31\u0d4d\u0d31\u0d4d\u200c\u0d35\u0d7c\u0d15\u0d4d\u0d15\u0d4d \u0d0e\u0d28\u0d4d\u0d28\u0d4d \u0d38\u0d3e\u0d30\u0d02. \u0d08 \u0d38\u0d4d\u0d2a\u0d47\u0d38\u0d3f\u0d7d \u0d28\u0d2e\u0d4d\u0d2e\u0d7e 13 \u0d2a\u0d47\u0d7c\u0d15\u0d4d\u0d15\u0d4d \u0d2e\u0d3e\u0d24\u0d4d\u0d30\u0d2e\u0d47 \u0d32\u0d4b\u0d17\u0d3f\u0d7b \u0d1a\u0d46\u0d2f\u0d4d\u0d2f\u0d3e\u0d7b \u0d06\u0d35\u0d42, \u0d35\u0d47\u0d31\u0d46 \u0d12\u0d30\u0d41 \u0d2e\u0d48\u0d30\u0d28\u0d4d\u0d2e\u0d3e\u0d7c\u0d15\u0d4d\u0d15\u0d41\u0d02 \u0d07\u0d24\u0d3f\u0d7d \u0d15\u0d47\u0d31\u0d3e\u0d7b \u0d05\u0d28\u0d41\u0d35\u0d3e\u0d26\u0d2e\u0d3f\u0d32\u0d4d\u0d32\u0d4d\u0d2f. \u0d07\u0d24\u0d3f\u0d28\u0d4d\u0d31\u0d46 \u0d2a\u0d42\u0d7c\u0d23 \u0d28\u0d3f\u0d7c\u0d2e\u0d4d\u0d2e\u0d3e\u0d23 \u0d15\u0d7c\u0d24\u0d4d\u0d24\u0d35\u0d4d\u0d2f\u0d02 \u0d28\u0d2e\u0d41\u0d15\u0d4d\u0d15\u0d4d  \u0d2e\u0d3e\u0d24\u0d4d\u0d30\u0d2e\u0d3e\u0d23\u0d4d \u0d0e\u0d28\u0d4d\u0d28\u0d4d \u0d05\u0d31\u0d3f\u0d2f\u0d3f\u0d1a\u0d4d\u0d1a\u0d41 \u0d15\u0d4a\u0d23\u0d4d\u0d1f\u0d4d \u0d0e\u0d32\u0d4d\u0d32\u0d3e \u0d06\u0d36\u0d4d\u0d30\u0d2e\u0d28\u0d3f\u0d35\u0d3e\u0d38\u0d3f\u0d15\u0d7e\u0d15\u0d4d\u0d15\u0d41\u0d02 \u0d28\u0d2e\u0d4d\u0d2e\u0d41\u0d1f\u0d46 \u0d08 \u0d2a\u0d47\u0d1c\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d4d \u0d38\u0d4d\u0d35\u0d3e\u0d17\u0d24\u0d02. \u0d13\u0d15\u0d4d\u0d15\u0d46 \u0d06\u0d23\u0d32\u0d4d\u0d32\u0d4b \u0d05\u0d32\u0d4d\u0d32\u0d46?"]})})}),(0,hy.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"2rem"},children:[(0,hy.jsx)("button",{onClick:r,style:{padding:"0.75rem 1.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:"#ffffff",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#ffffff"},children:"Cancel"}),(0,hy.jsx)("button",{onClick:n,style:{padding:"0.75rem 1.5rem",borderRadius:"0.5rem",border:"none",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"#ffffff",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 6px 8px -1px rgba(0, 0, 0, 0.15)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:"I Agree & Continue"})]})]})}):null},py=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!0),y=me();return(0,hy.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",padding:window.innerWidth<=768?"0.5rem":"1rem"},children:[(0,hy.jsx)("div",{style:{maxWidth:"28rem",width:"100%",margin:window.innerWidth<=768?"0":"auto"},children:(0,hy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(8px)",borderRadius:window.innerWidth<=768?"0.75rem":"1rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:window.innerWidth<=768?"1.5rem":"2rem",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",minHeight:window.innerWidth<=768?"calc(100vh - 1rem)":"auto",justifyContent:window.innerWidth<=768?"center":"flex-start"},children:[(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem",width:"100%"},children:(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Ashramam Vibes Logo",style:{height:window.innerWidth<=768?"48px":"64px",width:"auto",objectFit:"contain",filter:"drop-shadow(0 4px 3px rgba(0, 0, 0, 0.07))"}})}),(0,hy.jsxs)("div",{style:{textAlign:"center",marginBottom:window.innerWidth<=768?"1.5rem":"2rem"},children:[(0,hy.jsx)("h2",{style:{fontSize:window.innerWidth<=768?"1.1rem":"1.3rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.5rem",lineHeight:"1.3",textAlign:"center"},children:o?"\u0d05\u0d35\u0d28\u0d35\u0d7b \u0d15\u0d41\u0d34\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28 \u0d15\u0d41\u0d30\u0d41\u0d15\u0d4d\u0d15\u0d34\u0d3f\u0d1a\u0d4d\u0d1a\u0d46\u0d1f\u0d41\u0d15\u0d4d\u0d15\u0d41\u0d2e\u0d4d\u0d2a\u0d4b\u0d7e \u0d17\u0d41\u0d32\u0d41\u0d2e\u0d3e\u0d7d":""}),(0,hy.jsx)("p",{style:{color:"#6b7280",fontSize:window.innerWidth<=768?"0.8rem":"0.875rem",fontWeight:o?"normal":"bold",lineHeight:"1.4"},children:o?"":(0,hy.jsx)("strong",{style:{fontWeight:"900",fontSize:window.innerWidth<=768?"0.85rem":"0.9rem"},children:"\u0d38\u0d41\u0d16\u0d32\u0d4d\u0d32\u0d47? \u0d0e\u0d28\u0d4d\u0d28 \u0d15\u0d47\u0d31\u0d3f\u0d15\u0d4d\u0d15\u0d4b"})})]}),(0,hy.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),!o||f){u(!0);try{if(o){const t=await async function(e,t,n){if(dr(e.app))return Promise.reject(Fr(e));const r=Ki(e),i=no(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",To,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zo(e),t}),s=await Io._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(uy,e,n),i=t.user;try{await Fo(i)}catch(r){console.error("Error sending verification email:",r)}await oy(ng(dy,"pendingUsers",i.uid),{email:i.email,approved:!1,joinedAt:new Date,uid:i.uid}),l("Account created successfully! A verification email has been sent to your email address. Please verify your email and wait for admin approval before signing in."),s(!1),p(!1)}else{await(async e=>{try{const t=e?Go:Jo;await Vo(uy,t),console.log("Firebase persistence set to:",e?"local":"session")}catch(a){console.error("Error setting auth persistence:",a)}})(m);const t=await function(e,t,n){return dr(e.app)?Promise.reject(Fr(e)):Lo(Jt(e),wo.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zo(e),t})}(uy,e,n),r=ng(dy,"pendingUsers",t.user.uid),i=await ny(r);if(!i.exists())return void l("No pendingUsers document found for your account.");{const e=i.data();if(!e.approved)return await function(e){return Jt(e).signOut()}(uy),void l("Your account is awaiting admin approval.\nFirestore doc: ".concat(JSON.stringify(e,null,2)))}const o=ng(dy,"profiles",t.user.uid),s=await ny(o);if(s.exists()){const e=s.data(),t=e.name&&e.city&&e.country&&e.bio&&e.intellectual&&e.umrah&&e.funLover;y(t?"/dashboard":"/profile?firstTime=true")}else y("/profile?firstTime=true")}}catch(i){l(i.message)}finally{u(!1)}}else h(!0)},style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%"},children:[(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{htmlFor:"email",style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.25rem"},children:"Email"}),(0,hy.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid #d1d5db",borderRadius:"0.75rem",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",outline:"none",color:"#111827",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(8px)",transition:"all 0.2s",boxSizing:"border-box"},placeholder:"Enter your email",required:!0})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{htmlFor:"password",style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.25rem"},children:"Password"}),(0,hy.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>i(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid #d1d5db",borderRadius:"0.75rem",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",outline:"none",color:"#111827",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(8px)",transition:"all 0.2s",boxSizing:"border-box"},placeholder:"Enter your password",required:!0})]}),!o&&(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem"},children:[(0,hy.jsx)("input",{type:"checkbox",id:"keepLoggedIn",checked:m,onChange:e=>g(e.target.checked),style:{width:"16px",height:"16px",cursor:"pointer"}}),(0,hy.jsx)("label",{htmlFor:"keepLoggedIn",style:{fontSize:"0.875rem",color:"#374151",cursor:"pointer",userSelect:"none"},children:"Keep me logged in"})]}),a&&(0,hy.jsx)("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#b91c1c",padding:"0.75rem 1rem",borderRadius:"0.75rem",fontSize:"0.875rem",fontWeight:"500"},children:a}),(0,hy.jsx)("button",{type:"submit",disabled:c,style:{width:"100%",background:"linear-gradient(to right, #2563eb, #9333ea)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.75rem",fontWeight:"600",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:"all 0.2s",border:"none",cursor:c?"not-allowed":"pointer",opacity:c?.5:1},children:c?"Please wait...":o?"Create Account":"Sign In"})]}),(0,hy.jsx)("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:(0,hy.jsx)("button",{onClick:()=>s(!o),style:{color:"#2563eb",fontSize:"0.875rem",fontWeight:"500",transition:"color 0.2s",border:"none",background:"none",cursor:"pointer"},children:o?"Already have an account? Sign In":"Need an account? Sign Up"})})]})}),(0,hy.jsx)(fy,{isOpen:d,onAgree:()=>{h(!1),p(!0);const e=document.querySelector("form");e&&e.requestSubmit()},onCancel:()=>{h(!1),p(!1)}})]})},my=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[o,s]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{i(!0),s("");try{const e=await iy(tg(dy,"pendingUsers")),n=[];e.forEach(e=>{const t=e.data();t.approved||n.push({uid:e.id,email:t.email||"",approved:!1})}),t(n)}catch(e){s(e.message)}finally{i(!1)}})()},[]);return(0,hy.jsxs)("div",{style:{maxWidth:500,margin:"2rem auto",padding:"2rem",background:"#fff",borderRadius:16,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,hy.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:"1rem"},children:"Admin Panel"}),n?(0,hy.jsx)("p",{children:"Loading..."}):(0,hy.jsxs)(hy.Fragment,{children:[o&&(0,hy.jsx)("div",{style:{color:"red",marginBottom:12},children:o}),0===e.length?(0,hy.jsx)("p",{children:"No pending users."}):(0,hy.jsx)("ul",{style:{listStyle:"none",padding:0},children:e.map(n=>(0,hy.jsxs)("li",{style:{marginBottom:16,padding:12,border:"1px solid #eee",borderRadius:8},children:[(0,hy.jsx)("span",{style:{fontWeight:500},children:n.email}),(0,hy.jsx)("button",{onClick:()=>(async n=>{s("");try{await sy(ng(dy,"pendingUsers",n),{approved:!0}),t(e.filter(e=>e.uid!==n))}catch(r){s(r.message)}})(n.uid),style:{marginLeft:16,padding:"6px 16px",borderRadius:6,background:"#2563eb",color:"#fff",border:"none",cursor:"pointer"},children:"Approve"})]},n.uid))})]})]})},gy=()=>{const e=me(),[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const t=Wo(uy,t=>{n(t),o(!1),t||e("/")});return()=>t()},[e]);const p=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(0,r.useEffect)(()=>{if(!t||t.emailVerified)return;const e=setInterval(async()=>{try{await wi(t),t.emailVerified&&(d("\ud83c\udf89 Email verified successfully!"),clearInterval(e),setTimeout(()=>window.location.reload(),2e3))}catch(n){console.error("Error auto-checking verification:",n)}},3e4);return()=>clearInterval(e)},[t]),i?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,hy.jsxs)("div",{style:{textAlign:"center"},children:[(0,hy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,hy.jsx)("p",{children:"Checking authentication..."})]})}):t?(0,hy.jsx)("div",{style:{minHeight:"100vh",background:"#ffffff",padding:"1rem 0"},children:(0,hy.jsxs)("div",{style:{maxWidth:400,margin:"0 auto",padding:window.innerWidth<=768?"1rem":"2rem",background:"#fff",borderRadius:window.innerWidth<=768?12:16,boxShadow:"0 2px 16px rgba(0,0,0,0.10)",display:"flex",flexDirection:"column",alignItems:"center",minHeight:window.innerWidth<=768?"calc(100vh - 4rem)":"auto"},children:[(0,hy.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:window.innerWidth<=768?16:24,flexWrap:window.innerWidth<=480?"wrap":"nowrap",gap:window.innerWidth<=480?"0.5rem":"0"},children:[(0,hy.jsx)("button",{onClick:()=>{e("/dashboard")},style:{background:"#000000",color:"#ffffff",border:"2px solid #000000",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",transition:"all 0.2s ease",minWidth:"fit-content"},onMouseOver:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#000000"},onMouseOut:e=>{e.currentTarget.style.background="#000000",e.currentTarget.style.color="#ffffff"},children:"\ud83c\udfe0 Home"}),(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Logo",style:{height:window.innerWidth<=768?36:48,order:window.innerWidth<=480?-1:0,width:window.innerWidth<=480?"100%":"auto",maxWidth:window.innerWidth<=480?"120px":"none",margin:window.innerWidth<=480?"0 auto 0.5rem auto":"0"}}),(0,hy.jsx)("div",{style:{width:window.innerWidth<=480?"0":window.innerWidth<=768?"60px":"72px"}})," "]}),(0,hy.jsx)("h2",{style:{fontSize:window.innerWidth<=768?"1.3rem":"1.5rem",fontWeight:700,marginBottom:"0.5rem",color:"#000000",textAlign:"center"},children:"Welcome!"}),t?(0,hy.jsxs)(hy.Fragment,{children:[(0,hy.jsx)("div",{style:{marginBottom:window.innerWidth<=768?16:24,width:"100%"},children:(0,hy.jsxs)("div",{style:{background:"#ffffff",borderRadius:window.innerWidth<=768?8:12,padding:window.innerWidth<=768?16:20,border:"1px solid #000000"},children:[(0,hy.jsx)("h3",{style:{fontSize:window.innerWidth<=768?"1rem":"1.1rem",fontWeight:600,marginBottom:window.innerWidth<=768?12:16,color:"#000000",textAlign:"center"},children:"Account Information"}),(0,hy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?8:12},children:[(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:window.innerWidth<=768?"flex-start":"center",padding:window.innerWidth<=768?"6px 0":"8px 0",borderBottom:"1px solid #000000",flexDirection:window.innerWidth<=480?"column":"row",gap:window.innerWidth<=480?"4px":"0"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000",fontSize:window.innerWidth<=768?"0.9rem":"1rem"},children:"Display Name:"}),(0,hy.jsx)("span",{style:{color:"#000000",fontSize:window.innerWidth<=768?"0.85rem":"1rem",textAlign:window.innerWidth<=480?"left":"right"},children:t.displayName||"Not set"})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #000000"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"Email:"}),(0,hy.jsx)("span",{style:{color:"#000000",fontSize:"0.9rem"},children:t.email})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #000000"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"Email Verified:"}),(0,hy.jsx)("span",{style:{color:"#000000",fontWeight:600,fontSize:"0.9rem"},children:t.emailVerified?"\u2713 Verified":"\u2717 Not Verified"})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #000000"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"Phone Number:"}),(0,hy.jsx)("span",{style:{color:"#000000"},children:t.phoneNumber||"Not provided"})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #000000"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"Account Created:"}),(0,hy.jsx)("span",{style:{color:"#000000",fontSize:"0.85rem"},children:p(t.metadata.creationTime)})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #000000"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"Last Sign In:"}),(0,hy.jsx)("span",{style:{color:"#000000",fontSize:"0.85rem"},children:p(t.metadata.lastSignInTime)})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #000000"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"Provider:"}),(0,hy.jsx)("span",{style:{color:"#000000"},children:t.providerData.length>0?t.providerData[0].providerId:"Unknown"})]}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,hy.jsx)("span",{style:{fontWeight:600,color:"#000000"},children:"User ID:"}),(0,hy.jsxs)("span",{style:{color:"#000000",fontSize:"0.8rem",fontFamily:"monospace"},children:[t.uid.substring(0,8),"..."]})]})]})]})}),!t.emailVerified&&(0,hy.jsx)("div",{style:{marginBottom:16,width:"100%"},children:(0,hy.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #000000",borderRadius:8,padding:16,textAlign:"center"},children:[(0,hy.jsxs)("p",{style:{margin:"0 0 12px 0",fontSize:"0.9rem",color:"#000000"},children:[(0,hy.jsx)("strong",{children:"\u26a0\ufe0f Email not verified"}),(0,hy.jsx)("br",{}),"Please verify your email address for full account access."]}),(0,hy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[s?(0,hy.jsx)("button",{onClick:async()=>{if(t){f(!0);try{await wi(t),window.location.reload()}catch(e){console.error("Error checking verification:",e),d("Error checking verification status. Please try again.")}finally{f(!1)}}},disabled:h,style:{background:"#000000",color:"#ffffff",border:"2px solid #000000",borderRadius:6,padding:"8px 16px",fontSize:"0.85rem",fontWeight:600,cursor:h?"not-allowed":"pointer",opacity:h?.6:1,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},children:h?"\u23f3 Checking...":"\ud83d\udd04 I've Verified - Check Status"}):(0,hy.jsx)("button",{onClick:async()=>{if(t){c(!0),d("");try{await Fo(t),a(!0),d("Verification email sent! Please check your inbox and spam folder.")}catch(e){console.error("Error sending verification email:",e),d("Error: ".concat(e.message))}finally{c(!1)}}},disabled:l,style:{background:"#000000",color:"#ffffff",border:"2px solid #000000",borderRadius:6,padding:"8px 16px",fontSize:"0.85rem",fontWeight:600,cursor:l?"not-allowed":"pointer",opacity:l?.6:1,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},children:l?"\u23f3 Sending...":"\ud83d\udce7 Send Verification Email"}),u&&(0,hy.jsx)("div",{style:{fontSize:"0.8rem",color:"#000000",fontWeight:500,marginTop:"4px",lineHeight:"1.3"},children:u}),(0,hy.jsx)("div",{style:{fontSize:"0.75rem",color:"#000000",marginTop:"4px"},children:"\ud83d\udca1 Check your spam folder if you don't see the email"})]})]})}),t.emailVerified&&(0,hy.jsx)("div",{style:{marginBottom:16,width:"100%"},children:(0,hy.jsx)("div",{style:{background:"#ffffff",border:"2px solid #000000",borderRadius:8,padding:12,textAlign:"center"},children:(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#000000",fontWeight:600},children:"\u2705 Email verified successfully!"})})}),(0,hy.jsx)("button",{onClick:()=>{e("/profile")},style:{marginBottom:12,padding:window.innerWidth<=768?"8px 24px":"10px 32px",borderRadius:8,background:"#000000",color:"#ffffff",fontWeight:600,border:"2px solid #000000",cursor:"pointer",fontSize:window.innerWidth<=768?"0.9rem":"1rem",width:window.innerWidth<=480?"100%":"auto",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#000000"},onMouseOut:e=>{e.currentTarget.style.background="#000000",e.currentTarget.style.color="#ffffff"},children:"Profile"}),(0,hy.jsx)("button",{onClick:async()=>{await uy.signOut(),window.location.href="/"},style:{padding:window.innerWidth<=768?"8px 24px":"10px 32px",borderRadius:8,background:"#000000",color:"#ffffff",fontWeight:600,border:"2px solid #000000",cursor:"pointer",fontSize:window.innerWidth<=768?"0.9rem":"1rem",width:window.innerWidth<=480?"100%":"auto",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="#ffffff",e.currentTarget.style.color="#000000"},onMouseOut:e=>{e.currentTarget.style.background="#000000",e.currentTarget.style.color="#ffffff"},children:"Logout"})]}):(0,hy.jsx)("p",{children:"Not logged in."})]})}):null},yy=(e,t)=>{const n={"raimu456@gmail.com":"/raimu.jpg","hyder.mohamed@gmail.com":"/hyder.JPG","mzmhmd@gmail.com":"/bruno.png","nias.ahamad@gmail.com":"/nias.jpg","mshanir@gmail.com":"/shanir.jpeg","niaznasu@gmail.com":"/niaz.jpeg","riaz986@gmail.com":"/riaz","anaskallur@gmail.com":"/anas.jpg","mailmohasinali@gmail.com":"/appan.JPG"};return n[e.toLowerCase()]?n[e.toLowerCase()]:null},vy=()=>{const e=me(),t=he(),[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),a="true"===new URLSearchParams(t.search).get("firstTime");(0,r.useEffect)(()=>{const t=Wo(uy,t=>{i(t),s(!1),t||e("/")});return()=>t()},[e]);const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[k,x]=(0,r.useState)(0),[E,_]=(0,r.useState)("personal"),[C,T]=(0,r.useState)(!1),[I,A]=(0,r.useState)(""),[R,N]=(0,r.useState)("success"),[P,D]=(0,r.useState)(!1),[O,L]=(0,r.useState)(""),[j,M]=(0,r.useState)(""),[z,F]=(0,r.useState)(""),[U,V]=(0,r.useState)(!1),[W,B]=(0,r.useState)(""),[H,q]=(0,r.useState)("success"),K=()=>{const e=[l,u,h,p,g,v,w],t=e.filter(e=>""!==e.trim()).length;return Math.round(t/e.length*100)};(0,r.useEffect)(()=>{if(n){const e=async()=>{try{const e=ng(dy,"profiles",n.uid),t=await ny(e);if(t.exists()){const e=t.data();c(e.name||""),d(e.city||""),f(e.country||""),m(e.bio||""),y(e.intellectual||""),b(e.umrah||""),S(e.funLover||"")}}catch(e){console.error("Error fetching profile:",e)}};e()}},[n]),(0,r.useEffect)(()=>{x(K())},[l,u,h,p,g,v,w]);return n?o?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,hy.jsxs)("div",{style:{textAlign:"center"},children:[(0,hy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,hy.jsx)("p",{children:"Checking authentication..."})]})}):n?(0,hy.jsx)("div",{style:{minHeight:"100vh",background:"#ffffff",padding:window.innerWidth<=768?"1rem 0.5rem":"2rem 1rem"},children:(0,hy.jsxs)("div",{style:{maxWidth:800,margin:"0 auto",padding:window.innerWidth<=768?"0 0.5rem":"0"},children:[(0,hy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:window.innerWidth<=768?"1.5rem":"2rem",marginBottom:window.innerWidth<=768?"1.5rem":"2rem",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:[(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",flexWrap:window.innerWidth<=480?"wrap":"nowrap",gap:window.innerWidth<=480?"0.5rem":"0"},children:[(0,hy.jsx)("button",{onClick:()=>{a?100===K()?e("/dashboard"):(A("Please complete all profile fields before proceeding."),N("error"),setTimeout(()=>A(""),3e3)):e("/account")},style:{background:"rgba(255,255,255,0.8)",border:"2px solid #e5e7eb",borderRadius:12,width:a?"auto":40,height:40,color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:a?"0.9rem":"1.2rem",fontWeight:a?600:"normal",padding:a?"0 12px":"0",transition:"all 0.2s ease"},children:a?"\ud83d\udcdd Continue to Dashboard":"\u2190"}),(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Logo",style:{height:window.innerWidth<=768?36:48,order:window.innerWidth<=480?-1:0,width:window.innerWidth<=480?"100%":"auto",maxWidth:window.innerWidth<=480?"120px":"none",margin:window.innerWidth<=480?"0 auto 0.5rem auto":"0",flex:window.innerWidth<=480?"none":"0 0 auto"}}),(0,hy.jsx)("h1",{style:{fontSize:window.innerWidth<=768?"1.8rem":"2.2rem",fontWeight:700,margin:0,color:"#000000",textAlign:"center",flex:1,order:window.innerWidth<=480?1:0},children:a?"Welcome! Complete Your Profile":"Profile Settings"}),(0,hy.jsx)("div",{style:{width:40,order:window.innerWidth<=480?2:0}})]}),a&&(0,hy.jsx)("div",{style:{background:"#ffffff",border:"2px solid #000000",borderRadius:12,padding:16,marginBottom:16,textAlign:"center"},children:(0,hy.jsx)("p",{style:{fontSize:"1rem",color:"#000000",margin:0,fontWeight:600},children:"\ud83c\udf89 Welcome to Ashramam! Please complete your profile information below to get started."})}),(0,hy.jsx)("p",{style:{fontSize:"1rem",color:"#64748b",margin:0,textAlign:"center"},children:a?"Fill out all the required fields to join the community":"Manage your personal information and account settings"})]}),(0,hy.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:window.innerWidth<=768?"1.5rem":"2rem",marginBottom:window.innerWidth<=768?"1.5rem":"2rem",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:window.innerWidth<=768?"1rem":"1.5rem",flexDirection:window.innerWidth<=480?"column":"row",textAlign:window.innerWidth<=480?"center":"left"},children:[(0,hy.jsx)("div",{style:{width:window.innerWidth<=768?120:150,height:window.innerWidth<=768?120:150,borderRadius:"50%",border:"3px solid #e5e7eb",flexShrink:0,overflow:"hidden",position:"relative"},children:null!==n&&void 0!==n&&n.email&&l&&yy(n.email)?(0,hy.jsx)("img",{src:yy(n.email),alt:l,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{const t=e.target;t.style.display="none";const n=t.parentElement;n&&(n.innerHTML='\n                        <div style="\n                          width: 100%;\n                          height: 100%;\n                          background: #f3f4f6;\n                          display: flex;\n                          align-items: center;\n                          justify-content: center;\n                          font-size: '.concat(window.innerWidth<=768?"3rem":"4rem",';\n                          color: #9ca3af;\n                        ">\n                          ').concat(l?l.charAt(0).toUpperCase():"\ud83d\udc64","\n                        </div>\n                      "))}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:window.innerWidth<=768?"3rem":"4rem",color:"#9ca3af"},children:l?l.charAt(0).toUpperCase():"\ud83d\udc64"})}),(0,hy.jsxs)("div",{style:{minWidth:0,flex:1},children:[(0,hy.jsx)("h2",{style:{fontSize:window.innerWidth<=768?"1.3rem":"1.5rem",fontWeight:600,margin:"0 0 0.5rem 0",color:"#000000"},children:l||"Complete Your Profile"}),(0,hy.jsx)("p",{style:{fontSize:"0.95rem",color:"#64748b",margin:"0 0 0.75rem 0"},children:n.email}),(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap",justifyContent:window.innerWidth<=480?"center":"flex-start"},children:[(0,hy.jsxs)("div",{style:{background:k>=80?"#dcfce7":k>=50?"#fef3c7":"#fef2f2",color:k>=80?"#166534":k>=50?"#92400e":"#991b1b",border:"1px solid ".concat(k>=80?"#16a34a":k>=50?"#f59e0b":"#dc2626"),borderRadius:20,padding:"0.25rem 0.75rem",fontSize:"0.8rem",fontWeight:600,whiteSpace:"nowrap"},children:[k,"% Complete"]}),(u||h)&&(0,hy.jsxs)("div",{style:{background:"#f3f4f6",color:"#374151",borderRadius:20,padding:"0.25rem 0.75rem",fontSize:"0.8rem",whiteSpace:"nowrap"},children:["\ud83d\udccd ",[u,h].filter(Boolean).join(", ")]})]})]})]})}),(0,hy.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:window.innerWidth<=768?"1rem":"1.5rem",marginBottom:window.innerWidth<=768?"1.5rem":"2rem",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:(0,hy.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[(0,hy.jsx)("button",{onClick:()=>_("personal"),style:{background:"personal"===E?"#000000":"transparent",color:"personal"===E?"#ffffff":"#64748b",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"all 0.2s ease",whiteSpace:"nowrap"},children:"\ud83d\udc64 Personal Info"}),(0,hy.jsx)("button",{onClick:()=>_("privacy"),style:{background:"privacy"===E?"#000000":"transparent",color:"privacy"===E?"#ffffff":"#64748b",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"all 0.2s ease",whiteSpace:"nowrap"},children:"\ud83d\udd12 Account Security"})]})}),(0,hy.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),T(!0),A(""),n)try{await oy(ng(dy,"profiles",n.uid),{name:l,city:u,country:h,bio:p,intellectual:g,umrah:v,funLover:w,email:n.email,lastUpdated:(new Date).toISOString(),profileCompletion:K()}),A("Profile updated successfully! \ud83c\udf89"),N("success"),a&&100===K()&&setTimeout(()=>{e("/dashboard")},2e3)}catch(r){A("Error saving profile. Please try again."),N("error"),console.error("Error saving profile:",r)}T(!1),a&&100===K()||setTimeout(()=>A(""),3e3)},children:[(0,hy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:window.innerWidth<=768?"1.5rem":"2rem",marginBottom:window.innerWidth<=768?"1.5rem":"2rem",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:["personal"===E&&(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h3",{style:{fontSize:"1.3rem",fontWeight:600,marginBottom:"1.5rem",color:"#000000",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udc64 Personal Information"}),(0,hy.jsxs)("div",{style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:[(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"Full Name *"}),(0,hy.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Enter your full name",style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"City"}),(0,hy.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Enter your city",style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"Country"}),(0,hy.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Enter your country",style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"\u0d2c\u0d41\u0d26\u0d4d\u0d27\u0d3f\u0d1c\u0d40\u0d35\u0d3f \u0d06\u0d23\u0d4b?"}),(0,hy.jsxs)("select",{value:g,onChange:e=>y(e.target.value),style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none",backgroundColor:"#ffffff",cursor:"pointer"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb",children:[(0,hy.jsx)("option",{value:"",children:"\u0d24\u0d3f\u0d30\u0d1e\u0d4d\u0d1e\u0d46\u0d1f\u0d41\u0d15\u0d4d\u0d15\u0d41\u0d15..."}),(0,hy.jsx)("option",{value:"\u0d05\u0d24\u0d46",children:"\u0d05\u0d24\u0d46"}),(0,hy.jsx)("option",{value:"\u0d05\u0d32\u0d4d\u0d32",children:"\u0d05\u0d32\u0d4d\u0d32"}),(0,hy.jsx)("option",{value:"\u0d1a\u0d3f\u0d32\u0d2a\u0d4d\u0d2a\u0d4b\u0d33\u0d4a\u0d34\u0d4a\u0d15\u0d4d\u0d15\u0d46",children:"\u0d1a\u0d3f\u0d32\u0d2a\u0d4d\u0d2a\u0d4b\u0d33\u0d4a\u0d34\u0d4a\u0d15\u0d4d\u0d15\u0d46"})]})]}),(0,hy.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"\u0d09\u0d02\u0d31 \u0d1a\u0d46\u0d2f\u0d4d\u0d24\u0d3f\u0d1f\u0d4d\u0d1f\u0d41\u0d23\u0d4d\u0d1f\u0d4b?"}),(0,hy.jsxs)("select",{value:v,onChange:e=>b(e.target.value),style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none",backgroundColor:"#ffffff",cursor:"pointer"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb",children:[(0,hy.jsx)("option",{value:"",children:"\u0d24\u0d3f\u0d30\u0d1e\u0d4d\u0d1e\u0d46\u0d1f\u0d41\u0d15\u0d4d\u0d15\u0d41\u0d15..."}),(0,hy.jsx)("option",{value:"\u0d09\u0d23\u0d4d\u0d1f\u0d4d",children:"\u0d09\u0d23\u0d4d\u0d1f\u0d4d"}),(0,hy.jsx)("option",{value:"\u0d07\u0d32\u0d4d\u0d32",children:"\u0d07\u0d32\u0d4d\u0d32"}),(0,hy.jsx)("option",{value:"\u0d35\u0d46\u0d33\u0d3f\u0d2a\u0d4d\u0d2a\u0d46\u0d1f\u0d41\u0d24\u0d4d\u0d24\u0d3e\u0d7b \u0d06\u0d17\u0d4d\u0d30\u0d39\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d3f\u0d32\u0d4d\u0d32",children:"\u0d35\u0d46\u0d33\u0d3f\u0d2a\u0d4d\u0d2a\u0d46\u0d1f\u0d41\u0d24\u0d4d\u0d24\u0d3e\u0d7b \u0d06\u0d17\u0d4d\u0d30\u0d39\u0d3f\u0d15\u0d4d\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d3f\u0d32\u0d4d\u0d32"})]})]}),(0,hy.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"\u0d09\u0d32\u0d4d\u0d32\u0d3e\u0d38\u0d02 \u0d07\u0d37\u0d4d\u0d1f\u0d2e\u0d3e\u0d23\u0d4b?"}),(0,hy.jsxs)("select",{value:w,onChange:e=>S(e.target.value),style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none",backgroundColor:"#ffffff",cursor:"pointer"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb",children:[(0,hy.jsx)("option",{value:"",children:"\u0d24\u0d3f\u0d30\u0d1e\u0d4d\u0d1e\u0d46\u0d1f\u0d41\u0d15\u0d4d\u0d15\u0d41\u0d15..."}),(0,hy.jsx)("option",{value:"\u0d05\u0d24\u0d46",children:"\u0d05\u0d24\u0d46"}),(0,hy.jsx)("option",{value:"\u0d2a\u0d3f\u0d28\u0d4d\u0d28\u0d32\u0d4d\u0d32",children:"\u0d2a\u0d3f\u0d28\u0d4d\u0d28\u0d32\u0d4d\u0d32"}),(0,hy.jsx)("option",{value:"\u0d09\u0d31\u0d2a\u0d4d\u0d2a\u0d32\u0d4d\u0d32\u0d47",children:"\u0d09\u0d31\u0d2a\u0d4d\u0d2a\u0d32\u0d4d\u0d32\u0d47"}),(0,hy.jsx)("option",{value:"\u0d2e\u0d3e\u0d7b \u0d0e\u0d28\u0d3f\u0d15\u0d4d\u0d15\u0d3f\u0d37\u0d4d\u0d1f\u0d3e\u0d23\u0d47",children:"\u0d2e\u0d3e\u0d7b \u0d0e\u0d28\u0d3f\u0d15\u0d4d\u0d15\u0d3f\u0d37\u0d4d\u0d1f\u0d3e\u0d23\u0d47"})]})]}),(0,hy.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"Bio or \u0d28\u0d3f\u0d19\u0d4d\u0d19\u0d33\u0d41\u0d1f\u0d46 \u0d1a\u0d30\u0d3f\u0d24\u0d4d\u0d30\u0d02. \u0d35\u0d33\u0d30\u0d46 \u0d15\u0d41\u0d31\u0d1a\u0d4d\u0d1a\u0d41 \u0d35\u0d3e\u0d15\u0d4d\u0d15\u0d41\u0d15\u0d33\u0d3f\u0d7d \u0d32\u0d33\u0d3f\u0d24\u0d2e\u0d3e\u0d2f\u0d3f \u0d24\u0d33\u0d4d\u0d33\u0d3e\u0d24\u0d46 \u0d0e\u0d34\u0d41\u0d24\u0d41\u0d15. (Hyder and Marzook can contact the admin if you need more space)"}),(0,hy.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),placeholder:"\u0d35\u0d33\u0d30\u0d46 \u0d15\u0d41\u0d31\u0d1a\u0d4d\u0d1a\u0d41 \u0d35\u0d3e\u0d15\u0d4d\u0d15\u0d41\u0d15\u0d33\u0d3f\u0d7d \u0d28\u0d3f\u0d19\u0d4d\u0d19\u0d33\u0d46 \u0d15\u0d41\u0d31\u0d3f\u0d1a\u0d4d\u0d1a\u0d4d \u0d0e\u0d34\u0d41\u0d24\u0d41\u0d15...",rows:4,style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",transition:"border-color 0.2s",outline:"none",resize:"vertical"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]})]})]}),"privacy"===E&&(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h3",{style:{fontSize:"1.3rem",fontWeight:600,marginBottom:"1.5rem",color:"#000000",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udd12 Account Security"}),(0,hy.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,hy.jsxs)("div",{style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:12,padding:"1.5rem"},children:[(0,hy.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#000000",fontSize:"1.1rem"},children:"\ud83d\udce7 Password Reset via Email"}),(0,hy.jsxs)("p",{style:{margin:"0 0 1.25rem 0",fontSize:"1rem",color:"#64748b",lineHeight:"1.6"},children:["Get a secure password reset link sent to ",(0,hy.jsx)("strong",{children:null===n||void 0===n?void 0:n.email})]}),(0,hy.jsx)("button",{onClick:async()=>{if(null!==n&&void 0!==n&&n.email){V(!0),B("");try{await async function(e,t,n){const r=Ki(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Mo(r,i,n),await no(r,i,"getOobCode",ho,"EMAIL_PASSWORD_PROVIDER")}(uy,n.email),B("Password reset email sent! Check your inbox for instructions."),q("success")}catch(e){B("Error sending password reset email. Please try again."),q("error"),console.error("Password reset error:",e)}finally{V(!1),setTimeout(()=>B(""),5e3)}}},disabled:U,style:{padding:"12px 24px",background:U?"#9ca3af":"#000000",color:"#fff",border:"none",borderRadius:8,fontSize:"1rem",fontWeight:600,cursor:U?"not-allowed":"pointer",transition:"all 0.2s ease"},children:U?"\ud83d\udce8 Sending...":"\ud83d\udce7 Send Reset Email"})]}),(0,hy.jsxs)("div",{style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:12,padding:"1.5rem"},children:[(0,hy.jsx)("h4",{style:{margin:"0 0 0.75rem 0",color:"#000000",fontSize:"1.1rem"},children:"\ud83d\udd11 Change Password Directly"}),(0,hy.jsx)("p",{style:{margin:"0 0 1.25rem 0",fontSize:"1rem",color:"#64748b",lineHeight:"1.6"},children:"Change your password immediately by entering your current password"}),P?(0,hy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n){if(j!==z)return B("New passwords do not match."),q("error"),void setTimeout(()=>B(""),3e3);if(j.length<6)return B("New password must be at least 6 characters long."),q("error"),void setTimeout(()=>B(""),3e3);V(!0),B("");try{const e=wo.credential(n.email,O);await jo(n,e),await function(e,t){return Uo(Jt(e),null,t)}(n,j),B("Password changed successfully! \ud83d\udd12"),q("success"),L(""),M(""),F(""),D(!1)}catch(t){"auth/wrong-password"===t.code?B("Current password is incorrect."):"auth/weak-password"===t.code?B("New password is too weak. Please choose a stronger password."):B("Error changing password. Please try again."),q("error"),console.error("Password change error:",t)}finally{V(!1),setTimeout(()=>B(""),5e3)}}},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"Current Password"}),(0,hy.jsx)("input",{type:"password",value:O,onChange:e=>L(e.target.value),placeholder:"Enter your current password",required:!0,style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"New Password"}),(0,hy.jsx)("input",{type:"password",value:j,onChange:e=>M(e.target.value),placeholder:"Enter your new password (min 6 characters)",required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#000000"},children:"Confirm New Password"}),(0,hy.jsx)("input",{type:"password",value:z,onChange:e=>F(e.target.value),placeholder:"Confirm your new password",required:!0,style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:"1rem",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#000000",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,hy.jsxs)("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"column":"row",gap:"1rem",marginTop:"0.5rem"},children:[(0,hy.jsx)("button",{type:"submit",disabled:U,style:{padding:"12px 24px",background:U?"#9ca3af":"#000000",color:"#fff",border:"none",borderRadius:8,fontSize:"1rem",fontWeight:600,cursor:U?"not-allowed":"pointer",transition:"all 0.2s ease",flex:1},children:U?"\ud83d\udd04 Changing...":"\u2705 Update Password"}),(0,hy.jsx)("button",{type:"button",onClick:()=>{D(!1),L(""),M(""),F(""),B("")},style:{padding:"12px 24px",background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:8,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},children:"\u274c Cancel"})]})]}):(0,hy.jsx)("button",{onClick:()=>D(!0),style:{padding:"12px 24px",background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:8,fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},children:"\ud83d\udd11 Change Password Now"})]}),W&&(0,hy.jsx)("div",{style:{padding:"1rem",borderRadius:8,background:"success"===H?"#dcfce7":"#fef2f2",border:"1px solid ".concat("success"===H?"#16a34a":"#dc2626"),color:"success"===H?"#166534":"#991b1b",fontSize:"1rem",fontWeight:500,textAlign:"center"},children:W})]})]})]}),(0,hy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)",flexDirection:window.innerWidth<=768?"column":"row",gap:window.innerWidth<=768?"1rem":"0"},children:[(0,hy.jsx)("div",{style:{flex:1},children:I&&(0,hy.jsx)("div",{style:{padding:"0.75rem 1rem",borderRadius:8,background:"success"===R?"#dcfce7":"#fef2f2",border:"1px solid ".concat("success"===R?"#16a34a":"#dc2626"),color:"success"===R?"#166534":"#991b1b",fontSize:"0.9rem",fontWeight:500,textAlign:"center"},children:I})}),(0,hy.jsx)("button",{type:"submit",disabled:C,style:{padding:"12px 32px",borderRadius:8,background:C?"#9ca3af":"#000000",color:"#fff",fontWeight:600,border:"none",cursor:C?"not-allowed":"pointer",fontSize:"1rem",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem"},children:C?"\u23f3 Saving...":"\ud83d\udcbe Save Profile"})]})]})]})}):null:(0,hy.jsx)("div",{style:{minHeight:"100vh",background:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:(0,hy.jsxs)("div",{style:{background:"#ffffff",borderRadius:20,padding:"2rem",textAlign:"center",maxWidth:400,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:[(0,hy.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem",opacity:.3},children:"\ud83d\udd12"}),(0,hy.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:600,color:"#000000",margin:"0 0 1rem 0"},children:"Access Denied"}),(0,hy.jsx)("p",{style:{fontSize:"1rem",color:"#64748b",margin:"0 0 1.5rem 0"},children:"Please log in to access your profile."}),(0,hy.jsx)("button",{onClick:()=>e("/"),style:{background:"#000000",border:"none",borderRadius:8,padding:"12px 24px",cursor:"pointer",fontSize:"1rem",fontWeight:600,color:"#ffffff",transition:"all 0.2s ease"},children:"Go to Login"})]})})};const by=new class{constructor(){this.deferredPrompt=null,this.isInstalled=!1,this.init()}init(){this.registerServiceWorker(),this.setupInstallPrompt(),this.checkIfInstalled()}async registerServiceWorker(){if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js");console.log("PWA: Service Worker registered successfully:",e),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&this.showUpdateAvailable()})})}catch(e){console.error("PWA: Service Worker registration failed:",e)}}setupInstallPrompt(){window.addEventListener("beforeinstallprompt",e=>{console.log("PWA: Install prompt available!",e),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton()}),window.addEventListener("appinstalled",()=>{console.log("PWA: App installed successfully"),this.isInstalled=!0,this.hideInstallButton(),this.showInstallSuccess()}),this.debugPWACriteria(),setTimeout(()=>{this.deferredPrompt||this.isInstalled||(console.log("PWA: No install prompt after 3 seconds, checking criteria..."),this.checkPWACriteriaAndShowFallback())},3e3)}debugPWACriteria(){console.log("PWA Debug Info:"),console.log("- Service Worker supported:","serviceWorker"in navigator),console.log("- HTTPS:","https:"===window.location.protocol||"localhost"===window.location.hostname),console.log("- Manifest linked:",null!==document.querySelector('link[rel="manifest"]')),console.log("- Display mode:",window.matchMedia("(display-mode: standalone)").matches?"standalone":"browser"),console.log("- User agent:",navigator.userAgent)}checkPWACriteriaAndShowFallback(){const e="serviceWorker"in navigator,t="https:"===window.location.protocol||"localhost"===window.location.hostname,n=null!==document.querySelector('link[rel="manifest"]');console.log("PWA Criteria Check:",{hasServiceWorker:e,hasHttps:t,hasManifest:n}),e&&t&&n&&!this.isInstalled&&(console.log("PWA: All criteria met, showing fallback install option"),this.showInstallButton())}checkIfInstalled(){const e=window.matchMedia("(display-mode: standalone)").matches,t=!0===window.navigator.standalone;(e||t)&&(this.isInstalled=!0,console.log("PWA: App is running in installed mode"))}async installApp(){if(!this.deferredPrompt)return console.log("PWA: Install prompt not available"),!1;try{this.deferredPrompt.prompt();const{outcome:e}=await this.deferredPrompt.userChoice;return"accepted"===e?console.log("PWA: User accepted install prompt"):console.log("PWA: User dismissed install prompt"),this.deferredPrompt=null,"accepted"===e}catch(e){return console.error("PWA: Error during install:",e),!1}}showInstallButton(){window.dispatchEvent(new CustomEvent("pwa-install-available"))}hideInstallButton(){window.dispatchEvent(new CustomEvent("pwa-install-completed"))}showInstallSuccess(){window.dispatchEvent(new CustomEvent("pwa-install-success",{detail:{message:"Ashramam app installed successfully!"}}))}showUpdateAvailable(){window.dispatchEvent(new CustomEvent("pwa-update-available",{detail:{message:"New version available! Refresh to update."}}))}async requestNotificationPermission(){if("Notification"in window){const e=await Notification.requestPermission();return console.log("PWA: Notification permission:",e),"granted"===e}return!1}async subscribeToPushNotifications(){if("serviceWorker"in navigator&&"PushManager"in window)try{const e=await navigator.serviceWorker.ready,t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array("your-vapid-public-key-here")});return console.log("PWA: Push subscription:",t),t}catch(e){return console.error("PWA: Push subscription failed:",e),null}return null}urlBase64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}getInstallStatus(){return{isInstalled:this.isInstalled,canInstall:!!this.deferredPrompt}}},wy=()=>{const e=me(),[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[s,a]=(0,r.useState)({}),[l,c]=(0,r.useState)(!0),[d,h]=(0,r.useState)("scrapbook"),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null),[S,k]=(0,r.useState)(""),[x,E]=(0,r.useState)(null),[_,C]=(0,r.useState)(""),[T,I]=(0,r.useState)(!1),[A,R]=(0,r.useState)(null),[N,P]=(0,r.useState)([]),[D,O]=(0,r.useState)(!1),[L,j]=(0,r.useState)(""),[M,z]=(0,r.useState)(0),[F,U]=(0,r.useState)(null),[V,W]=(0,r.useState)([]),[B,H]=(0,r.useState)(!1),[q,K]=(0,r.useState)(0),[G,Q]=(0,r.useState)("upcoming-trip"),[Y,X]=(0,r.useState)(!1),[$,J]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(!1),[te,ne]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const t=Wo(uy,t=>{console.log("Auth state changed:",t?"User logged in":"User logged out"),n(t),o(!1),t||e("/")});return()=>t()},[e]),(0,r.useEffect)(()=>{if(i)return;if(!t)return void e("/");(async()=>{try{const e=ng(dy,"profiles",t.uid),n=await ny(e);n.exists()&&a(n.data())}catch(e){console.error("Error fetching user profile:",e)}finally{c(!1)}})(),(async()=>{try{const e=Vg(tg(dy,"scrapbook"),qg("createdAt","desc")),t=await iy(e),n=[];t.forEach(e=>{n.push(u({id:e.id},e.data()))}),p(n)}catch(e){console.error("Error fetching scrap posts:",e)}})(),(async()=>{try{const e=tg(dy,"pendingUsers"),t=await iy(e),n=[];for(const r of t.docs){const e=r.data();if(e.approved){const t=ng(dy,"profiles",e.uid),r=await ny(t);let i=e.email.split("@")[0];if(r.exists()){i=r.data().name||i}n.push({name:i,email:e.email})}}P(n)}catch(e){console.error("Error fetching available users:",e)}})(),(async()=>{if(null!==t&&void 0!==t&&t.email)try{const e=Vg(tg(dy,"notifications"),qg("createdAt","desc")),n=await iy(e),r=[];n.forEach(e=>{const n=e.data();n.toEmail===t.email&&r.push(u({id:e.id},n))}),W(r),K(r.filter(e=>!e.read).length)}catch(e){console.error("Error fetching notifications:",e)}})()},[t,e,i]),(0,r.useEffect)(()=>{const e=()=>{const e=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone||document.referrer.includes("android-app://");ne(e),console.log("PWA: Standalone mode detected:",e),e&&X(!1)};e();const t=window.matchMedia("(display-mode: standalone)");t.addEventListener("change",e);const n=()=>{te||X(!0)},r=()=>{X(!1),ne(!0)},i=e=>{J(!0),ne(!0),setTimeout(()=>J(!1),3e3)},o=()=>{ee(!0)};return window.addEventListener("pwa-install-available",n),window.addEventListener("pwa-install-completed",r),window.addEventListener("pwa-install-success",i),window.addEventListener("pwa-update-available",o),()=>{t.removeEventListener("change",e),window.removeEventListener("pwa-install-available",n),window.removeEventListener("pwa-install-completed",r),window.removeEventListener("pwa-install-success",i),window.removeEventListener("pwa-update-available",o)}},[te]);const re=async()=>{try{const e=Vg(tg(dy,"scrapbook"),qg("createdAt","desc")),t=await iy(e),n=[];t.forEach(e=>{n.push(u({id:e.id},e.data()))}),p(n)}catch(e){console.error("Error fetching scrap posts:",e)}},ie=e=>e.split(" ")[0],oe=(e,t)=>{const n={"raimu456@gmail.com":"/raimu.jpg","hyder.mohamed@gmail.com":"/hyder.JPG","mzmhmd@gmail.com":"/bruno.png","nias.ahamad@gmail.com":"/nias.jpg","mshanir@gmail.com":"/shanir.jpeg","niaznasu@gmail.com":"/niaz.jpeg","riaz986@gmail.com":"/riaz","anaskallur@gmail.com":"/anas.jpg","mailmohasinali@gmail.com":"/appan.JPG"};return console.log("Profile picture check:",{email:e.toLowerCase(),name:t,hasMapping:!!n[e.toLowerCase()],mappingResult:n[e.toLowerCase()],allMappings:Object.keys(n)}),n[e.toLowerCase()]?(console.log("Found profile picture:",n[e.toLowerCase()]),n[e.toLowerCase()]):(console.log("No profile picture found, using default avatar"),null)},se=e=>[...e.match(/#[\w\u0900-\u097F]+/g)||[],...e.match(/@[\w\u0900-\u097F]+/g)||[]].map(e=>e.toLowerCase()),ae=(e,t)=>{var n;"main"===t?g(e):C(e);const r=(null===(n=document.activeElement)||void 0===n?void 0:n.selectionStart)||0,i=e.substring(0,r),o=i.lastIndexOf("@");if(-1!==o){const e=i.substring(o+1);!e.includes(" ")&&e.length>=0?(j(e.toLowerCase()),O(!0),U(t),z(r)):O(!1)}else O(!1)},le=e=>{const t="main"===F?m:_,n=t.substring(0,M),r=t.substring(M),i=n.lastIndexOf("@"),o=n.substring(0,i)+"@".concat(e.replace(/\s+/g,""))+" "+r;"main"===F?g(o):C(o),O(!1),j("")},ce=()=>L?N.filter(e=>e.name.toLowerCase().includes(L)||e.email.toLowerCase().includes(L)).slice(0,5):N.slice(0,5),ue=async(e,n,r,i)=>{if(t&&n!==t.email)try{const o={type:e,fromUser:s.name||t.displayName||"Anonymous User",fromEmail:t.email||"",toEmail:n,postId:r,message:i.substring(0,100)+(i.length>100?"...":""),createdAt:bl.now(),read:!1};await oy(ng(tg(dy,"notifications")),o)}catch(o){console.error("Error creating notification:",o)}},de=e=>(e.match(/@[\w\u0900-\u097F]+/g)||[]).map(e=>{const t=e.substring(1).toLowerCase(),n=N.find(e=>e.name.replace(/\s+/g,"").toLowerCase()===t);return null===n||void 0===n?void 0:n.email}).filter(Boolean),he=async e=>{await(async e=>{try{await sy(ng(dy,"notifications",e),{read:!0}),W(t=>t.map(t=>t.id===e?u(u({},t),{},{read:!0}):t)),K(e=>Math.max(0,e-1))}catch(t){console.error("Error marking notification as read:",t)}})(e.id),H(!1),"mention"!==e.type&&"reply"!==e.type||(h("scrapbook"),setTimeout(()=>{const t=document.getElementById("post-".concat(e.postId));t?(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.backgroundColor="#fef3c7",t.style.border="2px solid #f59e0b",t.style.borderRadius="12px",setTimeout(()=>{t.style.backgroundColor="",t.style.border="",t.style.borderRadius=""},3e3),"reply"===e.type&&R(e.postId)):alert("Post not found. It may have been deleted or you may need to scroll down to load more posts.")},100))};return i||l?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,hy.jsxs)("div",{style:{textAlign:"center"},children:[(0,hy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,hy.jsx)("p",{children:i?"Checking authentication...":"Loading..."})]})}):(0,hy.jsx)("div",{style:{minHeight:"100vh",background:"#ffffff",padding:"1rem 0"},children:(0,hy.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:window.innerWidth<=768?"1rem":"2rem",background:"#fff",borderRadius:window.innerWidth<=768?12:16,boxShadow:"0 2px 16px rgba(0,0,0,0.10)",minHeight:window.innerWidth<=768?"calc(100vh - 2rem)":"auto"},children:[(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:window.innerWidth<=768?16:24,flexWrap:window.innerWidth<=480?"wrap":"nowrap",gap:window.innerWidth<=480?"0.5rem":"0"},children:[(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Logo",style:{height:window.innerWidth<=768?36:48,order:window.innerWidth<=480?-1:0,width:window.innerWidth<=480?"100%":"auto",maxWidth:window.innerWidth<=480?"120px":"none",margin:window.innerWidth<=480?"0 auto 0.5rem auto":"0"}}),(0,hy.jsxs)("div",{style:{display:"flex",gap:window.innerWidth<=768?"0.5rem":"1rem",flexWrap:window.innerWidth<=480?"wrap":"nowrap",justifyContent:window.innerWidth<=480?"center":"flex-end",width:window.innerWidth<=480?"100%":"auto"},children:[(0,hy.jsx)("button",{onClick:()=>{e("/stories")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\ud83d\udcda Stories"}),(0,hy.jsx)("button",{onClick:()=>{e("/residents")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\ud83c\udfe0 \u0d06\u0d36\u0d4d\u0d30\u0d2e \u0d28\u0d3f\u0d35\u0d3e\u0d38\u0d3f\u0d15\u0d7e"}),(0,hy.jsx)("button",{onClick:()=>{e("/profile")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\ud83d\udc64 Profile"}),(0,hy.jsx)("button",{onClick:()=>{e("/account")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\u2699\ufe0f Account"}),!te&&(0,hy.jsxs)("button",{onClick:async()=>{if(await by.installApp())X(!1);else{const e=navigator.userAgent.toLowerCase();let t="";t=e.includes("chrome")&&e.includes("android")?'Chrome Android: Tap the menu (\u22ee) \u2192 "Add to Home screen"':e.includes("safari")&&e.includes("iphone")?'Safari iOS: Tap Share button (\u25a1\u2197) \u2192 "Add to Home Screen"':e.includes("chrome")?"Chrome Desktop: Click the install icon (\u2295) in the address bar":'Browser: Look for "Add to Home Screen" or "Install" option in your browser menu',alert("Install manually:\n\n".concat(t,"\n\nThis will add Ashramam as an app icon on your device!"))}},style:{background:Y?"#000000":"#6b7280",color:"#ffffff",border:"none",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},title:Y?"Install app now!":"Install prompt not ready yet",children:["\ud83d\udcf1 ",Y?"Install App":"Install (Beta)"]}),(0,hy.jsxs)("div",{style:{position:"relative"},children:[(0,hy.jsxs)("button",{onClick:()=>H(!B),style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 8px":"8px 12px",cursor:"pointer",fontSize:window.innerWidth<=768?"1rem":"1.2rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content",position:"relative"},children:["\ud83d\udd14",q>0&&(0,hy.jsx)("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"#ef4444",color:"#ffffff",borderRadius:"50%",width:"20px",height:"20px",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:q>9?"9+":q})]}),B&&(0,hy.jsxs)("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",zIndex:1e3,width:window.innerWidth<=768?"300px":"350px",maxHeight:"400px",overflowY:"auto"},children:[(0,hy.jsxs)("div",{style:{padding:"1rem",borderBottom:"1px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,hy.jsx)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#111827"},children:"Notifications"}),(0,hy.jsx)("button",{onClick:()=>H(!1),style:{background:"transparent",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#6b7280"},children:"\u2715"})]}),0===V.length?(0,hy.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280",fontSize:"0.9rem"},children:"No notifications yet"}):V.slice(0,10).map(e=>(0,hy.jsx)("div",{onClick:()=>he(e),style:{padding:"1rem",borderBottom:"1px solid #f3f4f6",cursor:"pointer",background:e.read?"transparent":"#fef3c7",transition:"all 0.2s ease"},onMouseEnter:t=>t.currentTarget.style.backgroundColor=e.read?"#f9fafb":"#fde68a",onMouseLeave:t=>t.currentTarget.style.backgroundColor=e.read?"transparent":"#fef3c7",children:(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[(0,hy.jsxs)("div",{style:{width:32,height:32,borderRadius:"50%",overflow:"hidden",flexShrink:0,border:"2px solid #e5e7eb",position:"relative"},children:[oe(e.fromEmail,e.fromUser)?(0,hy.jsx)("img",{src:oe(e.fromEmail,e.fromUser)||"",alt:e.fromUser,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{t.currentTarget.style.display="none",t.currentTarget.parentElement.innerHTML='\n                                    <div style="\n                                      width: 32px;\n                                      height: 32px;\n                                      border-radius: 50%;\n                                      background: '.concat("mention"===e.type?"#1d4ed8":"#059669",';\n                                      display: flex;\n                                      align-items: center;\n                                      justify-content: center;\n                                      color: #ffffff;\n                                      font-size: 0.9rem;\n                                      font-weight: 600;\n                                    ">\n                                      ').concat(e.fromUser.charAt(0).toUpperCase(),'\n                                    </div>\n                                    <div style="\n                                      position: absolute;\n                                      bottom: -2px;\n                                      right: -2px;\n                                      width: 12px;\n                                      height: 12px;\n                                      border-radius: 50%;\n                                      background: ').concat("mention"===e.type?"#1d4ed8":"#059669",';\n                                      border: 2px solid #ffffff;\n                                      display: flex;\n                                      align-items: center;\n                                      justify-content: center;\n                                      font-size: 0.6rem;\n                                      color: #ffffff;\n                                    ">\n                                      ').concat("mention"===e.type?"@":"\ud83d\udcac","\n                                    </div>\n                                  ")}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"mention"===e.type?"#1d4ed8":"#059669",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"0.9rem",fontWeight:600},children:e.fromUser.charAt(0).toUpperCase()}),oe(e.fromEmail,e.fromUser)&&(0,hy.jsx)("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:12,height:12,borderRadius:"50%",background:"mention"===e.type?"#1d4ed8":"#059669",border:"2px solid #ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",color:"#ffffff"},children:"mention"===e.type?"@":"\ud83d\udcac"})]}),(0,hy.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,hy.jsxs)("p",{style:{margin:"0 0 0.25rem 0",fontSize:"0.9rem",fontWeight:600,color:"#111827"},children:[e.fromUser," ","mention"===e.type?"mentioned you":"replied to your post"]}),(0,hy.jsxs)("p",{style:{margin:"0 0 0.5rem 0",fontSize:"0.85rem",color:"#374151",lineHeight:"1.4",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:['"',e.message,'"']}),(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,hy.jsxs)("p",{style:{margin:0,fontSize:"0.75rem",color:"#6b7280"},children:[e.createdAt.toDate().toLocaleDateString()," at ",e.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.7rem",color:"#1d4ed8",fontWeight:500},children:"Click to view \u2192"})]})]}),!e.read&&(0,hy.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",background:"#ef4444",flexShrink:0}})]})},e.id))]})]})]})]}),(0,hy.jsxs)("h1",{style:{fontSize:window.innerWidth<=768?"1.6rem":"2rem",fontWeight:700,marginBottom:"2rem",color:"#000000",textAlign:"center"},children:["Welcome to Your Dashboard, ",ie(s.name||(null===t||void 0===t?void 0:t.displayName)||"User"),"!"]}),$&&(0,hy.jsxs)("div",{style:{background:"#dcfce7",border:"1px solid #16a34a",borderRadius:12,padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,hy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\u2705"}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("p",{style:{margin:0,fontWeight:600,color:"#15803d"},children:"App Installed Successfully!"}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#166534"},children:"Ashramam app is now available on your home screen."})]})]}),Z&&(0,hy.jsxs)("div",{style:{background:"#fef3c7",border:"1px solid #f59e0b",borderRadius:12,padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,hy.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udd04"}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("p",{style:{margin:0,fontWeight:600,color:"#92400e"},children:"New Version Available"}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#a16207"},children:"Refresh to get the latest features and improvements."})]})]}),(0,hy.jsx)("button",{onClick:()=>{window.location.reload()},style:{background:"#f59e0b",color:"#ffffff",border:"none",borderRadius:8,padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:"Refresh"})]}),(0,hy.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",borderBottom:"1px solid #e5e7eb",paddingBottom:"1rem",overflowX:"auto",flexWrap:window.innerWidth<=768?"wrap":"nowrap"},children:[(0,hy.jsx)("button",{onClick:()=>h("scrapbook"),style:{background:"scrapbook"===d?"#000000":"transparent",color:"scrapbook"===d?"#ffffff":"#64748b",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"all 0.2s ease",whiteSpace:"nowrap",marginRight:"0.5rem"},children:"\ud83d\udcdd Scrap Book"}),(0,hy.jsx)("button",{onClick:()=>h("hangout"),style:{background:"hangout"===d?"#000000":"transparent",color:"hangout"===d?"#ffffff":"#64748b",border:"1px solid #e5e7eb",borderRadius:8,padding:"10px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"all 0.2s ease",whiteSpace:"nowrap"},children:"\ud83c\udf89 Hangout"})]}),"scrapbook"===d&&(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h2",{style:{fontSize:window.innerWidth<=768?"1.5rem":"1.8rem",fontWeight:600,color:"#000000",margin:"0 0 1rem 0"},children:"Scrap Book"}),(0,hy.jsx)("p",{style:{fontSize:"0.95rem",color:"#64748b",margin:"0 0 2rem 0"},children:"Share your thoughts with the community \u2022 Just like the good old Orkut days!"}),(0,hy.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:"1.5rem",marginBottom:"2rem"},children:[(0,hy.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#000000",margin:"0 0 1rem 0"},children:"\u270d\ufe0f Write a Scrap"}),(0,hy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t&&m.trim()){v(!0);try{const e=se(m),n={message:m.trim(),author:s.name||t.displayName||"Anonymous User",authorEmail:t.email||"",createdAt:bl.now(),likes:[],likeCount:0,tags:e,replies:[],replyCount:0},r=ng(tg(dy,"scrapbook"));await oy(r,n);const i=de(m);for(const t of i)await ue("mention",t,r.id,m);g(""),re()}catch(n){console.error("Error adding scrap post:",n)}finally{v(!1)}}},children:[(0,hy.jsxs)("div",{style:{position:"relative"},children:[(0,hy.jsx)("textarea",{value:m,onChange:e=>ae(e.target.value,"main"),onKeyDown:e=>{if(D&&"main"===F){const t=ce();"ArrowDown"===e.key||"ArrowUp"===e.key?e.preventDefault():"Enter"===e.key&&t.length>0?(e.preventDefault(),le(t[0].name)):"Escape"===e.key&&O(!1)}},placeholder:"Share your thoughts with the community... Use #hashtags and @mentions!",style:{width:"100%",minHeight:"100px",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:8,fontSize:"1rem",resize:"vertical",marginBottom:"1rem",boxSizing:"border-box",fontFamily:"inherit"}}),D&&"main"===F&&(0,hy.jsx)("div",{style:{position:"absolute",top:"100%",left:"1rem",right:"1rem",background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:ce().map((e,t)=>(0,hy.jsxs)("div",{onClick:()=>le(e.name),style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:t<ce().length-1?"1px solid #f3f4f6":"none",display:"flex",alignItems:"center",transition:"background-color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,hy.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",marginRight:"0.75rem",overflow:"hidden",position:"relative"},children:oe(e.email,e.name)?(0,hy.jsx)("img",{src:oe(e.email,e.name),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{const n=t.target;n.style.display="none";const r=n.parentElement;r&&(r.innerHTML='\n                                      <div style="\n                                        width: 100%;\n                                        height: 100%;\n                                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                                        display: flex;\n                                        align-items: center;\n                                        justify-content: center;\n                                        color: white;\n                                        font-size: 0.9rem;\n                                        font-weight: 600;\n                                      ">\n                                        '.concat(e.name.charAt(0).toUpperCase(),"\n                                      </div>\n                                    "))}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"0.9rem",fontWeight:600},children:e.name.charAt(0).toUpperCase()})}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:500,color:"#111827"},children:e.name}),(0,hy.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:["@",e.name.replace(/\s+/g,"").toLowerCase()]})]})]},e.email))})]}),(0,hy.jsx)("button",{type:"submit",disabled:y||!m.trim(),style:{background:y||!m.trim()?"#d1d5db":"#000000",color:"#ffffff",border:"none",borderRadius:8,padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:600,cursor:y||!m.trim()?"not-allowed":"pointer",transition:"all 0.2s ease"},children:y?"Posting...":"Post Scrap"})]})]}),(0,hy.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:f.map(e=>{var n,r,i;return(0,hy.jsxs)("div",{id:"post-".concat(e.id),style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:"1.5rem",transition:"all 0.3s ease"},children:[(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[(0,hy.jsx)("div",{style:{width:48,height:48,borderRadius:"50%",overflow:"hidden",flexShrink:0,border:"2px solid #e5e7eb"},children:oe(e.authorEmail,e.author)?(0,hy.jsx)("img",{src:oe(e.authorEmail,e.author)||"",alt:e.author,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{console.error("Failed to load profile image:",{src:t.currentTarget.src,email:e.authorEmail,author:e.author,error:"Image failed to load"}),t.currentTarget.style.display="none",t.currentTarget.parentElement.innerHTML='\n                                <div style="\n                                  width: 48px;\n                                  height: 48px;\n                                  border-radius: 50%;\n                                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                                  display: flex;\n                                  align-items: center;\n                                  justify-content: center;\n                                  color: #ffffff;\n                                  font-size: 1.2rem;\n                                  font-weight: 600;\n                                ">\n                                  '.concat(e.author.charAt(0).toUpperCase(),"\n                                </div>\n                              ")}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"1.2rem",fontWeight:600},children:e.author.charAt(0).toUpperCase()})}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h4",{style:{fontSize:"1rem",fontWeight:600,color:"#000000",margin:"0 0 0.25rem 0"},children:ie(e.author)}),(0,hy.jsxs)("p",{style:{fontSize:"0.8rem",color:"#64748b",margin:0},children:[e.createdAt.toDate().toLocaleDateString()," at ",e.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),t&&e.authorEmail===t.email&&(0,hy.jsx)("div",{style:{display:"flex",gap:"0.5rem"},children:(0,hy.jsx)("button",{onClick:()=>{w(e.id),k(e.message)},style:{background:"transparent",border:"1px solid #e5e7eb",borderRadius:4,padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.8rem",color:"#64748b"},children:"\u270f\ufe0f Edit"})})]}),b===e.id?(0,hy.jsxs)("div",{children:[(0,hy.jsx)("textarea",{value:S,onChange:e=>k(e.target.value),style:{width:"100%",minHeight:"80px",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:6,fontSize:"0.95rem",marginBottom:"0.5rem",boxSizing:"border-box",fontFamily:"inherit"},placeholder:"Use #hashtags and @mentions in your post..."}),(0,hy.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,hy.jsx)("button",{onClick:()=>(async e=>{if(S.trim())try{await sy(ng(dy,"scrapbook",e),{message:S.trim()}),w(null),k(""),re()}catch(t){console.error("Error updating post:",t)}})(e.id),style:{background:"#000000",color:"#ffffff",border:"none",borderRadius:4,padding:"0.5rem 1rem",fontSize:"0.85rem",cursor:"pointer"},children:"Save"}),(0,hy.jsx)("button",{onClick:()=>{w(null),k("")},style:{background:"transparent",color:"#64748b",border:"1px solid #e5e7eb",borderRadius:4,padding:"0.5rem 1rem",fontSize:"0.85rem",cursor:"pointer"},children:"Cancel"})]})]}):(0,hy.jsxs)("div",{children:[(0,hy.jsx)("p",{style:{fontSize:"0.95rem",color:"#374151",margin:0,lineHeight:"1.5"},children:e.message}),(i=e.tags,i&&0!==i.length?(0,hy.jsx)("div",{style:{marginTop:"0.5rem",display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:i.map((e,t)=>{const n=e.startsWith("#"),r=e.startsWith("@");return(0,hy.jsx)("span",{style:{background:n?"#000000":r?"#1d4ed8":"#64748b",color:"#ffffff",fontSize:"0.75rem",padding:"0.25rem 0.5rem",borderRadius:12,fontWeight:500},children:e},t)})}):null),(0,hy.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #f3f4f6"},children:[(0,hy.jsxs)("button",{onClick:()=>(async e=>{if(t)try{const n=ng(dy,"scrapbook",e),r=await ny(n);if(r.exists()){const e=r.data().likes||[],i=t.email||"";let o;o=e.includes(i)?e.filter(e=>e!==i):[...e,i],await sy(n,{likes:o,likeCount:o.length}),re()}}catch(n){console.error("Error liking post:",n)}})(e.id),style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"0.85rem",color:null!==(n=e.likes)&&void 0!==n&&n.includes((null===t||void 0===t?void 0:t.email)||"")?"#ef4444":"#64748b",display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:4,transition:"all 0.2s ease"},children:[null!==(r=e.likes)&&void 0!==r&&r.includes((null===t||void 0===t?void 0:t.email)||"")?"\u2764\ufe0f":"\ud83e\udd0d"," ",e.likeCount||0]}),(0,hy.jsxs)("button",{onClick:()=>E(x===e.id?null:e.id),style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"0.85rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:4,transition:"all 0.2s ease"},children:["\ud83d\udcac Reply (",e.replyCount||0,")"]}),e.replyCount>0&&(0,hy.jsxs)("button",{onClick:()=>R(A===e.id?null:e.id),style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"0.85rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:4,transition:"all 0.2s ease"},children:["\ud83d\udc41\ufe0f ",A===e.id?"Hide Replies":"View Replies"]})]}),x===e.id&&(0,hy.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f9fafb",borderRadius:8,border:"1px solid #e5e7eb"},children:[(0,hy.jsxs)("div",{style:{position:"relative"},children:[(0,hy.jsx)("textarea",{value:_,onChange:e=>ae(e.target.value,"reply"),onKeyDown:e=>{if(D&&"reply"===F){const t=ce();"ArrowDown"===e.key||"ArrowUp"===e.key?e.preventDefault():"Enter"===e.key&&t.length>0?(e.preventDefault(),le(t[0].name)):"Escape"===e.key&&O(!1)}},placeholder:"Write a reply... Use @mentions!",style:{width:"100%",minHeight:"60px",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:6,fontSize:"0.9rem",marginBottom:"0.5rem",boxSizing:"border-box",fontFamily:"inherit"}}),D&&"reply"===F&&(0,hy.jsx)("div",{style:{position:"absolute",top:"100%",left:"0.75rem",right:"0.75rem",background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:ce().map((e,t)=>(0,hy.jsxs)("div",{onClick:()=>le(e.name),style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:t<ce().length-1?"1px solid #f3f4f6":"none",display:"flex",alignItems:"center",transition:"background-color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,hy.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",marginRight:"0.75rem",overflow:"hidden",position:"relative"},children:oe(e.email,e.name)?(0,hy.jsx)("img",{src:oe(e.email,e.name),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{const n=t.target;n.style.display="none";const r=n.parentElement;r&&(r.innerHTML='\n                                                <div style="\n                                                  width: 100%;\n                                                  height: 100%;\n                                                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                                                  display: flex;\n                                                  align-items: center;\n                                                  justify-content: center;\n                                                  color: white;\n                                                  font-size: 0.9rem;\n                                                  font-weight: 600;\n                                                ">\n                                                  '.concat(e.name.charAt(0).toUpperCase(),"\n                                                </div>\n                                              "))}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"0.9rem",fontWeight:600},children:e.name.charAt(0).toUpperCase()})}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:500,color:"#111827"},children:e.name}),(0,hy.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:["@",e.name.replace(/\s+/g,"").toLowerCase()]})]})]},e.email))})]}),(0,hy.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,hy.jsx)("button",{onClick:()=>(async e=>{if(t&&_.trim()){I(!0);try{const n=ng(dy,"scrapbook",e),r=await ny(n);if(r.exists()){const i=r.data(),o=i.replies||[],a={id:Date.now().toString(),message:_.trim(),author:s.name||t.displayName||"Anonymous User",authorEmail:t.email||"",createdAt:bl.now()},l=[...o,a];await sy(n,{replies:l,replyCount:l.length}),i.authorEmail!==t.email&&await ue("reply",i.authorEmail,e,_);const c=de(_);for(const t of c)await ue("mention",t,e,_);C(""),E(null),re()}}catch(n){console.error("Error submitting reply:",n)}finally{I(!1)}}})(e.id),disabled:T||!_.trim(),style:{background:"#000000",color:"#ffffff",border:"none",borderRadius:4,padding:"0.5rem 1rem",fontSize:"0.85rem",cursor:T||!_.trim()?"not-allowed":"pointer",opacity:T||!_.trim()?.5:1},children:T?"Posting...":"Post Reply"}),(0,hy.jsx)("button",{onClick:()=>{E(null),C("")},style:{background:"transparent",color:"#64748b",border:"1px solid #e5e7eb",borderRadius:4,padding:"0.5rem 1rem",fontSize:"0.85rem",cursor:"pointer"},children:"Cancel"})]})]}),A===e.id&&e.replies&&e.replies.length>0&&(0,hy.jsx)("div",{style:{marginTop:"1rem",paddingLeft:"1rem",borderLeft:"2px solid #e5e7eb"},children:e.replies.map(e=>(0,hy.jsxs)("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:8,padding:"1rem",marginBottom:"0.75rem"},children:[(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,hy.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",overflow:"hidden",flexShrink:0,border:"2px solid #e5e7eb"},children:oe(e.authorEmail,e.author)?(0,hy.jsx)("img",{src:oe(e.authorEmail,e.author)||"",alt:e.author,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{t.currentTarget.style.display="none",t.currentTarget.parentElement.innerHTML='\n                                          <div style="\n                                            width: 32px;\n                                            height: 32px;\n                                            border-radius: 50%;\n                                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                                            display: flex;\n                                            align-items: center;\n                                            justify-content: center;\n                                            color: #ffffff;\n                                            font-size: 0.9rem;\n                                            font-weight: 600;\n                                          ">\n                                            '.concat(e.author.charAt(0).toUpperCase(),"\n                                          </div>\n                                        ")}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"0.9rem",fontWeight:600},children:e.author.charAt(0).toUpperCase()})}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("span",{style:{fontSize:"0.85rem",fontWeight:600,color:"#000000"},children:ie(e.author)}),(0,hy.jsxs)("span",{style:{fontSize:"0.75rem",color:"#64748b",marginLeft:"0.5rem"},children:[e.createdAt.toDate().toLocaleDateString()," at ",e.createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,hy.jsx)("p",{style:{fontSize:"0.9rem",color:"#374151",margin:"0 0 0 2.5rem",lineHeight:"1.4"},children:e.message})]},e.id))})]})]},e.id)})})]}),"hangout"===d&&(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h2",{style:{fontSize:window.innerWidth<=768?"1.5rem":"1.8rem",fontWeight:600,color:"#000000",margin:"0 0 1rem 0"},children:"\ud83c\udf89 Hangout"}),(0,hy.jsx)("p",{style:{fontSize:"0.95rem",color:"#64748b",margin:"0 0 2rem 0"},children:"Community activities, trips, meetings and real-time updates"}),(0,hy.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:[(0,hy.jsx)("button",{onClick:()=>Q("upcoming-trip"),style:{padding:"0.75rem 1.5rem",border:"upcoming-trip"===G?"none":"1px solid #e5e7eb",borderRadius:25,cursor:"pointer",fontSize:"0.9rem",fontWeight:500,transition:"all 0.2s ease",background:"upcoming-trip"===G?"#000000":"transparent",color:"upcoming-trip"===G?"#ffffff":"#64748b"},children:"\ud83d\ude90 Upcoming Trip"}),(0,hy.jsx)("button",{onClick:()=>Q("happening-now"),style:{padding:"0.75rem 1.5rem",border:"happening-now"===G?"none":"1px solid #e5e7eb",borderRadius:25,cursor:"pointer",fontSize:"0.9rem",fontWeight:500,transition:"all 0.2s ease",background:"happening-now"===G?"#000000":"transparent",color:"happening-now"===G?"#ffffff":"#64748b"},children:"\u26a1 Happening Now"}),(0,hy.jsx)("button",{onClick:()=>Q("meeting-minutes"),style:{padding:"0.75rem 1.5rem",border:"meeting-minutes"===G?"none":"1px solid #e5e7eb",borderRadius:25,cursor:"pointer",fontSize:"0.9rem",fontWeight:500,transition:"all 0.2s ease",background:"meeting-minutes"===G?"#000000":"transparent",color:"meeting-minutes"===G?"#ffffff":"#64748b"},children:"\ud83d\udcdd Meeting Minutes"})]}),"upcoming-trip"===G&&(0,hy.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:"2rem",textAlign:"center",color:"#64748b"},children:[(0,hy.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"\ufffd"}),(0,hy.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:600,color:"#000000",margin:"0 0 0.5rem 0"},children:"Upcoming Trip"}),(0,hy.jsx)("p",{style:{margin:0},children:"Trip planning, itineraries and travel coordination features coming soon!"})]}),"happening-now"===G&&(0,hy.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:"2rem",textAlign:"center",color:"#64748b"},children:[(0,hy.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"\u26a1"}),(0,hy.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:600,color:"#000000",margin:"0 0 0.5rem 0"},children:"Happening Now"}),(0,hy.jsx)("p",{style:{margin:0},children:"Real-time community activities and live updates feature coming soon!"})]}),"meeting-minutes"===G&&(0,hy.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:"2rem",textAlign:"center",color:"#64748b"},children:[(0,hy.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"\ud83d\udcdd"}),(0,hy.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:600,color:"#000000",margin:"0 0 0.5rem 0"},children:"Meeting Minutes"}),(0,hy.jsx)("p",{style:{margin:0},children:"Meeting records, decisions and action items tracking feature coming soon!"})]})]})]})})},Sy=()=>{var e,t,n;const i=me(),[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)({title:"",content:"",topic:""}),[v,b]=(0,r.useState)(!1),[w,S]=(0,r.useState)("all"),[k,x]=(0,r.useState)("topics");(0,r.useEffect)(()=>{const e=Wo(uy,e=>{s(e),l(!1),e||i("/")});return()=>e()},[i]);const E=[{id:"life",name:"\u0d1e\u0d19\u0d4d\u0d19\u0d33\u0d41\u0d1f\u0d46 \u0d24\u0d3e\u0d7c",description:"Personal experiences and life lessons",icon:"",color:"#000000"},{id:"travel",name:"\u0d15\u0d41\u0d31\u0d1a\u0d4d\u0d1a\u0d41 \u0d2f\u0d3e\u0d24\u0d4d\u0d30\u0d15\u0d7e",description:"Journey tales and travel experiences",icon:"",color:"#000000"},{id:"food",name:"\u0d15\u0d25\u0d3e\u0d2a\u0d3e\u0d24\u0d4d\u0d30\u0d19\u0d4d\u0d19\u0d7e",description:"Culinary experiences and cultural stories",icon:"",color:"#000000"},{id:"career",name:"\u0d24\u0d33\u0d4d\u0d33\u0d4d",description:"Professional growth and career stories",icon:"",color:"#000000"},{id:"family",name:"\u0d09\u0d02\u0d31\u0d15\u0d4d\u0d15\u0d4d \u0d2a\u0d4b\u0d2f\u0d35\u0d7c",description:"Stories about relationships and bonds",icon:"",color:"#000000"},{id:"kannappan",name:"\u0d15\u0d23\u0d4d\u0d23\u0d2a\u0d4d\u0d2a\u0d28\u0d4d\u0d31\u0d46 \u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d41\u0d21\u0d3f\u0d2f\u0d4b \u0d17\u0d3e\u0d30\u0d47\u0d1c\u0d4d",description:"Stories from Kannappan's Studio Garage",icon:"",color:"#000000"},{id:"powergroup",name:"\u0d2a\u0d35\u0d7c \u0d17\u0d4d\u0d30\u0d42\u0d2a\u0d4d\u0d2a\u0d4d \u0d13\u0d2b\u0d4d \u0d06\u0d36\u0d4d\u0d30\u0d2e\u0d02",description:"Power Group of Ashramam stories",icon:"",color:"#000000"},{id:"asifbar",name:"\u0d06\u0d38\u0d3f\u0d2b\u0d4d \u0d2c\u0d3e\u0d7c",description:"Stories from Asif Bar",icon:"",color:"#000000"},{id:"munthiriclub",name:"\u0d2e\u0d41\u0d28\u0d4d\u0d24\u0d3f\u0d30\u0d3f \u0d15\u0d4d\u0d32\u0d2c\u0d4d",description:"Munthiri Club stories and experiences",icon:"",color:"#000000"},{id:"shajipappan",name:"\u0d37\u0d3e\u0d1c\u0d3f \u0d2a\u0d3e\u0d2a\u0d4d\u0d2a\u0d7b",description:"Stories about Shaji Pappan",icon:"",color:"#000000"},{id:"teamsensorium",name:"\u0d1f\u0d40\u0d02 \u0d38\u0d46\u0d7b\u0d38\u0d4b\u0d31\u0d3f\u0d2f\u0d02",description:"Team Sensorium stories and projects",icon:"",color:"#000000"},{id:"editingsimham",name:"\u0d0e\u0d21\u0d3f\u0d31\u0d4d\u0d31\u0d3f\u0d02\u0d17\u0d4d \u0d38\u0d3f\u0d02\u0d39\u0d02",description:"Editing Simham stories and experiences",icon:"",color:"#000000"}];(0,r.useEffect)(()=>{a||(o?_():i("/"))},[o,i,a]);const _=async()=>{try{const e=Vg(tg(dy,"stories"),qg("createdAt","desc")),t=await iy(e),n=[];t.forEach(e=>{n.push(u({id:e.id},e.data()))}),d(n)}catch(e){console.error("Error fetching stories:",e)}finally{f(!1)}},C=()=>"all"===w?c:c.filter(e=>e.topic===w),T=()=>E.find(e=>e.id===w);return h?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#ffffff"},children:(0,hy.jsx)("div",{style:{color:"#374151",fontSize:"1.2rem"},children:"Loading stories..."})}):a?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,hy.jsxs)("div",{style:{textAlign:"center"},children:[(0,hy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,hy.jsx)("p",{children:"Checking authentication..."})]})}):o?(0,hy.jsx)("div",{style:{minHeight:"100vh",background:"#ffffff",padding:window.innerWidth<=768?"1rem 0.5rem":"2rem 1rem"},children:(0,hy.jsxs)("div",{style:{maxWidth:800,margin:"0 auto",padding:window.innerWidth<=768?"0 0.5rem":"0"},children:[(0,hy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:window.innerWidth<=768?"1.5rem":"2rem",marginBottom:window.innerWidth<=768?"1.5rem":"2rem",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:[(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",flexWrap:window.innerWidth<=480?"wrap":"nowrap",gap:window.innerWidth<=480?"0.5rem":"0"},children:[(0,hy.jsx)("button",{onClick:()=>{"stories"===k?(x("topics"),S("all")):i("/dashboard")},style:{background:"rgba(255,255,255,0.8)",border:"2px solid #e5e7eb",borderRadius:12,width:40,height:40,color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",transition:"all 0.2s ease"},children:"\u2190"}),(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Logo",style:{height:window.innerWidth<=768?36:48,order:window.innerWidth<=480?-1:0,width:window.innerWidth<=480?"100%":"auto",maxWidth:window.innerWidth<=480?"120px":"none",margin:window.innerWidth<=480?"0 auto 0.5rem auto":"0",flex:window.innerWidth<=480?"none":"0 0 auto"}}),(0,hy.jsx)("h1",{style:{fontSize:window.innerWidth<=768?"1.8rem":"2.2rem",fontWeight:700,margin:0,color:"#000000",textAlign:"center",flex:1,order:window.innerWidth<=480?1:0},children:"topics"===k?"Our Stories":null===(e=T())||void 0===e?void 0:e.name}),"stories"===k&&(0,hy.jsx)("button",{onClick:()=>m(!p),style:{background:"#000000",border:"none",borderRadius:8,padding:"8px 16px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,color:"#ffffff",transition:"all 0.2s ease",order:window.innerWidth<=480?2:0},children:p?"Cancel":"Add Story"}),"topics"===k&&(0,hy.jsx)("div",{style:{width:40}})]}),(0,hy.jsx)("p",{style:{fontSize:"1rem",color:"#64748b",margin:0,textAlign:"center"},children:"topics"===k?"Choose a topic to explore stories or share your own":(null===(t=T())||void 0===t?void 0:t.description)||"Share your stories in this topic"})]}),p&&(0,hy.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:window.innerWidth<=768?16:20,padding:window.innerWidth<=768?"1.5rem":"2rem",marginBottom:window.innerWidth<=768?"1.5rem":"2rem",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:[(0,hy.jsx)("h3",{style:{fontSize:"1.3rem",fontWeight:600,marginBottom:"1rem",color:"#000000"},children:"Share Your Story"}),(0,hy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&g.title.trim()&&g.content.trim()&&g.topic){b(!0);try{const e={title:g.title.trim(),content:g.content.trim(),topic:g.topic,author:o.displayName||"Anonymous User",authorEmail:o.email||"",createdAt:bl.now(),likes:0,likedBy:[]};await oy(ng(tg(dy,"stories")),e),y({title:"",content:"",topic:""}),m(!1),_()}catch(t){console.error("Error adding story:",t)}finally{b(!1)}}},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#374151"},children:"Topic Category"}),(0,hy.jsxs)("select",{value:g.topic,onChange:e=>y(u(u({},g),{},{topic:e.target.value})),style:{width:"100%",padding:"12px",borderRadius:8,border:"2px solid #e5e7eb",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",background:"#fff"},onFocus:e=>e.target.style.borderColor="#ff6b6b",onBlur:e=>e.target.style.borderColor="#e5e7eb",required:!0,children:[(0,hy.jsx)("option",{value:"",children:"Select a topic..."}),E.map(e=>(0,hy.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#374151"},children:"Story Title"}),(0,hy.jsx)("input",{type:"text",value:g.title,onChange:e=>y(u(u({},g),{},{title:e.target.value})),placeholder:"Give your story a catchy title...",style:{width:"100%",padding:"12px",borderRadius:8,border:"2px solid #e5e7eb",fontSize:"1rem",outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#ff6b6b",onBlur:e=>e.target.style.borderColor="#e5e7eb",required:!0})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#374151"},children:"Your Story"}),(0,hy.jsx)("textarea",{value:g.content,onChange:e=>y(u(u({},g),{},{content:e.target.value})),placeholder:"Tell us your story... Share your experiences, memories, or thoughts with the community.",rows:6,style:{width:"100%",padding:"12px",borderRadius:8,border:"2px solid #e5e7eb",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",resize:"vertical"},onFocus:e=>e.target.style.borderColor="#ff6b6b",onBlur:e=>e.target.style.borderColor="#e5e7eb",required:!0})]}),(0,hy.jsx)("button",{type:"submit",disabled:v||!g.title.trim()||!g.content.trim()||!g.topic,style:{background:v?"#9ca3af":"#000000",border:"none",borderRadius:8,padding:"12px 24px",cursor:!v&&g.title.trim()&&g.content.trim()&&g.topic?"pointer":"not-allowed",fontSize:"1rem",fontWeight:600,color:"#ffffff",transition:"all 0.2s ease",opacity:!v&&g.title.trim()&&g.content.trim()&&g.topic?1:.6},children:v?"Publishing...":"Publish Story"})]})]}),"topics"===k?(0,hy.jsx)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:"1rem"},children:E.slice(0,10).map(e=>(0,hy.jsxs)("div",{onClick:()=>{return t=e.id,S(t),x("stories"),void _();var t},style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:8,padding:window.innerWidth<=768?"1rem":"1.5rem",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center",minHeight:window.innerWidth<=768?"100px":"120px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f9fafb",e.currentTarget.style.borderColor="#d1d5db"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.borderColor="#e5e7eb"},children:[(0,hy.jsx)("h3",{style:{fontSize:window.innerWidth<=768?"0.9rem":"1rem",fontWeight:600,margin:"0 0 0.5rem 0",color:"#000000",lineHeight:"1.3"},children:e.name}),(0,hy.jsxs)("span",{style:{fontSize:window.innerWidth<=768?"0.8rem":"0.85rem",color:"#6b7280",fontWeight:500},children:[c.filter(t=>t.topic===e.id).length," stories"]})]},e.id))}):0===C().length?(0,hy.jsxs)("div",{style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:8,padding:"2rem",textAlign:"center"},children:[(0,hy.jsx)("h3",{style:{fontSize:"1.2rem",fontWeight:600,color:"#000000",marginBottom:"0.5rem"},children:null===(n=T())||void 0===n?void 0:n.name}),(0,hy.jsx)("p",{style:{fontSize:"1rem",color:"#6b7280",marginBottom:"1.5rem"},children:"Story will be published shortly."}),(0,hy.jsx)("button",{onClick:()=>m(!0),style:{background:"#000000",border:"none",borderRadius:8,padding:"10px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,color:"#ffffff"},children:"Add Story"})]}):(0,hy.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:C().map(e=>(0,hy.jsx)("div",{style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:8,padding:"1rem",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f9fafb",e.currentTarget.style.borderColor="#d1d5db"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.borderColor="#e5e7eb"},children:(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:600,margin:"0 0 0.25rem 0",color:"#000000"},children:e.title}),(0,hy.jsxs)("div",{style:{fontSize:"0.85rem",color:"#6b7280"},children:["By ",e.author," \u2022 ",e.createdAt.toDate().toLocaleDateString()]})]}),(0,hy.jsxs)("button",{onClick:()=>(async e=>{if(o)try{const t=c.find(t=>t.id===e);if(!t)return;const n=t.likedBy.includes(o.uid)?t.likedBy.filter(e=>e!==o.uid):[...t.likedBy,o.uid];await oy(ng(dy,"stories",e),u(u({},t),{},{likes:n.length,likedBy:n}),{merge:!0}),_()}catch(t){console.error("Error liking story:",t)}})(e.id),style:{background:e.likedBy.includes((null===o||void 0===o?void 0:o.uid)||"")?"#000000":"transparent",border:"1px solid #000000",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,color:e.likedBy.includes((null===o||void 0===o?void 0:o.uid)||"")?"#ffffff":"#000000",transition:"all 0.2s ease"},children:["\u2665 ",e.likes]})]})},e.id))})]})}):null},ky=e=>{let{isOpen:t,imageSrc:n,userName:r,onClose:i}=e;return t&&n?(0,hy.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"2rem",cursor:"pointer"},onClick:i,children:(0,hy.jsxs)("div",{style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",backgroundColor:"#ffffff",borderRadius:"1rem",padding:"1rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[(0,hy.jsx)("button",{onClick:i,style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(0, 0, 0, 0.5)",color:"#ffffff",border:"none",borderRadius:"50%",width:"2rem",height:"2rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem",fontWeight:"bold",zIndex:1},children:"\u2715"}),(0,hy.jsx)("img",{src:n,alt:r,style:{maxWidth:"400px",maxHeight:"400px",width:"auto",height:"auto",borderRadius:"0.5rem",objectFit:"cover"},onClick:e=>e.stopPropagation()}),(0,hy.jsx)("p",{style:{textAlign:"center",marginTop:"0.5rem",fontSize:"1rem",fontWeight:600,color:"#000000"},children:r})]})}):null},xy=(e,t)=>{const n={"raimu456@gmail.com":"/raimu.jpg","hyder.mohamed@gmail.com":"/hyder.JPG","mzmhmd@gmail.com":"/bruno.png","nias.ahamad@gmail.com":"/nias.jpg","mshanir@gmail.com":"/shanir.jpeg","niaznasu@gmail.com":"/niaz.jpeg","riaz986@gmail.com":"/riaz","anaskallur@gmail.com":"/anas.jpg","mailmohasinali@gmail.com":"/appan.JPG"};return console.log("Residents - Profile picture check:",{email:e.toLowerCase(),name:t,hasMapping:!!n[e.toLowerCase()]}),n[e.toLowerCase()]?n[e.toLowerCase()]:null},Ey=e=>{let{user:t,onClose:n,onImageClick:r}=e;return t?(0,hy.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,hy.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid #e5e7eb"},children:[(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,hy.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:"Profile Information"}),(0,hy.jsx)("button",{onClick:n,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#64748b"},children:"\u2715"})]}),(0,hy.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[(0,hy.jsxs)("div",{style:{width:80,height:80,borderRadius:"50%",marginRight:"1rem",overflow:"hidden",position:"relative",cursor:xy(t.email,t.name)?"pointer":"default"},onMouseOver:e=>{if(xy(t.email,t.name)){const t=e.currentTarget.querySelector(".zoom-overlay");t&&(t.style.opacity="1")}},onMouseOut:e=>{const t=e.currentTarget.querySelector(".zoom-overlay");t&&(t.style.opacity="0")},children:[xy(t.email,t.name)?(0,hy.jsx)("img",{src:xy(t.email,t.name),alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",transition:"transform 0.2s ease, opacity 0.2s ease"},onClick:e=>r(xy(t.email,t.name),t.name,e),onMouseOver:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.opacity="0.9"},onMouseOut:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.opacity="1"},onError:e=>{const n=e.target;n.style.display="none";const r=n.parentElement;r&&(r.innerHTML='\n                      <div style="\n                        width: 100%;\n                        height: 100%;\n                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        color: white;\n                        font-size: 2rem;\n                        font-weight: 600;\n                      ">\n                        '.concat(t.name.charAt(0).toUpperCase(),"\n                      </div>\n                    "))}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"2rem",fontWeight:600},children:t.name.charAt(0).toUpperCase()}),xy(t.email,t.name)&&(0,hy.jsx)("div",{className:"zoom-overlay",style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",opacity:0,transition:"opacity 0.2s ease",pointerEvents:"none"},children:(0,hy.jsx)("div",{style:{color:"#ffffff",fontSize:"1.5rem",fontWeight:"bold"},children:"\ud83d\udd0d"})})]}),(0,hy.jsxs)("div",{children:[(0,hy.jsx)("h3",{style:{fontSize:"1.3rem",fontWeight:600,color:"#000000",margin:0,marginBottom:"0.25rem"},children:t.name}),(0,hy.jsx)("p",{style:{fontSize:"0.9rem",color:"#64748b",margin:0},children:t.city&&t.country?"".concat(t.city,", ").concat(t.country):t.email})]})]}),(0,hy.jsxs)("div",{style:{color:"#374151",lineHeight:"1.6"},children:[t.bio&&(0,hy.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,hy.jsx)("h4",{style:{color:"#111827",marginBottom:"0.5rem",fontSize:"1rem"},children:"Bio:"}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.95rem"},children:t.bio})]}),t.intellectual&&(0,hy.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,hy.jsx)("h4",{style:{color:"#111827",marginBottom:"0.5rem",fontSize:"1rem"},children:"\u0d2c\u0d41\u0d26\u0d4d\u0d27\u0d3f\u0d1c\u0d40\u0d35\u0d3f \u0d06\u0d23\u0d4b?"}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.95rem"},children:t.intellectual})]}),t.umrah&&(0,hy.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,hy.jsx)("h4",{style:{color:"#111827",marginBottom:"0.5rem",fontSize:"1rem"},children:"\u0d09\u0d02\u0d31 \u0d1a\u0d46\u0d2f\u0d4d\u0d24\u0d3f\u0d1f\u0d4d\u0d1f\u0d41\u0d23\u0d4d\u0d1f\u0d4b:"}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.95rem"},children:t.umrah})]}),t.funLover&&(0,hy.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,hy.jsx)("h4",{style:{color:"#111827",marginBottom:"0.5rem",fontSize:"1rem"},children:"\u0d09\u0d32\u0d4d\u0d32\u0d3e\u0d38\u0d02 \u0d07\u0d37\u0d4d\u0d1f\u0d2e\u0d3e\u0d23\u0d4b?"}),(0,hy.jsx)("p",{style:{margin:0,fontSize:"0.95rem"},children:t.funLover})]}),(0,hy.jsx)("div",{style:{backgroundColor:"#f3f4f6",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem",border:"1px solid #d1d5db"},children:(0,hy.jsxs)("p",{style:{margin:0,fontSize:"0.9rem",color:"#6b7280"},children:[(0,hy.jsx)("strong",{children:"Profile Completion:"})," ",t.profileCompletion||0,"%"]})})]})]})}):null},_y=()=>{const e=me(),[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{const t=Wo(uy,t=>{n(t),o(!1),t||e("/")});return()=>t()},[e]);const[g,y]=(0,r.useState)("");(0,r.useEffect)(()=>{if(i)return;if(!t)return void e("/");(async()=>{c(!0);try{const e=tg(dy,"pendingUsers"),t=await iy(e),n=[];for(const r of t.docs){const e=r.data();if(e.approved){const t=ng(dy,"profiles",e.uid),r=await ny(t);let i={};r.exists()&&(i=r.data()),n.push({uid:e.uid,email:e.email,name:i.name||e.email.split("@")[0],bio:i.bio||"",city:i.city||"",country:i.country||"",profileCompletion:i.profileCompletion||0,intellectual:i.intellectual||"",umrah:i.umrah||"",funLover:i.funLover||""})}}n.sort((e,t)=>e.name.localeCompare(t.name)),a(n)}catch(e){console.error("Error fetching residents:",e)}finally{c(!1)}})()},[t,e,i]);return l?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,hy.jsxs)("div",{style:{textAlign:"center"},children:[(0,hy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,hy.jsx)("p",{children:"Loading residents..."})]})}):i?(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,hy.jsxs)("div",{style:{textAlign:"center"},children:[(0,hy.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\u23f3"}),(0,hy.jsx)("p",{children:"Checking authentication..."})]})}):t?(0,hy.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",padding:"1rem 0"},children:[(0,hy.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:window.innerWidth<=768?"1rem":"2rem",background:"#fff",borderRadius:window.innerWidth<=768?12:16,boxShadow:"0 2px 16px rgba(0,0,0,0.10)",minHeight:window.innerWidth<=768?"calc(100vh - 2rem)":"auto"},children:[(0,hy.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:window.innerWidth<=768?16:24,flexWrap:window.innerWidth<=480?"wrap":"nowrap",gap:window.innerWidth<=480?"0.5rem":"0"},children:[(0,hy.jsx)("img",{src:"/newlogo.svg",alt:"Logo",style:{height:window.innerWidth<=768?36:48,order:window.innerWidth<=480?-1:0,width:window.innerWidth<=480?"100%":"auto",maxWidth:window.innerWidth<=480?"120px":"none",margin:window.innerWidth<=480?"0 auto 0.5rem auto":"0"}}),(0,hy.jsxs)("div",{style:{display:"flex",gap:window.innerWidth<=768?"0.5rem":"1rem",flexWrap:window.innerWidth<=480?"wrap":"nowrap",justifyContent:window.innerWidth<=480?"center":"flex-end",width:window.innerWidth<=480?"100%":"auto"},children:[(0,hy.jsx)("button",{onClick:()=>{e("/dashboard")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\ud83c\udfe0 Dashboard"}),(0,hy.jsx)("button",{onClick:()=>{e("/stories")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\ud83d\udcda Stories"}),(0,hy.jsx)("button",{onClick:()=>{e("/profile")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\ud83d\udc64 Profile"}),(0,hy.jsx)("button",{onClick:()=>{e("/account")},style:{background:"#ffffff",color:"#000000",border:"1px solid #e5e7eb",borderRadius:10,padding:window.innerWidth<=768?"6px 12px":"8px 16px",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"fit-content"},children:"\u2699\ufe0f Account"})]})]}),(0,hy.jsx)("h1",{style:{fontSize:window.innerWidth<=768?"1.6rem":"2rem",fontWeight:700,marginBottom:"1rem",color:"#000000",textAlign:"center"},children:"\ud83c\udfe0 \u0d06\u0d36\u0d4d\u0d30\u0d2e \u0d28\u0d3f\u0d35\u0d3e\u0d38\u0d3f\u0d15\u0d7e"}),(0,hy.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:(0,hy.jsx)("img",{src:"".concat("","/muthalali.jpeg"),alt:"Muthalali",style:{width:(window.innerWidth,"100%"),maxWidth:window.innerWidth<=768?"350px":"500px",height:"auto",borderRadius:"12px",objectFit:"contain",border:"3px solid #e5e7eb",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"transform 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.02)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)"})}),0===s.length?(0,hy.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,hy.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem",opacity:.3},children:"\ud83d\udc65"}),(0,hy.jsx)("h3",{style:{color:"#64748b",fontSize:"1.1rem"},children:"No residents found"}),(0,hy.jsx)("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Approved users will appear here"})]}):(0,hy.jsx)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(auto-fit, minmax(150px, 1fr))":"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",justifyItems:"center"},children:s.map(e=>(0,hy.jsxs)("div",{onClick:()=>d(e),style:{background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:12,padding:"1.5rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",textAlign:"center",width:"100%",maxWidth:"200px"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.15)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)"},children:[(0,hy.jsx)("div",{style:{width:60,height:60,borderRadius:"50%",margin:"0 auto 1rem auto",overflow:"hidden",position:"relative"},children:xy(e.email,e.name)?(0,hy.jsx)("img",{src:xy(e.email,e.name),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:t=>{const n=t.target;n.style.display="none";const r=n.parentElement;r&&(r.innerHTML='\n                            <div style="\n                              width: 100%;\n                              height: 100%;\n                              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                              display: flex;\n                              align-items: center;\n                              justify-content: center;\n                              color: white;\n                              font-size: 1.5rem;\n                              font-weight: 600;\n                            ">\n                              '.concat(e.name.charAt(0).toUpperCase(),"\n                            </div>\n                          "))}}):(0,hy.jsx)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"1.5rem",fontWeight:600},children:e.name.charAt(0).toUpperCase()})}),(0,hy.jsx)("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#000000",margin:0,marginBottom:"0.5rem"},children:e.name}),(0,hy.jsx)("p",{style:{fontSize:"0.8rem",color:"#64748b",margin:0,marginBottom:"0.75rem"},children:e.city&&e.country?"".concat(e.city,", ").concat(e.country):e.email.split("@")[0]}),(0,hy.jsxs)("div",{style:{fontSize:"0.75rem",color:"#64748b",padding:"0.25rem 0.5rem",backgroundColor:"#f8fafc",borderRadius:"12px",display:"inline-block"},children:[e.profileCompletion,"% complete"]})]},e.uid))})]}),(0,hy.jsx)(Ey,{user:u,onClose:()=>d(null),onImageClick:(e,t,n)=>{n.stopPropagation(),m(e),y(t),f(!0)}}),(0,hy.jsx)(ky,{isOpen:h,imageSrc:p,userName:g,onClose:()=>{f(!1),m(null),y("")}})]}):null};const Cy=function(){const[e,t]=r.useState(!1);return r.useEffect(()=>{const e=e=>{console.error("PWA Error:",e),t(!0)},n=e=>{console.error("PWA Unhandled Promise Rejection:",e),t(!0)};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",n),console.log("App starting - PWA mode:",window.matchMedia("(display-mode: standalone)").matches),console.log("App starting - Location:",window.location.href),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",n)}},[]),e?(0,hy.jsxs)("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"system-ui, sans-serif",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#f8f9fa"},children:[(0,hy.jsx)("h1",{style:{color:"#dc3545",marginBottom:"1rem"},children:"\u26a0\ufe0f App Error"}),(0,hy.jsx)("p",{style:{color:"#6c757d",marginBottom:"2rem"},children:"Something went wrong. Please try refreshing the app."}),(0,hy.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.375rem",cursor:"pointer",fontSize:"1rem"},children:"\ud83d\udd04 Refresh App"})]}):(0,hy.jsx)(ft,{basename:"",children:(0,hy.jsxs)(Oe,{children:[(0,hy.jsx)(Pe,{path:"/",element:(0,hy.jsx)(py,{})}),(0,hy.jsx)(Pe,{path:"/admin",element:(0,hy.jsx)(my,{})}),(0,hy.jsx)(Pe,{path:"/account",element:(0,hy.jsx)(gy,{})}),(0,hy.jsx)(Pe,{path:"/profile",element:(0,hy.jsx)(vy,{})}),(0,hy.jsx)(Pe,{path:"/dashboard",element:(0,hy.jsx)(wy,{})}),(0,hy.jsx)(Pe,{path:"/stories",element:(0,hy.jsx)(Sy,{})}),(0,hy.jsx)(Pe,{path:"/residents",element:(0,hy.jsx)(_y,{})})]})})},Ty=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,hy.jsx)(r.StrictMode,{children:(0,hy.jsx)(Cy,{})})),setTimeout(()=>{const e=document.getElementById("loading-screen");e&&(e.style.display="none")},500),Ty()})();
//# sourceMappingURL=main.ecd93b86.js.map